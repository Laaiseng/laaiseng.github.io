var spine,__extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}();!function(X){var W,t,m,e,n,i,_=(r.prototype.apply=function(t,e,n,i,r,s,a,o){if(null==t)throw new Error("skeleton cannot be null.");i&&0!=this.duration&&(n%=this.duration,0<e&&(e%=this.duration));for(var h=this.timelines,l=0,c=h.length;l<c;l++)h[l].apply(t,e,n,r,s,a,o)},r.binarySearch=function(t,e,n){void 0===n&&(n=1);var i=0,r=t.length/n-2;if(0==r)return n;for(var s=r>>>1;;){if(t[(s+1)*n]<=e?i=s+1:r=s,i==r)return(i+1)*n;s=i+r>>>1}},r.linearSearch=function(t,e,n){for(var i=0,r=t.length-n;i<=r;i+=n)if(t[i]>e)return i;return-1},r);function r(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.duration=n}X.Animation=_,(t=W=X.MixBlend||(X.MixBlend={}))[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add",(e=m=X.MixDirection||(X.MixDirection={}))[e.mixIn=0]="mixIn",e[e.mixOut=1]="mixOut",(i=n=X.TimelineType||(X.TimelineType={}))[i.rotate=0]="rotate",i[i.translate=1]="translate",i[i.scale=2]="scale",i[i.shear=3]="shear",i[i.attachment=4]="attachment",i[i.color=5]="color",i[i.deform=6]="deform",i[i.event=7]="event",i[i.drawOrder=8]="drawOrder",i[i.ikConstraint=9]="ikConstraint",i[i.transformConstraint=10]="transformConstraint",i[i.pathConstraintPosition=11]="pathConstraintPosition",i[i.pathConstraintSpacing=12]="pathConstraintSpacing",i[i.pathConstraintMix=13]="pathConstraintMix",i[i.twoColor=14]="twoColor";var s=(v.prototype.getFrameCount=function(){return this.curves.length/v.BEZIER_SIZE+1},v.prototype.setLinear=function(t){this.curves[t*v.BEZIER_SIZE]=v.LINEAR},v.prototype.setStepped=function(t){this.curves[t*v.BEZIER_SIZE]=v.STEPPED},v.prototype.getCurveType=function(t){var e=t*v.BEZIER_SIZE;if(e==this.curves.length)return v.LINEAR;var n=this.curves[e];return n==v.LINEAR?v.LINEAR:n==v.STEPPED?v.STEPPED:v.BEZIER},v.prototype.setCurve=function(t,e,n,i,r){var s=.03*(2*-e+i),a=.03*(2*-n+r),o=.006*(3*(e-i)+1),h=.006*(3*(n-r)+1),l=2*s+o,c=2*a+h,d=.3*e+s+.16666667*o,u=.3*n+a+.16666667*h,p=t*v.BEZIER_SIZE,f=this.curves;f[p++]=v.BEZIER;for(var g=d,m=u,M=p+v.BEZIER_SIZE-1;p<M;p+=2)f[p]=g,f[p+1]=m,d+=l,u+=c,l+=o,c+=h,g+=d,m+=u},v.prototype.getCurvePercent=function(t,e){e=X.MathUtils.clamp(e,0,1);var n=this.curves,i=t*v.BEZIER_SIZE,r=n[i];if(r==v.LINEAR)return e;if(r==v.STEPPED)return 0;for(var s=0,a=++i,o=i+v.BEZIER_SIZE-1;i<o;i+=2)if(e<=(s=n[i])){var h=void 0,l=void 0;return(l=i==a?h=0:(h=n[i-2],n[i-1]))+(n[i+1]-l)*(e-h)/(s-h)}var c=n[i-1];return c+(1-c)*(e-s)/(1-s)},v.LINEAR=0,v.STEPPED=1,v.BEZIER=2,v.BEZIER_SIZE=19,v);function v(t){if(t<=0)throw new Error("frameCount must be > 0: "+t);this.curves=X.Utils.newFloatArray((t-1)*v.BEZIER_SIZE)}X.CurveTimeline=s;var a,o=(__extends(M,a=s),M.prototype.getPropertyId=function(){return(n.rotate<<24)+this.boneIndex},M.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+M.ROTATION]=n},M.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return void(h.rotation=h.data.rotation);case W.first:var l=h.data.rotation-h.rotation;h.rotation+=(l-360*(16384-(16384.499999999996-l/360|0)))*r}else if(n>=o[o.length-M.ENTRIES]){var c=o[o.length+M.PREV_ROTATION];switch(s){case W.setup:h.rotation=h.data.rotation+c*r;break;case W.first:case W.replace:c+=h.data.rotation-h.rotation,c-=360*(16384-(16384.499999999996-c/360|0));case W.add:h.rotation+=c*r}}else{var d=_.binarySearch(o,n,M.ENTRIES),u=o[d+M.PREV_ROTATION],p=o[d],f=this.getCurvePercent((d>>1)-1,1-(n-p)/(o[d+M.PREV_TIME]-p)),g=u+((g=o[d+M.ROTATION]-u)-360*(16384-(16384.499999999996-g/360|0)))*f;switch(s){case W.setup:h.rotation=h.data.rotation+(g-360*(16384-(16384.499999999996-g/360|0)))*r;break;case W.first:case W.replace:g+=h.data.rotation-h.rotation;case W.add:h.rotation+=(g-360*(16384-(16384.499999999996-g/360|0)))*r}}},M.ENTRIES=2,M.PREV_TIME=-2,M.PREV_ROTATION=-1,M.ROTATION=1,M);function M(t){var e=a.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t<<1),e}X.RotateTimeline=o;var h,l=(__extends(f,h=s),f.prototype.getPropertyId=function(){return(n.translate<<24)+this.boneIndex},f.prototype.setFrame=function(t,e,n,i){t*=f.ENTRIES,this.frames[t]=e,this.frames[t+f.X]=n,this.frames[t+f.Y]=i},f.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return h.x=h.data.x,void(h.y=h.data.y);case W.first:h.x+=(h.data.x-h.x)*r,h.y+=(h.data.y-h.y)*r}else{var l,c,d,u=0,p=0;switch(n>=o[o.length-f.ENTRIES]?(u=o[o.length+f.PREV_X],p=o[o.length+f.PREV_Y]):(u=o[(l=_.binarySearch(o,n,f.ENTRIES))+f.PREV_X],p=o[l+f.PREV_Y],c=o[l],d=this.getCurvePercent(l/f.ENTRIES-1,1-(n-c)/(o[l+f.PREV_TIME]-c)),u+=(o[l+f.X]-u)*d,p+=(o[l+f.Y]-p)*d),s){case W.setup:h.x=h.data.x+u*r,h.y=h.data.y+p*r;break;case W.first:case W.replace:h.x+=(h.data.x+u-h.x)*r,h.y+=(h.data.y+p-h.y)*r;break;case W.add:h.x+=u*r,h.y+=p*r}}},f.ENTRIES=3,f.PREV_TIME=-3,f.PREV_X=-2,f.PREV_Y=-1,f.X=1,f.Y=2,f);function f(t){var e=h.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*f.ENTRIES),e}X.TranslateTimeline=l;var c,d=(__extends(y,c=l),y.prototype.getPropertyId=function(){return(n.scale<<24)+this.boneIndex},y.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return h.scaleX=h.data.scaleX,void(h.scaleY=h.data.scaleY);case W.first:h.scaleX+=(h.data.scaleX-h.scaleX)*r,h.scaleY+=(h.data.scaleY-h.scaleY)*r}else{var l,c,d,u=0,p=0;if(p=n>=o[o.length-y.ENTRIES]?(u=o[o.length+y.PREV_X]*h.data.scaleX,o[o.length+y.PREV_Y]*h.data.scaleY):(u=o[(l=_.binarySearch(o,n,y.ENTRIES))+y.PREV_X],p=o[l+y.PREV_Y],c=o[l],d=this.getCurvePercent(l/y.ENTRIES-1,1-(n-c)/(o[l+y.PREV_TIME]-c)),u=(u+(o[l+y.X]-u)*d)*h.data.scaleX,(p+(o[l+y.Y]-p)*d)*h.data.scaleY),1==r)s==W.add?(h.scaleX+=u-h.data.scaleX,h.scaleY+=p-h.data.scaleY):(h.scaleX=u,h.scaleY=p);else{var f=0,g=0;if(a==m.mixOut)switch(s){case W.setup:f=h.data.scaleX,g=h.data.scaleY,h.scaleX=f+(Math.abs(u)*X.MathUtils.signum(f)-f)*r,h.scaleY=g+(Math.abs(p)*X.MathUtils.signum(g)-g)*r;break;case W.first:case W.replace:f=h.scaleX,g=h.scaleY,h.scaleX=f+(Math.abs(u)*X.MathUtils.signum(f)-f)*r,h.scaleY=g+(Math.abs(p)*X.MathUtils.signum(g)-g)*r;break;case W.add:f=h.scaleX,g=h.scaleY,h.scaleX=f+(Math.abs(u)*X.MathUtils.signum(f)-h.data.scaleX)*r,h.scaleY=g+(Math.abs(p)*X.MathUtils.signum(g)-h.data.scaleY)*r}else switch(s){case W.setup:f=Math.abs(h.data.scaleX)*X.MathUtils.signum(u),g=Math.abs(h.data.scaleY)*X.MathUtils.signum(p),h.scaleX=f+(u-f)*r,h.scaleY=g+(p-g)*r;break;case W.first:case W.replace:f=Math.abs(h.scaleX)*X.MathUtils.signum(u),g=Math.abs(h.scaleY)*X.MathUtils.signum(p),h.scaleX=f+(u-f)*r,h.scaleY=g+(p-g)*r;break;case W.add:f=X.MathUtils.signum(u),g=X.MathUtils.signum(p),h.scaleX=Math.abs(h.scaleX)*f+(u-Math.abs(h.data.scaleX)*f)*r,h.scaleY=Math.abs(h.scaleY)*g+(p-Math.abs(h.data.scaleY)*g)*r}}}},y);function y(t){return c.call(this,t)||this}X.ScaleTimeline=d;var u,p=(__extends(g,u=l),g.prototype.getPropertyId=function(){return(n.shear<<24)+this.boneIndex},g.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.bones[this.boneIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case W.first:h.shearX+=(h.data.shearX-h.shearX)*r,h.shearY+=(h.data.shearY-h.shearY)*r}else{var l,c,d,u=0,p=0;switch(n>=o[o.length-g.ENTRIES]?(u=o[o.length+g.PREV_X],p=o[o.length+g.PREV_Y]):(u=o[(l=_.binarySearch(o,n,g.ENTRIES))+g.PREV_X],p=o[l+g.PREV_Y],c=o[l],d=this.getCurvePercent(l/g.ENTRIES-1,1-(n-c)/(o[l+g.PREV_TIME]-c)),u+=(o[l+g.X]-u)*d,p+=(o[l+g.Y]-p)*d),s){case W.setup:h.shearX=h.data.shearX+u*r,h.shearY=h.data.shearY+p*r;break;case W.first:case W.replace:h.shearX+=(h.data.shearX+u-h.shearX)*r,h.shearY+=(h.data.shearY+p-h.shearY)*r;break;case W.add:h.shearX+=u*r,h.shearY+=p*r}}},g);function g(t){return u.call(this,t)||this}X.ShearTimeline=p;var w,x=(__extends(b,w=s),b.prototype.getPropertyId=function(){return(n.color<<24)+this.slotIndex},b.prototype.setFrame=function(t,e,n,i,r,s){t*=b.ENTRIES,this.frames[t]=e,this.frames[t+b.R]=n,this.frames[t+b.G]=i,this.frames[t+b.B]=r,this.frames[t+b.A]=s},b.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames;if(n<h[0])switch(s){case W.setup:return void o.color.setFromColor(o.data.color);case W.first:var l=o.color,c=o.data.color;l.add((c.r-l.r)*r,(c.g-l.g)*r,(c.b-l.b)*r,(c.a-l.a)*r)}else{var d,u,p,f,g=0,m=0,M=0,v=0;n>=h[h.length-b.ENTRIES]?(g=h[(d=h.length)+b.PREV_R],m=h[d+b.PREV_G],M=h[d+b.PREV_B],v=h[d+b.PREV_A]):(g=h[(u=_.binarySearch(h,n,b.ENTRIES))+b.PREV_R],m=h[u+b.PREV_G],M=h[u+b.PREV_B],v=h[u+b.PREV_A],p=h[u],f=this.getCurvePercent(u/b.ENTRIES-1,1-(n-p)/(h[u+b.PREV_TIME]-p)),g+=(h[u+b.R]-g)*f,m+=(h[u+b.G]-m)*f,M+=(h[u+b.B]-M)*f,v+=(h[u+b.A]-v)*f),1==r?o.color.set(g,m,M,v):(l=o.color,s==W.setup&&l.setFromColor(o.data.color),l.add((g-l.r)*r,(m-l.g)*r,(M-l.b)*r,(v-l.a)*r))}}},b.ENTRIES=5,b.PREV_TIME=-5,b.PREV_R=-4,b.PREV_G=-3,b.PREV_B=-2,b.PREV_A=-1,b.R=1,b.G=2,b.B=3,b.A=4,b);function b(t){var e=w.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*b.ENTRIES),e}X.ColorTimeline=x;var A,E=(__extends(T,A=s),T.prototype.getPropertyId=function(){return(n.twoColor<<24)+this.slotIndex},T.prototype.setFrame=function(t,e,n,i,r,s,a,o,h){t*=T.ENTRIES,this.frames[t]=e,this.frames[t+T.R]=n,this.frames[t+T.G]=i,this.frames[t+T.B]=r,this.frames[t+T.A]=s,this.frames[t+T.R2]=a,this.frames[t+T.G2]=o,this.frames[t+T.B2]=h},T.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex];if(o.bone.active){var h=this.frames;if(n<h[0])switch(s){case W.setup:return o.color.setFromColor(o.data.color),void o.darkColor.setFromColor(o.data.darkColor);case W.first:var l=o.color,c=o.darkColor,d=o.data.color,u=o.data.darkColor;l.add((d.r-l.r)*r,(d.g-l.g)*r,(d.b-l.b)*r,(d.a-l.a)*r),c.add((u.r-c.r)*r,(u.g-c.g)*r,(u.b-c.b)*r,0)}else{var p,f,g,m,M=0,v=0,y=0,w=0,x=0,b=0,A=0;n>=h[h.length-T.ENTRIES]?(M=h[(p=h.length)+T.PREV_R],v=h[p+T.PREV_G],y=h[p+T.PREV_B],w=h[p+T.PREV_A],x=h[p+T.PREV_R2],b=h[p+T.PREV_G2],A=h[p+T.PREV_B2]):(M=h[(f=_.binarySearch(h,n,T.ENTRIES))+T.PREV_R],v=h[f+T.PREV_G],y=h[f+T.PREV_B],w=h[f+T.PREV_A],x=h[f+T.PREV_R2],b=h[f+T.PREV_G2],A=h[f+T.PREV_B2],g=h[f],m=this.getCurvePercent(f/T.ENTRIES-1,1-(n-g)/(h[f+T.PREV_TIME]-g)),M+=(h[f+T.R]-M)*m,v+=(h[f+T.G]-v)*m,y+=(h[f+T.B]-y)*m,w+=(h[f+T.A]-w)*m,x+=(h[f+T.R2]-x)*m,b+=(h[f+T.G2]-b)*m,A+=(h[f+T.B2]-A)*m),1==r?(o.color.set(M,v,y,w),o.darkColor.set(x,b,A,1)):(l=o.color,c=o.darkColor,s==W.setup&&(l.setFromColor(o.data.color),c.setFromColor(o.data.darkColor)),l.add((M-l.r)*r,(v-l.g)*r,(y-l.b)*r,(w-l.a)*r),c.add((x-c.r)*r,(b-c.g)*r,(A-c.b)*r,0))}}},T.ENTRIES=8,T.PREV_TIME=-8,T.PREV_R=-7,T.PREV_G=-6,T.PREV_B=-5,T.PREV_A=-4,T.PREV_R2=-3,T.PREV_G2=-2,T.PREV_B2=-1,T.R=1,T.G=2,T.B=3,T.A=4,T.R2=5,T.G2=6,T.B2=7,T);function T(t){var e=A.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*T.ENTRIES),e}X.TwoColorTimeline=E;var R=(S.prototype.getPropertyId=function(){return(n.attachment<<24)+this.slotIndex},S.prototype.getFrameCount=function(){return this.frames.length},S.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},S.prototype.apply=function(t,e,n,i,r,s,a){var o,h,l,c,d,u=t.slots[this.slotIndex];u.bone.active&&(a!=m.mixOut||s!=W.setup?n<(o=this.frames)[0]?s!=W.setup&&s!=W.first||(h=u.data.attachmentName,u.setAttachment(null==h?null:t.getAttachment(this.slotIndex,h))):(l=0,l=n>=o[o.length-1]?o.length-1:_.binarySearch(o,n,1)-1,c=this.attachmentNames[l],t.slots[this.slotIndex].setAttachment(null==c?null:t.getAttachment(this.slotIndex,c))):(d=u.data.attachmentName,u.setAttachment(null==d?null:t.getAttachment(this.slotIndex,d))))},S);function S(t){this.frames=X.Utils.newFloatArray(t),this.attachmentNames=new Array(t)}X.AttachmentTimeline=R;var I,C=null,k=(__extends(V,I=s),V.prototype.getPropertyId=function(){return(n.deform<<27)+ +this.attachment.id+this.slotIndex},V.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},V.prototype.apply=function(t,e,n,i,r,s,a){var o=t.slots[this.slotIndex];if(o.bone.active){var h=o.getAttachment();if(h instanceof X.VertexAttachment&&h.deformAttachment==this.attachment){var l=o.deform;0==l.length&&(s=W.setup);var c=this.frameVertices,d=c[0].length,u=this.frames;if(n<u[0]){var p=h;switch(s){case W.setup:return void(l.length=0);case W.first:if(1==r){l.length=0;break}var f=X.Utils.setArraySize(l,d);if(null==p.bones)for(var g=p.vertices,m=0;m<d;m++)f[m]+=(g[m]-f[m])*r;else for(r=1-r,m=0;m<d;m++)f[m]*=r}}else{var M=X.Utils.setArraySize(l,d);if(n>=u[u.length-1]){var v=c[u.length-1];if(1==r)if(s==W.add)if(null==(p=h).bones)for(var g=p.vertices,y=0;y<d;y++)M[y]+=v[y]-g[y];else for(var w=0;w<d;w++)M[w]+=v[w];else X.Utils.arrayCopy(v,0,M,0,d);else switch(s){case W.setup:if(null==h.bones)for(var g=h.vertices,x=0;x<d;x++){var b=g[x];M[x]=b+(v[x]-b)*r}else for(var A=0;A<d;A++)M[A]=v[A]*r;break;case W.first:case W.replace:for(var E=0;E<d;E++)M[E]+=(v[E]-M[E])*r;case W.add:if(null==(p=h).bones)for(var g=p.vertices,T=0;T<d;T++)M[T]+=(v[T]-g[T])*r;else for(var R=0;R<d;R++)M[R]+=v[R]*r}}else{var S=_.binarySearch(u,n),I=c[S-1],C=c[S],k=u[S],V=this.getCurvePercent(S-1,1-(n-k)/(u[S-1]-k));if(1==r)if(s==W.add)if(null==(p=h).bones)for(var g=p.vertices,P=0;P<d;P++){var L=I[P];M[P]+=L+(C[P]-L)*V-g[P]}else for(var O=0;O<d;O++)L=I[O],M[O]+=L+(C[O]-L)*V;else for(var N=0;N<d;N++)L=I[N],M[N]=L+(C[N]-L)*V;else switch(s){case W.setup:if(null==h.bones)for(var g=h.vertices,D=0;D<d;D++)L=I[D],b=g[D],M[D]=b+(L+(C[D]-L)*V-b)*r;else for(var F=0;F<d;F++)L=I[F],M[F]=(L+(C[F]-L)*V)*r;break;case W.first:case W.replace:for(var Y=0;Y<d;Y++)L=I[Y],M[Y]+=(L+(C[Y]-L)*V-M[Y])*r;break;case W.add:if(null==(p=h).bones)for(var g=p.vertices,B=0;B<d;B++)L=I[B],M[B]+=(L+(C[B]-L)*V-g[B])*r;else for(var U=0;U<d;U++)L=I[U],M[U]+=(L+(C[U]-L)*V)*r}}}}}},V);function V(t){var e=I.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t),e.frameVertices=new Array(t),null==C&&(C=X.Utils.newFloatArray(64)),e}X.DeformTimeline=k;var P=(L.prototype.getPropertyId=function(){return n.event<<24},L.prototype.getFrameCount=function(){return this.frames.length},L.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},L.prototype.apply=function(t,e,n,i,r,s,a){if(null!=i){var o=this.frames,h=this.frames.length;if(n<e)this.apply(t,e,Number.MAX_VALUE,i,r,s,a),e=-1;else if(e>=o[h-1])return;if(!(n<o[0])){var l=0;if(e<o[0])l=0;else for(var c=o[l=_.binarySearch(o,e)];0<l&&o[l-1]==c;)l--;for(;l<h&&n>=o[l];l++)i.push(this.events[l])}}},L);function L(t){this.frames=X.Utils.newFloatArray(t),this.events=new Array(t)}X.EventTimeline=P;var O=(N.prototype.getPropertyId=function(){return n.drawOrder<<24},N.prototype.getFrameCount=function(){return this.frames.length},N.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},N.prototype.apply=function(t,e,n,i,r,s,a){var o=t.drawOrder,h=t.slots;if(a!=m.mixOut||s!=W.setup){var l=this.frames;if(n<l[0])s!=W.setup&&s!=W.first||X.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length);else{var c=0,c=n>=l[l.length-1]?l.length-1:_.binarySearch(l,n)-1,d=this.drawOrders[c];if(null==d)X.Utils.arrayCopy(h,0,o,0,h.length);else for(var u=0,p=d.length;u<p;u++)o[u]=h[d[u]]}}else X.Utils.arrayCopy(t.slots,0,t.drawOrder,0,t.slots.length)},N);function N(t){this.frames=X.Utils.newFloatArray(t),this.drawOrders=new Array(t)}X.DrawOrderTimeline=O;var D,F=(__extends(Y,D=s),Y.prototype.getPropertyId=function(){return(n.ikConstraint<<24)+this.ikConstraintIndex},Y.prototype.setFrame=function(t,e,n,i,r,s,a){t*=Y.ENTRIES,this.frames[t]=e,this.frames[t+Y.MIX]=n,this.frames[t+Y.SOFTNESS]=i,this.frames[t+Y.BEND_DIRECTION]=r,this.frames[t+Y.COMPRESS]=s?1:0,this.frames[t+Y.STRETCH]=a?1:0},Y.prototype.apply=function(t,e,n,i,r,s,a){var o,h,l,c,d,u=this.frames,p=t.ikConstraints[this.ikConstraintIndex];if(p.active)if(n<u[0])switch(s){case W.setup:return p.mix=p.data.mix,p.softness=p.data.softness,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,void(p.stretch=p.data.stretch);case W.first:p.mix+=(p.data.mix-p.mix)*r,p.softness+=(p.data.softness-p.softness)*r,p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch}else n>=u[u.length-Y.ENTRIES]?s==W.setup?(p.mix=p.data.mix+(u[u.length+Y.PREV_MIX]-p.data.mix)*r,p.softness=p.data.softness+(u[u.length+Y.PREV_SOFTNESS]-p.data.softness)*r,a==m.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=u[u.length+Y.PREV_BEND_DIRECTION],p.compress=0!=u[u.length+Y.PREV_COMPRESS],p.stretch=0!=u[u.length+Y.PREV_STRETCH])):(p.mix+=(u[u.length+Y.PREV_MIX]-p.mix)*r,p.softness+=(u[u.length+Y.PREV_SOFTNESS]-p.softness)*r,a==m.mixIn&&(p.bendDirection=u[u.length+Y.PREV_BEND_DIRECTION],p.compress=0!=u[u.length+Y.PREV_COMPRESS],p.stretch=0!=u[u.length+Y.PREV_STRETCH])):(h=u[(o=_.binarySearch(u,n,Y.ENTRIES))+Y.PREV_MIX],l=u[o+Y.PREV_SOFTNESS],c=u[o],d=this.getCurvePercent(o/Y.ENTRIES-1,1-(n-c)/(u[o+Y.PREV_TIME]-c)),s==W.setup?(p.mix=p.data.mix+(h+(u[o+Y.MIX]-h)*d-p.data.mix)*r,p.softness=p.data.softness+(l+(u[o+Y.SOFTNESS]-l)*d-p.data.softness)*r,a==m.mixOut?(p.bendDirection=p.data.bendDirection,p.compress=p.data.compress,p.stretch=p.data.stretch):(p.bendDirection=u[o+Y.PREV_BEND_DIRECTION],p.compress=0!=u[o+Y.PREV_COMPRESS],p.stretch=0!=u[o+Y.PREV_STRETCH])):(p.mix+=(h+(u[o+Y.MIX]-h)*d-p.mix)*r,p.softness+=(l+(u[o+Y.SOFTNESS]-l)*d-p.softness)*r,a==m.mixIn&&(p.bendDirection=u[o+Y.PREV_BEND_DIRECTION],p.compress=0!=u[o+Y.PREV_COMPRESS],p.stretch=0!=u[o+Y.PREV_STRETCH])))},Y.ENTRIES=6,Y.PREV_TIME=-6,Y.PREV_MIX=-5,Y.PREV_SOFTNESS=-4,Y.PREV_BEND_DIRECTION=-3,Y.PREV_COMPRESS=-2,Y.PREV_STRETCH=-1,Y.MIX=1,Y.SOFTNESS=2,Y.BEND_DIRECTION=3,Y.COMPRESS=4,Y.STRETCH=5,Y);function Y(t){var e=D.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*Y.ENTRIES),e}X.IkConstraintTimeline=F;var B,U=(__extends(G,B=s),G.prototype.getPropertyId=function(){return(n.transformConstraint<<24)+this.transformConstraintIndex},G.prototype.setFrame=function(t,e,n,i,r,s){t*=G.ENTRIES,this.frames[t]=e,this.frames[t+G.ROTATE]=n,this.frames[t+G.TRANSLATE]=i,this.frames[t+G.SCALE]=r,this.frames[t+G.SHEAR]=s},G.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(n<o[0]){var l=h.data;switch(s){case W.setup:return h.rotateMix=l.rotateMix,h.translateMix=l.translateMix,h.scaleMix=l.scaleMix,void(h.shearMix=l.shearMix);case W.first:h.rotateMix+=(l.rotateMix-h.rotateMix)*r,h.translateMix+=(l.translateMix-h.translateMix)*r,h.scaleMix+=(l.scaleMix-h.scaleMix)*r,h.shearMix+=(l.shearMix-h.shearMix)*r}}else{var c,d,u,p,f=0,g=0,m=0,M=0;n>=o[o.length-G.ENTRIES]?(f=o[(c=o.length)+G.PREV_ROTATE],g=o[c+G.PREV_TRANSLATE],m=o[c+G.PREV_SCALE],M=o[c+G.PREV_SHEAR]):(f=o[(d=_.binarySearch(o,n,G.ENTRIES))+G.PREV_ROTATE],g=o[d+G.PREV_TRANSLATE],m=o[d+G.PREV_SCALE],M=o[d+G.PREV_SHEAR],u=o[d],p=this.getCurvePercent(d/G.ENTRIES-1,1-(n-u)/(o[d+G.PREV_TIME]-u)),f+=(o[d+G.ROTATE]-f)*p,g+=(o[d+G.TRANSLATE]-g)*p,m+=(o[d+G.SCALE]-m)*p,M+=(o[d+G.SHEAR]-M)*p),s==W.setup?(l=h.data,h.rotateMix=l.rotateMix+(f-l.rotateMix)*r,h.translateMix=l.translateMix+(g-l.translateMix)*r,h.scaleMix=l.scaleMix+(m-l.scaleMix)*r,h.shearMix=l.shearMix+(M-l.shearMix)*r):(h.rotateMix+=(f-h.rotateMix)*r,h.translateMix+=(g-h.translateMix)*r,h.scaleMix+=(m-h.scaleMix)*r,h.shearMix+=(M-h.shearMix)*r)}},G.ENTRIES=5,G.PREV_TIME=-5,G.PREV_ROTATE=-4,G.PREV_TRANSLATE=-3,G.PREV_SCALE=-2,G.PREV_SHEAR=-1,G.ROTATE=1,G.TRANSLATE=2,G.SCALE=3,G.SHEAR=4,G);function G(t){var e=B.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*G.ENTRIES),e}X.TransformConstraintTimeline=U;var Z,z=(__extends(j,Z=s),j.prototype.getPropertyId=function(){return(n.pathConstraintPosition<<24)+this.pathConstraintIndex},j.prototype.setFrame=function(t,e,n){t*=j.ENTRIES,this.frames[t]=e,this.frames[t+j.VALUE]=n},j.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return void(h.position=h.data.position);case W.first:h.position+=(h.data.position-h.position)*r}else{var l,c,d,u=0;n>=o[o.length-j.ENTRIES]?u=o[o.length+j.PREV_VALUE]:(u=o[(l=_.binarySearch(o,n,j.ENTRIES))+j.PREV_VALUE],c=o[l],d=this.getCurvePercent(l/j.ENTRIES-1,1-(n-c)/(o[l+j.PREV_TIME]-c)),u+=(o[l+j.VALUE]-u)*d),s==W.setup?h.position=h.data.position+(u-h.data.position)*r:h.position+=(u-h.position)*r}},j.ENTRIES=2,j.PREV_TIME=-2,j.PREV_VALUE=-1,j.VALUE=1,j);function j(t){var e=Z.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*j.ENTRIES),e}X.PathConstraintPositionTimeline=z;var H,J=(__extends(Q,H=z),Q.prototype.getPropertyId=function(){return(n.pathConstraintSpacing<<24)+this.pathConstraintIndex},Q.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return void(h.spacing=h.data.spacing);case W.first:h.spacing+=(h.data.spacing-h.spacing)*r}else{var l,c,d,u=0;n>=o[o.length-Q.ENTRIES]?u=o[o.length+Q.PREV_VALUE]:(u=o[(l=_.binarySearch(o,n,Q.ENTRIES))+Q.PREV_VALUE],c=o[l],d=this.getCurvePercent(l/Q.ENTRIES-1,1-(n-c)/(o[l+Q.PREV_TIME]-c)),u+=(o[l+Q.VALUE]-u)*d),s==W.setup?h.spacing=h.data.spacing+(u-h.data.spacing)*r:h.spacing+=(u-h.spacing)*r}},Q);function Q(t){return H.call(this,t)||this}X.PathConstraintSpacingTimeline=J;var q,K=(__extends($,q=s),$.prototype.getPropertyId=function(){return(n.pathConstraintMix<<24)+this.pathConstraintIndex},$.prototype.setFrame=function(t,e,n,i){t*=$.ENTRIES,this.frames[t]=e,this.frames[t+$.ROTATE]=n,this.frames[t+$.TRANSLATE]=i},$.prototype.apply=function(t,e,n,i,r,s,a){var o=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(n<o[0])switch(s){case W.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case W.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*r,h.translateMix+=(h.data.translateMix-h.translateMix)*r}else{var l,c,d,u=0,p=0;n>=o[o.length-$.ENTRIES]?(u=o[o.length+$.PREV_ROTATE],p=o[o.length+$.PREV_TRANSLATE]):(u=o[(l=_.binarySearch(o,n,$.ENTRIES))+$.PREV_ROTATE],p=o[l+$.PREV_TRANSLATE],c=o[l],d=this.getCurvePercent(l/$.ENTRIES-1,1-(n-c)/(o[l+$.PREV_TIME]-c)),u+=(o[l+$.ROTATE]-u)*d,p+=(o[l+$.TRANSLATE]-p)*d),s==W.setup?(h.rotateMix=h.data.rotateMix+(u-h.data.rotateMix)*r,h.translateMix=h.data.translateMix+(p-h.data.translateMix)*r):(h.rotateMix+=(u-h.rotateMix)*r,h.translateMix+=(p-h.translateMix)*r)}},$.ENTRIES=3,$.PREV_TIME=-3,$.PREV_ROTATE=-2,$.PREV_TRANSLATE=-1,$.ROTATE=1,$.TRANSLATE=2,$);function $(t){var e=q.call(this,t)||this;return e.frames=X.Utils.newFloatArray(t*$.ENTRIES),e}X.PathConstraintMixTimeline=K}(spine=spine||{}),function(E){var t=(T.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,i=e.length;n<i;n++){var r=e[n];if(null!=r){r.animationLast=r.nextAnimationLast,r.trackLast=r.nextTrackLast;var s=t*r.timeScale;if(0<r.delay){if(r.delay-=s,0<r.delay)continue;s=-r.delay,r.delay=0}var a=r.next;if(null!=a){var o=r.trackLast-a.delay;if(0<=o){for(a.delay=0,a.trackTime=0==r.timeScale?0:(o/r.timeScale+t)*a.timeScale,r.trackTime+=s,this.setCurrent(n,a,!0);null!=a.mixingFrom;)a.mixTime+=t,a=a.mixingFrom;continue}}else if(r.trackLast>=r.trackEnd&&null==r.mixingFrom){e[n]=null,this.queue.end(r),this.disposeNext(r);continue}if(null!=r.mixingFrom&&this.updateMixingFrom(r,t)){var h=r.mixingFrom;for((r.mixingFrom=null)!=h&&(h.mixingTo=null);null!=h;)this.queue.end(h),h=h.mixingFrom}r.trackTime+=s}}this.queue.drain()},T.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var i=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,0<t.mixTime&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),i):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},T.prototype.apply=function(t){if(null==t)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var e=this.events,n=this.tracks,i=!1,r=0,s=n.length;r<s;r++){var a=n[r];if(!(null==a||0<a.delay)){i=!0;var o=0==r?E.MixBlend.first:a.mixBlend,h=a.alpha;null!=a.mixingFrom?h*=this.applyMixingFrom(a,t,o):a.trackTime>=a.trackEnd&&null==a.next&&(h=0);var l=a.animationLast,c=a.getAnimationTime(),d=a.animation.timelines.length,u=a.animation.timelines;if(0==r&&1==h||o==E.MixBlend.add)for(var p=0;p<d;p++)E.Utils.webkit602BugfixHelper(h,o),u[p].apply(t,l,c,e,h,o,E.MixDirection.mixIn);else{var f=a.timelineMode,g=0==a.timelinesRotation.length;g&&E.Utils.setArraySize(a.timelinesRotation,d<<1,null);for(var m=a.timelinesRotation,p=0;p<d;p++){var M=u[p],v=(f[p]&T.NOT_LAST-1)==T.SUBSEQUENT?o:E.MixBlend.setup;M instanceof E.RotateTimeline?this.applyRotateTimeline(M,t,c,h,v,m,p<<1,g):(E.Utils.webkit602BugfixHelper(h,o),M.apply(t,l,c,e,h,v,E.MixDirection.mixIn))}}this.queueEvents(a,c),e.length=0,a.nextAnimationLast=c,a.nextTrackLast=a.trackTime}}return this.queue.drain(),i},T.prototype.applyMixingFrom=function(t,e,n){var i=t.mixingFrom;null!=i.mixingFrom&&this.applyMixingFrom(i,e,n);var r=0;0==t.mixDuration?(r=1,n==E.MixBlend.first&&(n=E.MixBlend.setup)):(1<(r=t.mixTime/t.mixDuration)&&(r=1),n!=E.MixBlend.first&&(n=i.mixBlend));var s=r<i.eventThreshold?this.events:null,a=r<i.attachmentThreshold,o=r<i.drawOrderThreshold,h=i.animationLast,l=i.getAnimationTime(),c=i.animation.timelines.length,d=i.animation.timelines,u=i.alpha*t.interruptAlpha,p=u*(1-r);if(n==E.MixBlend.add)for(var f=0;f<c;f++)d[f].apply(e,h,l,s,p,n,E.MixDirection.mixOut);else{var g=i.timelineMode,m=i.timelineHoldMix,M=0==i.timelinesRotation.length;M&&E.Utils.setArraySize(i.timelinesRotation,c<<1,null);for(var v=i.timelinesRotation,f=i.totalAlpha=0;f<c;f++){var y=d[f],w=E.MixDirection.mixOut,x=void 0,b=0;switch(g[f]&T.NOT_LAST-1){case T.SUBSEQUENT:if(!a&&y instanceof E.AttachmentTimeline){if((g[f]&T.NOT_LAST)==T.NOT_LAST)continue;n=E.MixBlend.setup}if(!o&&y instanceof E.DrawOrderTimeline)continue;x=n,b=p;break;case T.FIRST:x=E.MixBlend.setup,b=p;break;case T.HOLD:x=E.MixBlend.setup,b=u;break;default:x=E.MixBlend.setup;var A=m[f],b=u*Math.max(0,1-A.mixTime/A.mixDuration)}i.totalAlpha+=b,y instanceof E.RotateTimeline?this.applyRotateTimeline(y,e,l,b,x,v,f<<1,M):(E.Utils.webkit602BugfixHelper(b,n),x==E.MixBlend.setup&&(y instanceof E.AttachmentTimeline?!a&&(g[f]&T.NOT_LAST)!=T.NOT_LAST||(w=E.MixDirection.mixIn):y instanceof E.DrawOrderTimeline&&o&&(w=E.MixDirection.mixIn)),y.apply(e,h,l,s,b,x,w))}}return 0<t.mixDuration&&this.queueEvents(i,l),this.events.length=0,i.nextAnimationLast=l,i.nextTrackLast=i.trackTime,r},T.prototype.applyRotateTimeline=function(t,e,n,i,r,s,a,o){if(o&&(s[a]=0),1!=i){var h=t,l=h.frames,c=e.bones[h.boneIndex];if(c.active){var d=0,u=0;if(n<l[0])switch(r){case E.MixBlend.setup:c.rotation=c.data.rotation;default:return;case E.MixBlend.first:d=c.rotation,u=c.data.rotation}else{var p,f,g,m,d=r==E.MixBlend.setup?c.data.rotation:c.rotation;n>=l[l.length-E.RotateTimeline.ENTRIES]?u=c.data.rotation+l[l.length+E.RotateTimeline.PREV_ROTATION]:(f=l[(p=E.Animation.binarySearch(l,n,E.RotateTimeline.ENTRIES))+E.RotateTimeline.PREV_ROTATION],g=l[p],m=h.getCurvePercent((p>>1)-1,1-(n-g)/(l[p+E.RotateTimeline.PREV_TIME]-g)),u=l[p+E.RotateTimeline.ROTATION]-f,u=f+(u-=360*(16384-(16384.499999999996-u/360|0)))*m+c.data.rotation,u-=360*(16384-(16384.499999999996-u/360|0)))}var M,v,y,w,x=0,b=u-d;0==(b-=360*(16384-(16384.499999999996-b/360|0)))?x=s[a]:(v=M=0,v=o?(M=0,b):(M=s[a],s[a+1]),y=0<b,w=0<=M,E.MathUtils.signum(v)!=E.MathUtils.signum(b)&&Math.abs(v)<=90&&(180<Math.abs(M)&&(M+=360*E.MathUtils.signum(M)),w=y),x=b+M-M%360,w!=y&&(x+=360*E.MathUtils.signum(M)),s[a]=x),s[a+1]=b,d+=x*i,c.rotation=d-360*(16384-(16384.499999999996-d/360|0))}}else t.apply(e,0,n,null,1,r,E.MixDirection.mixIn)},T.prototype.queueEvents=function(t,e){for(var n=t.animationStart,i=t.animationEnd,r=i-n,s=t.trackLast%r,a=this.events,o=0,h=a.length;o<h;o++){var l=a[o];if(l.time<s)break;l.time>i||this.queue.event(t,l)}for((t.loop?0==r||s>t.trackTime%r:i<=e&&t.animationLast<i)&&this.queue.complete(t);o<h;o++)a[o].time<n||this.queue.event(t,a[o])},T.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},T.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var i=n.mixingFrom;if(null==i)break;this.queue.end(i),n.mixingFrom=null,n.mixingTo=null,n=i}this.tracks[e.trackIndex]=null,this.queue.drain()}}},T.prototype.setCurrent=function(t,e,n){var i=this.expandToIndex(t);this.tracks[t]=e,null!=i&&(n&&this.queue.interrupt(i),((e.mixingFrom=i).mixingTo=e).mixTime=0,null!=i.mixingFrom&&0<i.mixDuration&&(e.interruptAlpha*=Math.min(1,i.mixTime/i.mixDuration)),i.timelinesRotation.length=0),this.queue.start(e)},T.prototype.setAnimation=function(t,e,n){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,i,n)},T.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var i=!0,r=this.expandToIndex(t);null!=r&&(-1==r.nextTrackLast?(this.tracks[t]=r.mixingFrom,this.queue.interrupt(r),this.queue.end(r),this.disposeNext(r),r=r.mixingFrom,i=!1):this.disposeNext(r));var s=this.trackEntry(t,e,n,r);return this.setCurrent(t,s,i),this.queue.drain(),s},T.prototype.addAnimation=function(t,e,n,i){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,r,n,i)},T.prototype.addAnimationWith=function(t,e,n,i){if(null==e)throw new Error("animation cannot be null.");var r=this.expandToIndex(t);if(null!=r)for(;null!=r.next;)r=r.next;var s,a=this.trackEntry(t,e,n,r);return null==r?(this.setCurrent(t,a,!0),this.queue.drain()):(r.next=a,i<=0&&(0!=(s=r.animationEnd-r.animationStart)?(r.loop?i+=s*(1+(r.trackTime/s|0)):i+=Math.max(s,r.trackTime),i-=this.data.getMix(r.animation,e)):i=r.trackTime)),a.delay=i,a},T.prototype.setEmptyAnimation=function(t,e){var n=this.setAnimationWith(t,T.emptyAnimation,!1);return n.mixDuration=e,n.trackEnd=e,n},T.prototype.addEmptyAnimation=function(t,e,n){n<=0&&(n-=e);var i=this.addAnimationWith(t,T.emptyAnimation,!1,n);return i.mixDuration=e,i.trackEnd=e,i},T.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,i=this.tracks.length;n<i;n++){var r=this.tracks[n];null!=r&&this.setEmptyAnimation(r.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},T.prototype.expandToIndex=function(t){return t<this.tracks.length?this.tracks[t]:(E.Utils.ensureArrayCapacity(this.tracks,t+1,null),this.tracks.length=t+1,null)},T.prototype.trackEntry=function(t,e,n,i){var r=this.trackEntryPool.obtain();return r.trackIndex=t,r.animation=e,r.loop=n,r.holdPrevious=!1,r.eventThreshold=0,r.attachmentThreshold=0,r.drawOrderThreshold=0,r.animationStart=0,r.animationEnd=e.duration,r.animationLast=-1,r.nextAnimationLast=-1,r.delay=0,r.trackTime=0,r.trackLast=-1,r.nextTrackLast=-1,r.trackEnd=Number.MAX_VALUE,r.timeScale=1,r.alpha=1,r.interruptAlpha=1,r.mixTime=0,r.mixDuration=null==i?0:this.data.getMix(i.animation,e),r},T.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},T.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var t=0,e=this.tracks.length;t<e;t++)if(null!=(n=this.tracks[t])){for(;null!=n.mixingFrom;)n=n.mixingFrom;for(;null!=n.mixingFrom&&n.mixBlend==E.MixBlend.add||this.computeHold(n),null!=(n=n.mixingTo););}for(this.propertyIDs.clear(),t=this.tracks.length-1;0<=t;t--)for(var n=this.tracks[t];null!=n;)this.computeNotLast(n),n=n.mixingFrom},T.prototype.computeHold=function(t){var e=t.mixingTo,n=t.animation.timelines,i=t.animation.timelines.length,r=E.Utils.setArraySize(t.timelineMode,i);t.timelineHoldMix.length=0;var s=E.Utils.setArraySize(t.timelineHoldMix,i),a=this.propertyIDs;if(null!=e&&e.holdPrevious)for(var o=0;o<i;o++)a.add(n[o].getPropertyId()),r[o]=T.HOLD;else t:for(o=0;o<i;o++){var h=n[o],l=h.getPropertyId();if(a.add(l))if(null==e||h instanceof E.AttachmentTimeline||h instanceof E.DrawOrderTimeline||h instanceof E.EventTimeline||!this.hasTimeline(e,l))r[o]=T.FIRST;else{for(var c=e.mixingTo;null!=c;c=c.mixingTo)if(!this.hasTimeline(c,l)){if(0<t.mixDuration){r[o]=T.HOLD_MIX,s[o]=c;continue t}break}r[o]=T.HOLD}else r[o]=T.SUBSEQUENT}},T.prototype.computeNotLast=function(t){for(var e,n=t.animation.timelines,i=t.animation.timelines.length,r=t.timelineMode,s=this.propertyIDs,a=0;a<i;a++)n[a]instanceof E.AttachmentTimeline&&(e=n[a],s.add(e.slotIndex)||(r[a]|=T.NOT_LAST))},T.prototype.hasTimeline=function(t,e){for(var n=t.animation.timelines,i=0,r=n.length;i<r;i++)if(n[i].getPropertyId()==e)return!0;return!1},T.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},T.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},T.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);0<=e&&this.listeners.splice(e,1)},T.prototype.clearListeners=function(){this.listeners.length=0},T.prototype.clearListenerNotifications=function(){this.queue.clear()},T.emptyAnimation=new E.Animation("<empty>",[],0),T.SUBSEQUENT=0,T.FIRST=1,T.HOLD=2,T.HOLD_MIX=3,T.NOT_LAST=4,T);function T(t){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new r(this),this.propertyIDs=new E.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new E.Pool(function(){return new e}),this.data=t}E.AnimationState=t;var e=(n.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},n.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},n.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},n.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},n.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},n);function n(){this.mixBlend=E.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}E.TrackEntry=e;var o,i,r=(s.prototype.start=function(t){this.objects.push(o.start),this.objects.push(t),this.animState.animationsChanged=!0},s.prototype.interrupt=function(t){this.objects.push(o.interrupt),this.objects.push(t)},s.prototype.end=function(t){this.objects.push(o.end),this.objects.push(t),this.animState.animationsChanged=!0},s.prototype.dispose=function(t){this.objects.push(o.dispose),this.objects.push(t)},s.prototype.complete=function(t){this.objects.push(o.complete),this.objects.push(t)},s.prototype.event=function(t,e){this.objects.push(o.event),this.objects.push(t),this.objects.push(e)},s.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];switch(i){case o.start:null!=r.listener&&r.listener.start&&r.listener.start(r);for(var s=0;s<e.length;s++)e[s].start&&e[s].start(r);break;case o.interrupt:for(null!=r.listener&&r.listener.interrupt&&r.listener.interrupt(r),s=0;s<e.length;s++)e[s].interrupt&&e[s].interrupt(r);break;case o.end:for(null!=r.listener&&r.listener.end&&r.listener.end(r),s=0;s<e.length;s++)e[s].end&&e[s].end(r);case o.dispose:for(null!=r.listener&&r.listener.dispose&&r.listener.dispose(r),s=0;s<e.length;s++)e[s].dispose&&e[s].dispose(r);this.animState.trackEntryPool.free(r);break;case o.complete:for(null!=r.listener&&r.listener.complete&&r.listener.complete(r),s=0;s<e.length;s++)e[s].complete&&e[s].complete(r);break;case o.event:var a=t[2+n++];for(null!=r.listener&&r.listener.event&&r.listener.event(r,a),s=0;s<e.length;s++)e[s].event&&e[s].event(r,a)}}this.clear(),this.drainDisabled=!1}},s.prototype.clear=function(){this.objects.length=0},s);function s(t){this.objects=[],this.drainDisabled=!1,this.animState=t}E.EventQueue=r,(i=o=E.EventType||(E.EventType={}))[i.start=0]="start",i[i.interrupt=1]="interrupt",i[i.end=2]="end",i[i.dispose=3]="dispose",i[i.complete=4]="complete",i[i.event=5]="event";var a=(h.prototype.start=function(t){},h.prototype.interrupt=function(t){},h.prototype.end=function(t){},h.prototype.dispose=function(t){},h.prototype.complete=function(t){},h.prototype.event=function(t,e){},h);function h(){}E.AnimationStateAdapter2=a}(spine=spine||{}),function(t){var e=(n.prototype.setMix=function(t,e,n){var i=this.skeletonData.findAnimation(t);if(null==i)throw new Error("Animation not found: "+t);var r=this.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);this.setMixWith(i,r,n)},n.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var i=t.name+"."+e.name;this.animationToMixTime[i]=n},n.prototype.getMix=function(t,e){var n=t.name+"."+e.name,i=this.animationToMixTime[n];return void 0===i?this.defaultMix:i},n);function n(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}t.AnimationStateData=e}(spine=spine||{}),function(p){var t=(s.downloadText=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.onload=function(){200==i.status?e(i.responseText):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},s.downloadBinary=function(t,e,n){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){200==i.status?e(new Uint8Array(i.response)):n(i.status,i.responseText)},i.onerror=function(){n(i.status,i.responseText)},i.send()},s.prototype.loadBinary=function(n,e,i){var r=this;void 0===e&&(e=null),void 0===i&&(i=null),n=this.pathPrefix+n,this.toLoad++,s.downloadBinary(n,function(t){r.assets[n]=t,e&&e(n,t),r.toLoad--,r.loaded++},function(t,e){r.errors[n]="Couldn't load binary "+n+": status "+status+", "+e,i&&i(n,"Couldn't load binary "+n+": status "+status+", "+e),r.toLoad--,r.loaded++})},s.prototype.loadText=function(n,e,i){var r=this;void 0===e&&(e=null),void 0===i&&(i=null),n=this.pathPrefix+n,this.toLoad++,s.downloadText(n,function(t){r.assets[n]=t,e&&e(n,t),r.toLoad--,r.loaded++},function(t,e){r.errors[n]="Couldn't load text "+n+": status "+status+", "+e,i&&i(n,"Couldn't load text "+n+": status "+status+", "+e),r.toLoad--,r.loaded++})},s.prototype.loadTexture=function(n,i,e){var r=this;void 0===i&&(i=null),void 0===e&&(e=null),n=this.pathPrefix+n,this.toLoad++;var s=new Image;s.crossOrigin="anonymous",s.onload=function(t){var e=r.textureLoader(s);r.assets[n]=e,r.toLoad--,r.loaded++,i&&i(n,s)},s.onerror=function(t){r.errors[n]="Couldn't load image "+n,r.toLoad--,r.loaded++,e&&e(n,"Couldn't load image "+n)},s.src=n},s.prototype.loadTextureData=function(n,t,i,e){var r=this;void 0===i&&(i=null),void 0===e&&(e=null),n=this.pathPrefix+n,this.toLoad++;var s=new Image;s.onload=function(t){var e=r.textureLoader(s);r.assets[n]=e,r.toLoad--,r.loaded++,i&&i(n,s)},s.onerror=function(t){r.errors[n]="Couldn't load image "+n,r.toLoad--,r.loaded++,e&&e(n,"Couldn't load image "+n)},s.src=t},s.prototype.loadTextureAtlas=function(h,l,c){var d=this;void 0===l&&(l=null),void 0===c&&(c=null);var u=0<=h.lastIndexOf("/")?h.substring(0,h.lastIndexOf("/")):"";h=this.pathPrefix+h,this.toLoad++,s.downloadText(h,function(s){var a={count:0},o=new Array;try{new p.TextureAtlas(s,function(t){o.push(u+"/"+t);var e=document.createElement("img");return e.width=16,e.height=16,new p.FakeTexture(e)})}catch(t){var e=t;return d.errors[h]="Couldn't load texture atlas "+h+": "+e.message,c&&c(h,"Couldn't load texture atlas "+h+": "+e.message),d.toLoad--,void d.loaded++}function t(t){var r=!1;d.loadTexture(t,function(t,e){if(a.count++,a.count==o.length)if(r)d.errors[h]="Couldn't load texture atlas page "+t+"} of atlas "+h,c&&c(h,"Couldn't load texture atlas page "+t+" of atlas "+h),d.toLoad--,d.loaded++;else try{var n=new p.TextureAtlas(s,function(t){return d.get(u+"/"+t)});d.assets[h]=n,l&&l(h,n),d.toLoad--,d.loaded++}catch(t){var i=t;d.errors[h]="Couldn't load texture atlas "+h+": "+i.message,c&&c(h,"Couldn't load texture atlas "+h+": "+i.message),d.toLoad--,d.loaded++}},function(t,e){r=!0,a.count++,a.count==o.length&&(d.errors[h]="Couldn't load texture atlas page "+t+"} of atlas "+h,c&&c(h,"Couldn't load texture atlas page "+t+" of atlas "+h),d.toLoad--,d.loaded++)})}for(var n=0,i=o;n<i.length;n++)t(i[n])},function(t,e){d.errors[h]="Couldn't load texture atlas "+h+": status "+status+", "+e,c&&c(h,"Couldn't load texture atlas "+h+": status "+status+", "+e),d.toLoad--,d.loaded++})},s.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},s.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},s.prototype.removeAll=function(){for(var t in this.assets){var e=this.assets[t];e.dispose&&e.dispose()}this.assets={}},s.prototype.isLoadingComplete=function(){return 0==this.toLoad},s.prototype.getToLoad=function(){return this.toLoad},s.prototype.getLoaded=function(){return this.loaded},s.prototype.dispose=function(){this.removeAll()},s.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},s.prototype.getErrors=function(){return this.errors},s);function s(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.textureLoader=t,this.pathPrefix=e}p.AssetManager=t}(spine=spine||{}),function(s){var t=(e.prototype.newRegionAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (region attachment: "+e+")");i.renderObject=i;var r=new s.RegionAttachment(e);return r.setRegion(i),r},e.prototype.newMeshAttachment=function(t,e,n){var i=this.atlas.findRegion(n);if(null==i)throw new Error("Region not found in atlas: "+n+" (mesh attachment: "+e+")");i.renderObject=i;var r=new s.MeshAttachment(e);return r.region=i,r},e.prototype.newBoundingBoxAttachment=function(t,e){return new s.BoundingBoxAttachment(e)},e.prototype.newPathAttachment=function(t,e){return new s.PathAttachment(e)},e.prototype.newPointAttachment=function(t,e){return new s.PointAttachment(e)},e.prototype.newClippingAttachment=function(t,e){return new s.ClippingAttachment(e)},e);function e(t){this.atlas=t}s.AtlasAttachmentLoader=t}(spine=spine||{}),function(t){var e;(e=t.BlendMode||(t.BlendMode={}))[e.Normal=0]="Normal",e[e.Additive=1]="Additive",e[e.Multiply=2]="Multiply",e[e.Screen=3]="Screen"}(spine=spine||{}),function(V){var t=(e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(t,e,n,i,r,s,a){this.ax=t,this.ay=e,this.arotation=n,this.ascaleX=i,this.ascaleY=r,this.ashearX=s,this.ashearY=a,this.appliedValid=!0;var o=this.parent;if(null==o){var h=this.skeleton,l=n+90+a,c=h.scaleX,d=h.scaleY;return this.a=V.MathUtils.cosDeg(n+s)*i*c,this.b=V.MathUtils.cosDeg(l)*r*c,this.c=V.MathUtils.sinDeg(n+s)*i*d,this.d=V.MathUtils.sinDeg(l)*r*d,this.worldX=t*c+h.x,void(this.worldY=e*d+h.y)}var u=o.a,p=o.b,f=o.c,g=o.d;switch(this.worldX=u*t+p*e+o.worldX,this.worldY=f*t+g*e+o.worldY,this.data.transformMode){case V.TransformMode.Normal:var l=n+90+a,m=V.MathUtils.cosDeg(n+s)*i,M=V.MathUtils.cosDeg(l)*r,v=V.MathUtils.sinDeg(n+s)*i,y=V.MathUtils.sinDeg(l)*r;return this.a=u*m+p*v,this.b=u*M+p*y,this.c=f*m+g*v,void(this.d=f*M+g*y);case V.TransformMode.OnlyTranslation:l=n+90+a,this.a=V.MathUtils.cosDeg(n+s)*i,this.b=V.MathUtils.cosDeg(l)*r,this.c=V.MathUtils.sinDeg(n+s)*i,this.d=V.MathUtils.sinDeg(l)*r;break;case V.TransformMode.NoRotationOrReflection:var w=0,x=n+s-(w=1e-4<(A=u*u+f*f)?(p=f*(A=Math.abs(u*g-p*f)/A),g=u*A,Math.atan2(f,u)*V.MathUtils.radDeg):(f=u=0,90-Math.atan2(g,p)*V.MathUtils.radDeg)),b=n+a-w+90,m=V.MathUtils.cosDeg(x)*i,M=V.MathUtils.cosDeg(b)*r,v=V.MathUtils.sinDeg(x)*i,y=V.MathUtils.sinDeg(b)*r;this.a=u*m-p*v,this.b=u*M-p*y,this.c=f*m+g*v,this.d=f*M+g*y;break;case V.TransformMode.NoScale:case V.TransformMode.NoScaleOrReflection:var A,E=V.MathUtils.cosDeg(n),T=V.MathUtils.sinDeg(n),R=(u*E+p*T)/this.skeleton.scaleX,S=(f*E+g*T)/this.skeleton.scaleY;1e-5<(A=Math.sqrt(R*R+S*S))&&(A=1/A),R*=A,S*=A,A=Math.sqrt(R*R+S*S),this.data.transformMode==V.TransformMode.NoScale&&u*g-p*f<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(A=-A);var I=Math.PI/2+Math.atan2(S,R),C=Math.cos(I)*A,k=Math.sin(I)*A,m=V.MathUtils.cosDeg(s)*i,M=V.MathUtils.cosDeg(90+a)*r,v=V.MathUtils.sinDeg(s)*i,y=V.MathUtils.sinDeg(90+a)*r;this.a=R*m+C*v,this.b=R*M+C*y,this.c=S*m+k*v,this.d=S*M+k*y}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*V.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*V.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},e.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent;if(null==t)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*V.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*V.MathUtils.radDeg);var e=t.a,n=t.b,i=t.c,r=t.d,s=1/(e*r-n*i),a=this.worldX-t.worldX,o=this.worldY-t.worldY;this.ax=a*r*s-o*n*s,this.ay=o*e*s-a*i*s;var h,l=s*r,c=s*e,d=s*n,u=s*i,p=l*this.a-d*this.c,f=l*this.b-d*this.d,g=c*this.c-u*this.a,m=c*this.d-u*this.b;this.ashearX=0,this.ascaleX=Math.sqrt(p*p+g*g),1e-4<this.ascaleX?(h=p*m-f*g,this.ascaleY=h/this.ascaleX,this.ashearY=Math.atan2(p*f+g*m,h)*V.MathUtils.radDeg,this.arotation=Math.atan2(g,p)*V.MathUtils.radDeg):(this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+m*m),this.ashearY=0,this.arotation=90-Math.atan2(m,f)*V.MathUtils.radDeg)},e.prototype.worldToLocal=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=1/(e*r-n*i),a=t.x-this.worldX,o=t.y-this.worldY;return t.x=a*r*s-o*n*s,t.y=o*e*s-a*i*s,t},e.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},e.prototype.worldToLocalRotation=function(t){var e=V.MathUtils.sinDeg(t),n=V.MathUtils.cosDeg(t);return Math.atan2(this.a*e-this.c*n,this.d*n-this.b*e)*V.MathUtils.radDeg+this.rotation-this.shearX},e.prototype.localToWorldRotation=function(t){t-=this.rotation-this.shearX;var e=V.MathUtils.sinDeg(t),n=V.MathUtils.cosDeg(t);return Math.atan2(n*this.c+e*this.d,n*this.a+e*this.b)*V.MathUtils.radDeg},e.prototype.rotateWorld=function(t){var e=this.a,n=this.b,i=this.c,r=this.d,s=V.MathUtils.cosDeg(t),a=V.MathUtils.sinDeg(t);this.a=s*e-a*i,this.b=s*n-a*r,this.c=a*e+s*i,this.d=a*n+s*r,this.appliedValid=!1},e);function e(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.worldX=0,this.c=0,this.d=0,this.worldY=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}V.Bone=t}(spine=spine||{}),function(i){function t(t,e,n){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=r.Normal,this.skinRequired=!1,this.color=new i.Color,t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");this.index=t,this.name=e,this.parent=n}var r,e;i.BoneData=t,(e=r=i.TransformMode||(i.TransformMode={}))[e.Normal=0]="Normal",e[e.OnlyTranslation=1]="OnlyTranslation",e[e.NoRotationOrReflection=2]="NoRotationOrReflection",e[e.NoScale=3]="NoScale",e[e.NoScaleOrReflection=4]="NoScaleOrReflection"}(spine=spine||{}),(spine||(spine={})).ConstraintData=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n},(spine||(spine={})).Event=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e},(spine||(spine={})).EventData=function(t){this.name=t},function(ht){var t=(e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(t,e,n,i,r,s,a){t.appliedValid||t.updateAppliedTransform();var o=t.parent,h=1/(o.a*o.d-o.b*o.c),l=e-o.worldX,c=n-o.worldY,d=(l*o.d-c*o.b)*h-t.ax,u=(c*o.a-l*o.c)*h-t.ay,p=Math.atan2(u,d)*ht.MathUtils.radDeg-t.ashearX-t.arotation;t.ascaleX<0&&(p+=180),180<p?p-=360:p<-180&&(p+=360);var f,g,m,M=t.ascaleX,v=t.ascaleY;(i||r)&&(f=t.data.length*M,g=Math.sqrt(d*d+u*u),(i&&g<f||r&&f<g&&1e-4<f)&&(M*=m=(g/f-1)*a+1,s&&(v*=m))),t.updateWorldTransformWith(t.ax,t.ay,t.arotation+p*a,M,v,t.ashearX,t.ashearY)},e.prototype.apply2=function(t,e,n,i,r,s,a,o){if(0!=o){t.appliedValid||t.updateAppliedTransform(),e.appliedValid||e.updateAppliedTransform();var h=t.ax,l=t.ay,c=t.ascaleX,d=c,u=t.ascaleY,p=e.ascaleX,f=0,g=0,m=0,m=c<0?(c=-c,f=180,-1):(f=0,1);u<0&&(u=-u,m=-m),g=p<0?(p=-p,180):0;var M=e.ax,v=0,y=0,w=0,x=t.a,b=t.b,A=t.c,E=t.d,T=Math.abs(c-u)<=1e-4,w=T?(y=x*M+b*(v=e.ay)+t.worldX,A*M+E*v+t.worldY):(v=0,y=x*M+t.worldX,A*M+t.worldY),R=t.parent,x=R.a,b=R.b;A=R.c;var S,I=1/(x*(E=R.d)-b*A),C=y-R.worldX,k=w-R.worldY,V=(C*E-k*b)*I-h,P=(k*x-C*A)*I-l,L=Math.sqrt(V*V+P*P),O=e.data.length*p;if(L<1e-4)return this.apply1(t,n,i,!1,s,!1,o),void e.updateWorldTransformWith(M,v,0,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY);var N,D,F,Y=((C=n-R.worldX)*E-(k=i-R.worldY)*b)*I-h,B=(k*x-C*A)*I-l,U=Y*Y+B*B;0!=a&&(a*=c*(p+1)/2,0<(D=(N=Math.sqrt(U))-L-O*c+a)&&(U=(Y-=(F=(D-a*(1-(F=Math.min(1,D/(2*a))-1)*F))/N)*Y)*Y+(B-=F*B)*B));t:if(T){var X=(U-L*L-(O*=c)*O)/(2*L*O);X<-1?X=-1:1<X&&(X=1,s&&(d*=(Math.sqrt(U)/(L+O)-1)*o+1)),S=Math.acos(X)*r,x=L+O*X,b=O*Math.sin(S),st=Math.atan2(B*x-Y*b,Y*x+B*b)}else{var W=(x=c*O)*x,_=(b=u*O)*b,G=Math.atan2(B,Y),Z=-2*_*L,z=_-W;if(0<=(E=Z*Z-4*z*(A=_*L*L+W*U-W*_))){var j=Math.sqrt(E);Z<0&&(j=-j);var H=(j=-(Z+j)/2)/z,J=A/j,Q=Math.abs(H)<Math.abs(J)?H:J;if(Q*Q<=U){k=Math.sqrt(U-Q*Q)*r,st=G-Math.atan2(k,Q),S=Math.atan2(k/u,(Q-L)/c);break t}}var q=ht.MathUtils.PI,K=L-x,$=K*K,tt=0,et=0,nt=L+x,it=nt*nt,rt=0;-1<=(A=-x*L/(W-_))&&A<=1&&(A=Math.acos(A),(E=(C=x*Math.cos(A)+L)*C+(k=b*Math.sin(A))*k)<$&&(q=A,$=E,K=C,tt=k),it<E&&(et=A,it=E,nt=C,rt=k)),S=U<=($+it)/2?(st=G-Math.atan2(tt*r,K),q*r):(st=G-Math.atan2(rt*r,nt),et*r)}var st,at=Math.atan2(v,M)*m,ot=t.arotation;180<(st=(st-at)*ht.MathUtils.radDeg+f-ot)?st-=360:st<-180&&(st+=360),t.updateWorldTransformWith(h,l,ot+st*o,d,t.ascaleY,0,0),ot=e.arotation,180<(S=((S+at)*ht.MathUtils.radDeg-e.ashearX)*m+g-ot)?S-=360:S<-180&&(S+=360),e.updateWorldTransformWith(M,v,ot+S*o,e.ascaleX,e.ascaleY,e.ashearX,e.ashearY)}else e.updateWorldTransform()},e);function e(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}ht.IkConstraint=t}(spine=spine||{}),function(t){var n,e=(n=t.ConstraintData,__extends(i,n),i);function i(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.bendDirection=1,e.compress=!1,e.stretch=!1,e.uniform=!1,e.mix=1,e.softness=0,e}t.IkConstraintData=e}(spine=spine||{}),function(H){var t=(J.prototype.isActive=function(){return this.active},J.prototype.apply=function(){this.update()},J.prototype.update=function(){var t=this.target.getAttachment();if(t instanceof H.PathAttachment){var e=this.rotateMix,n=this.translateMix,i=0<e;if(0<n||i){var r=this.data,s=r.spacingMode==H.SpacingMode.Percent,a=r.rotateMode,o=a==H.RotateMode.Tangent,h=a==H.RotateMode.ChainScale,l=this.bones.length,c=o?l:l+1,d=this.bones,u=H.Utils.setArraySize(this.spaces,c),p=null,f=this.spacing;if(h||!s){h&&(p=H.Utils.setArraySize(this.lengths,l));for(var g=r.spacingMode==H.SpacingMode.Length,m=0,M=c-1;m<M;){var v,y,w=(R=d[m]).data.length;w<J.epsilon?(h&&(p[m]=0),u[++m]=0):s?(h&&(I=w*R.a,C=w*R.c,v=Math.sqrt(I*I+C*C),p[m]=v),u[++m]=f):(I=w*R.a,C=w*R.c,y=Math.sqrt(I*I+C*C),h&&(p[m]=y),u[++m]=(g?w+f:f)*y/w)}}else for(m=1;m<c;m++)u[m]=f;var x=this.computeWorldPositions(t,c,o,r.positionMode==H.PositionMode.Percent,s),b=x[0],A=x[1],E=r.offsetRotation,T=!1;0==E?T=a==H.RotateMode.Chain:(T=!1,E*=0<(S=this.target.bone).a*S.d-S.b*S.c?H.MathUtils.degRad:-H.MathUtils.degRad);for(var R,m=0,S=3;m<l;m++,S+=3){(R=d[m]).worldX+=(b-R.worldX)*n,R.worldY+=(A-R.worldY)*n;var I,C,k,V,P,L,O,N,D,F,Y,B,U=(I=x[S])-b,X=(C=x[S+1])-A;!h||0!=(k=p[m])&&(V=(Math.sqrt(U*U+X*X)/k-1)*e+1,R.a*=V,R.c*=V),b=I,A=C,i&&(P=R.a,L=R.b,O=R.c,N=R.d,F=D=B=0,B=o?x[S-1]:0==u[m+1]?x[S+2]:Math.atan2(X,U),B-=Math.atan2(O,P),T?(D=Math.cos(B),F=Math.sin(B),b+=((Y=R.data.length)*(D*P-F*O)-U)*e,A+=(Y*(F*P+D*O)-X)*e):B+=E,B>H.MathUtils.PI?B-=H.MathUtils.PI2:B<-H.MathUtils.PI&&(B+=H.MathUtils.PI2),B*=e,D=Math.cos(B),F=Math.sin(B),R.a=D*P-F*O,R.b=D*L-F*N,R.c=F*P+D*O,R.d=F*L+D*N),R.appliedValid=!1}}}},J.prototype.computeWorldPositions=function(t,e,n,i,r){var s=this.target,a=this.position,o=this.spaces,h=H.Utils.setArraySize(this.positions,3*e+2),l=null,c=t.closed,d=t.worldVerticesLength,u=d/6,p=J.NONE;if(!t.constantSpeed){var f=t.lengths,g=f[u-=c?1:2];if(i&&(a*=g),r)for(var m=1;m<e;m++)o[m]*=g;l=H.Utils.setArraySize(this.world,8);for(var m=0,M=0,v=0;m<e;m++,M+=3){var y=a+=_=o[m];if(c)(y%=g)<0&&(y+=g),v=0;else{if(y<0){p!=J.BEFORE&&(p=J.BEFORE,t.computeWorldVertices(s,2,4,l,0,2)),this.addBeforePosition(y,l,0,h,M);continue}if(g<y){p!=J.AFTER&&(p=J.AFTER,t.computeWorldVertices(s,d-6,4,l,0,2)),this.addAfterPosition(y-g,l,0,h,M);continue}}for(;;v++){var w=f[v];if(!(w<y)){0==v?y/=w:y=(y-(z=f[v-1]))/(w-z);break}}v!=p&&(p=v,c&&v==u?(t.computeWorldVertices(s,d-4,4,l,0,2),t.computeWorldVertices(s,0,4,l,4,2)):t.computeWorldVertices(s,6*v+2,8,l,0,2)),this.addCurvePosition(y,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],h,M,n||0<m&&0==_)}return h}c?(d+=2,l=H.Utils.setArraySize(this.world,d),t.computeWorldVertices(s,2,d-4,l,0,2),t.computeWorldVertices(s,0,2,l,d-4,2),l[d-2]=l[0],l[d-1]=l[1]):(u--,d-=4,l=H.Utils.setArraySize(this.world,d),t.computeWorldVertices(s,2,d,l,0,2));for(var x=H.Utils.setArraySize(this.curves,u),b=0,A=l[0],E=l[1],T=0,R=0,S=0,I=0,C=0,k=0,V=0,P=0,L=0,O=0,N=0,D=0,F=0,Y=0,m=0,B=2;m<u;m++,B+=6)T=l[B],R=l[B+1],S=l[B+2],I=l[B+3],N=2*(V=.1875*(A-2*T+S))+(L=.09375*(3*(T-S)-A+(C=l[B+4]))),D=2*(P=.1875*(E-2*R+I))+(O=.09375*(3*(R-I)-E+(k=l[B+5]))),F=.75*(T-A)+V+.16666667*L,Y=.75*(R-E)+P+.16666667*O,b+=Math.sqrt(F*F+Y*Y),F+=N,Y+=D,N+=L,D+=O,b+=Math.sqrt(F*F+Y*Y),F+=N,Y+=D,b+=Math.sqrt(F*F+Y*Y),F+=N+L,Y+=D+O,b+=Math.sqrt(F*F+Y*Y),x[m]=b,A=C,E=k;if(a*=i?b:b/t.lengths[u-1],r)for(m=1;m<e;m++)o[m]*=b;for(var U=this.segments,X=0,m=0,M=0,v=0,W=0;m<e;m++,M+=3){var _,y=a+=_=o[m];if(c)(y%=b)<0&&(y+=b),v=0;else{if(y<0){this.addBeforePosition(y,l,0,h,M);continue}if(b<y){this.addAfterPosition(y-b,l,d-4,h,M);continue}}for(;;v++){var G=x[v];if(!(G<y)){0==v?y/=G:y=(y-(z=x[v-1]))/(G-z);break}}if(v!=p){var Z=6*(p=v),A=l[Z],E=l[Z+1],T=l[Z+2],R=l[Z+3],S=l[Z+4],I=l[Z+5],N=2*(V=.03*(A-2*T+S))+(L=.006*(3*(T-S)-A+(C=l[Z+6]))),D=2*(P=.03*(E-2*R+I))+(O=.006*(3*(R-I)-E+(k=l[Z+7]))),F=.3*(T-A)+V+.16666667*L,Y=.3*(R-E)+P+.16666667*O,X=Math.sqrt(F*F+Y*Y);for(U[0]=X,Z=1;Z<8;Z++)F+=N,Y+=D,N+=L,D+=O,X+=Math.sqrt(F*F+Y*Y),U[Z]=X;F+=N,Y+=D,X+=Math.sqrt(F*F+Y*Y),U[8]=X,F+=N+L,Y+=D+O,X+=Math.sqrt(F*F+Y*Y),U[9]=X,W=0}for(y*=X;;W++){var z,j=U[W];if(!(j<y)){0==W?y/=j:y=W+(y-(z=U[W-1]))/(j-z);break}}this.addCurvePosition(.1*y,A,E,T,R,S,I,C,k,h,M,n||0<m&&0==_)}return h},J.prototype.addBeforePosition=function(t,e,n,i,r){var s=e[n],a=e[n+1],o=e[n+2]-s,h=e[n+3]-a,l=Math.atan2(h,o);i[r]=s+t*Math.cos(l),i[r+1]=a+t*Math.sin(l),i[r+2]=l},J.prototype.addAfterPosition=function(t,e,n,i,r){var s=e[n+2],a=e[n+3],o=s-e[n],h=a-e[n+1],l=Math.atan2(h,o);i[r]=s+t*Math.cos(l),i[r+1]=a+t*Math.sin(l),i[r+2]=l},J.prototype.addCurvePosition=function(t,e,n,i,r,s,a,o,h,l,c,d){if(0==t||isNaN(t))return l[c]=e,l[c+1]=n,void(l[c+2]=Math.atan2(r-n,i-e));var u=t*t,p=u*t,f=1-t,g=f*f,m=g*f,M=f*t,v=3*M,y=f*v,w=v*t,x=e*m+i*y+s*w+o*p,b=n*m+r*y+a*w+h*p;l[c]=x,l[c+1]=b,d&&(l[c+2]=t<.001?Math.atan2(r-n,i-e):Math.atan2(b-(n*g+r*M*2+a*u),x-(e*g+i*M*2+s*u)))},J.NONE=-1,J.BEFORE=-2,J.AFTER=-3,J.epsilon=1e-5,J);function J(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,i=t.bones.length;n<i;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}H.PathConstraint=t}(spine=spine||{}),function(t){var n,e,i,r,s=(n=t.ConstraintData,__extends(a,n),a);function a(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e}t.PathConstraintData=s,(e=t.PositionMode||(t.PositionMode={}))[e.Fixed=0]="Fixed",e[e.Percent=1]="Percent",(i=t.SpacingMode||(t.SpacingMode={}))[i.Length=0]="Length",i[i.Fixed=1]="Fixed",i[i.Percent=2]="Percent",(r=t.RotateMode||(t.RotateMode={}))[r.Tangent=0]="Tangent",r[r.Chain=1]="Chain",r[r.ChainScale=2]="ChainScale"}(spine=spine||{}),function(t){var r=(e.prototype.loaded=function(){var t=0;for(var e in this.assets)t++;return t},e);function e(t){this.toLoad=new Array,this.assets={},this.clientId=t}var n=(i.prototype.queueAsset=function(t,e,n){var i=this.clientAssets[t];return null==i&&(i=new r(t),this.clientAssets[t]=i),null!==e&&(i.textureLoader=e),i.toLoad.push(n),this.queuedAssets[n]!==n&&(this.queuedAssets[n]=n,!0)},i.prototype.loadText=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=n.responseText:i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},i.prototype.loadJson=function(t,e){var n,i=this;e=this.pathPrefix+e,this.queueAsset(t,null,e)&&((n=new XMLHttpRequest).onreadystatechange=function(){n.readyState==XMLHttpRequest.DONE&&(200<=n.status&&n.status<300?i.rawAssets[e]=JSON.parse(n.responseText):i.errors[e]="Couldn't load text "+e+": status "+n.status+", "+n.responseText)},n.open("GET",e,!0),n.send())},i.prototype.loadTexture=function(t,e,n){var i,r=this;n=this.pathPrefix+n,this.queueAsset(t,e,n)&&((i=new Image).src=n,i.crossOrigin="anonymous",i.onload=function(t){r.rawAssets[n]=i},i.onerror=function(t){r.errors[n]="Couldn't load image "+n})},i.prototype.get=function(t,e){e=this.pathPrefix+e;var n=this.clientAssets[t];return null==n||n.assets[e]},i.prototype.updateClientAssets=function(t){for(var e=0;e<t.toLoad.length;e++){var n=t.toLoad[e],i=t.assets[n];if(null==i){var r=this.rawAssets[n];if(null==r)continue;r instanceof HTMLImageElement?t.assets[n]=t.textureLoader(r):t.assets[n]=r}}},i.prototype.isLoadingComplete=function(t){var e=this.clientAssets[t];return null==e||(this.updateClientAssets(e),e.toLoad.length==e.loaded())},i.prototype.dispose=function(){},i.prototype.hasErrors=function(){return 0<Object.keys(this.errors).length},i.prototype.getErrors=function(){return this.errors},i);function i(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}t.SharedAssetManager=n}(spine=spine||{}),function(y){var t=(e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++)(r=t[e]).sorted=r.data.skinRequired,r.active=!r.sorted;if(null!=this.skin)for(var i=this.skin.bones,e=0,n=this.skin.bones.length;e<n;e++)for(var r=this.bones[i[e].index];r.sorted=!1,r.active=!0,null!=(r=r.parent););var s=this.ikConstraints,a=this.transformConstraints,o=this.pathConstraints,h=s.length,l=a.length,c=o.length,d=h+l+c;t:for(e=0;e<d;e++){for(var u=0;u<h;u++)if((p=s[u]).data.order==e){this.sortIkConstraint(p);continue t}for(u=0;u<l;u++)if((p=a[u]).data.order==e){this.sortTransformConstraint(p);continue t}for(var p,u=0;u<c;u++)if((p=o[u]).data.order==e){this.sortPathConstraint(p);continue t}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(t){var e,n,i,r;t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active&&(e=t.target,this.sortBone(e),i=(n=t.bones)[0],this.sortBone(i),1<n.length&&(r=n[n.length-1],-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)),this._updateCache.push(t),this.sortReset(i.children),n[n.length-1].sorted=!0)},e.prototype.sortPathConstraint=function(t){if(t.active=t.target.bone.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){var e=t.target,n=e.data.index,i=e.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,n,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,n,i);for(var r=0,s=this.data.skins.length;r<s;r++)this.sortPathConstraintAttachment(this.data.skins[r],n,i);var a=e.getAttachment();a instanceof y.PathAttachment&&this.sortPathConstraintAttachmentWith(a,i);for(var o=t.bones,h=o.length,r=0;r<h;r++)this.sortBone(o[r]);for(this._updateCache.push(t),r=0;r<h;r++)this.sortReset(o[r].children);for(r=0;r<h;r++)o[r].sorted=!0}},e.prototype.sortTransformConstraint=function(t){if(t.active=t.target.isActive()&&(!t.data.skinRequired||null!=this.skin&&y.Utils.contains(this.skin.constraints,t.data,!0)),t.active){this.sortBone(t.target);var e=t.bones,n=e.length;if(t.data.local)for(var i=0;i<n;i++){var r=e[i];this.sortBone(r.parent),-1<this._updateCache.indexOf(r)||this.updateCacheReset.push(r)}else for(i=0;i<n;i++)this.sortBone(e[i]);this._updateCache.push(t);for(var s=0;s<n;s++)this.sortReset(e[s].children);for(s=0;s<n;s++)e[s].sorted=!0}},e.prototype.sortPathConstraintAttachment=function(t,e,n){var i=t.attachments[e];if(i)for(var r in i)this.sortPathConstraintAttachmentWith(i[r],n)},e.prototype.sortPathConstraintAttachmentWith=function(t,e){if(t instanceof y.PathAttachment){var n=t.bones;if(null==n)this.sortBone(e);else for(var i=this.bones,r=0;r<n.length;)for(var s=n[r++],a=r+s;r<a;r++){var o=n[r];this.sortBone(i[o])}}},e.prototype.sortBone=function(t){var e;t.sorted||(null!=(e=t.parent)&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t))},e.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var i=t[e];i.active&&(i.sorted&&this.sortReset(i.children),i.sorted=!1)}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var i=t[e];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}for(var r=this._updateCache,e=0,n=r.length;e<n;e++)r[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();for(var i=this.ikConstraints,e=0,n=i.length;e<n;e++)(o=i[e]).mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;for(var r=this.transformConstraints,e=0,n=r.length;e<n;e++){var s=(o=r[e]).data;o.rotateMix=s.rotateMix,o.translateMix=s.translateMix,o.scaleMix=s.scaleMix,o.shearMix=s.shearMix}for(var a=this.pathConstraints,e=0,n=a.length;e<n;e++){var o,s=(o=a[e]).data;o.position=s.position,o.spacing=s.spacing,o.rotateMix=s.rotateMix,o.translateMix=s.translateMix}},e.prototype.setSlotsToSetupPose=function(){var t=this.slots;y.Utils.arrayCopy(t,0,this.drawOrder,0,t.length);for(var e=0,n=t.length;e<n;e++)t[e].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,i=e.length;n<i;n++){var r,s=e[n],a=s.data.attachmentName;null==a||null!=(r=t.getAttachment(n,a))&&s.setAttachment(r)}this.skin=t,this.updateCache()}},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,i=0,r=n.length;i<r;i++){var s=n[i];if(s.data.name==t){var a=null;if(null!=e&&null==(a=this.getAttachment(i,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void s.setAttachment(a)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.data.name==t)return r}return null},e.prototype.getBounds=function(t,e,n){if(void 0===n&&(n=new Array(2)),null==t)throw new Error("offset cannot be null.");if(null==e)throw new Error("size cannot be null.");for(var i=this.drawOrder,r=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,o=Number.NEGATIVE_INFINITY,h=0,l=i.length;h<l;h++){var c=i[h];if(c.bone.active){var d,u=0,p=null,f=c.getAttachment();if(f instanceof y.RegionAttachment?(u=8,p=y.Utils.setArraySize(n,u,0),f.computeWorldVertices(c.bone,p,0,2)):f instanceof y.MeshAttachment&&(u=(d=f).worldVerticesLength,p=y.Utils.setArraySize(n,u,0),d.computeWorldVertices(c,0,u,p,0,2)),null!=p)for(var g=0,m=p.length;g<m;g+=2)var M=p[g],v=p[g+1],r=Math.min(r,M),s=Math.min(s,v),a=Math.max(a,M),o=Math.max(o,v)}}t.set(r,s),e.set(a-r,o-s)},e.prototype.update=function(t){this.time+=t},e);function e(t){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==t)throw new Error("data cannot be null.");this.data=t,this.bones=new Array;for(var e=0;e<t.bones.length;e++){var n,i=t.bones[e],r=void 0;null==i.parent?r=new y.Bone(i,this,null):(n=this.bones[i.parent.index],r=new y.Bone(i,this,n),n.children.push(r)),this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(e=0;e<t.slots.length;e++){var s=t.slots[e],r=this.bones[s.boneData.index],a=new y.Slot(s,r);this.slots.push(a),this.drawOrder.push(a)}this.ikConstraints=new Array;for(e=0;e<t.ikConstraints.length;e++){var o=t.ikConstraints[e];this.ikConstraints.push(new y.IkConstraint(o,this))}this.transformConstraints=new Array;for(e=0;e<t.transformConstraints.length;e++){var h=t.transformConstraints[e];this.transformConstraints.push(new y.TransformConstraint(h,this))}this.pathConstraints=new Array;for(e=0;e<t.pathConstraints.length;e++){var l=t.pathConstraints[e];this.pathConstraints.push(new y.PathConstraint(l,this))}this.color=new y.Color(1,1,1,1),this.updateCache()}y.Skeleton=t}(spine=spine||{}),function(G){var t=(Z.prototype.readSkeletonData=function(t){var e=this.scale,n=new G.SkeletonData;n.name="";var i=new y(t);n.hash=i.readString(),n.version=i.readString(),n.x=i.readFloat(),n.y=i.readFloat(),n.width=i.readFloat(),n.height=i.readFloat();var r=i.readBoolean();r&&(n.fps=i.readFloat(),n.imagesPath=i.readString(),n.audioPath=i.readString());for(var s=0,s=i.readInt(!0),a=0;a<s;a++)i.strings.push(i.readString());for(s=i.readInt(!0),a=0;a<s;a++){var o=i.readString(),h=0==a?null:n.bones[i.readInt(!0)];(d=new G.BoneData(a,o,h)).rotation=i.readFloat(),d.x=i.readFloat()*e,d.y=i.readFloat()*e,d.scaleX=i.readFloat(),d.scaleY=i.readFloat(),d.shearX=i.readFloat(),d.shearY=i.readFloat(),d.length=i.readFloat()*e,d.transformMode=Z.TransformModeValues[i.readInt(!0)],d.skinRequired=i.readBoolean(),r&&G.Color.rgba8888ToColor(d.color,i.readInt32()),n.bones.push(d)}for(s=i.readInt(!0),a=0;a<s;a++){var l=i.readString(),c=n.bones[i.readInt(!0)],d=new G.SlotData(a,l,c);G.Color.rgba8888ToColor(d.color,i.readInt32());var u=i.readInt32();-1!=u&&G.Color.rgb888ToColor(d.darkColor=new G.Color,u),d.attachmentName=i.readStringRef(),d.blendMode=Z.BlendModeValues[i.readInt(!0)],n.slots.push(d)}s=i.readInt(!0);for(var a=0,p=void 0;a<s;a++){(d=new G.IkConstraintData(i.readString())).order=i.readInt(!0),d.skinRequired=i.readBoolean(),p=i.readInt(!0);for(var f=0;f<p;f++)d.bones.push(n.bones[i.readInt(!0)]);d.target=n.bones[i.readInt(!0)],d.mix=i.readFloat(),d.softness=i.readFloat()*e,d.bendDirection=i.readByte(),d.compress=i.readBoolean(),d.stretch=i.readBoolean(),d.uniform=i.readBoolean(),n.ikConstraints.push(d)}for(s=i.readInt(!0),p=void(a=0);a<s;a++){for((d=new G.TransformConstraintData(i.readString())).order=i.readInt(!0),d.skinRequired=i.readBoolean(),p=i.readInt(!0),f=0;f<p;f++)d.bones.push(n.bones[i.readInt(!0)]);d.target=n.bones[i.readInt(!0)],d.local=i.readBoolean(),d.relative=i.readBoolean(),d.offsetRotation=i.readFloat(),d.offsetX=i.readFloat()*e,d.offsetY=i.readFloat()*e,d.offsetScaleX=i.readFloat(),d.offsetScaleY=i.readFloat(),d.offsetShearY=i.readFloat(),d.rotateMix=i.readFloat(),d.translateMix=i.readFloat(),d.scaleMix=i.readFloat(),d.shearMix=i.readFloat(),n.transformConstraints.push(d)}for(s=i.readInt(!0),p=void(a=0);a<s;a++){for((d=new G.PathConstraintData(i.readString())).order=i.readInt(!0),d.skinRequired=i.readBoolean(),p=i.readInt(!0),f=0;f<p;f++)d.bones.push(n.bones[i.readInt(!0)]);d.target=n.slots[i.readInt(!0)],d.positionMode=Z.PositionModeValues[i.readInt(!0)],d.spacingMode=Z.SpacingModeValues[i.readInt(!0)],d.rotateMode=Z.RotateModeValues[i.readInt(!0)],d.offsetRotation=i.readFloat(),d.position=i.readFloat(),d.positionMode==G.PositionMode.Fixed&&(d.position*=e),d.spacing=i.readFloat(),d.spacingMode!=G.SpacingMode.Length&&d.spacingMode!=G.SpacingMode.Fixed||(d.spacing*=e),d.rotateMix=i.readFloat(),d.translateMix=i.readFloat(),n.pathConstraints.push(d)}var g=this.readSkin(i,n,!0,r);for(null!=g&&(n.defaultSkin=g,n.skins.push(g)),a=n.skins.length,G.Utils.setArraySize(n.skins,s=a+i.readInt(!0));a<s;a++)n.skins[a]=this.readSkin(i,n,!1,r);for(s=this.linkedMeshes.length,a=0;a<s;a++){var m=this.linkedMeshes[a],M=null==m.skin?n.defaultSkin:n.findSkin(m.skin);if(null==M)throw new Error("Skin not found: "+m.skin);var v=M.getAttachment(m.slotIndex,m.parent);if(null==v)throw new Error("Parent mesh not found: "+m.parent);m.mesh.deformAttachment=m.inheritDeform?v:m.mesh,m.mesh.setParentMesh(v),m.mesh.updateUVs()}for(this.linkedMeshes.length=0,s=i.readInt(!0),a=0;a<s;a++)(d=new G.EventData(i.readStringRef())).intValue=i.readInt(!1),d.floatValue=i.readFloat(),d.stringValue=i.readString(),d.audioPath=i.readString(),null!=d.audioPath&&(d.volume=i.readFloat(),d.balance=i.readFloat()),n.events.push(d);for(s=i.readInt(!0),a=0;a<s;a++)n.animations.push(this.readAnimation(i,i.readString(),n));return n},Z.prototype.readSkin=function(t,e,n,i){var r=new G.Skin(n?"default":t.readStringRef());if(!n){r.bones.length=t.readInt(!0);for(var s=0,a=r.bones.length;s<a;s++)r.bones[s]=e.bones[t.readInt(!0)];for(s=0,a=t.readInt(!0);s<a;s++)r.constraints.push(e.ikConstraints[t.readInt(!0)]);for(s=0,a=t.readInt(!0);s<a;s++)r.constraints.push(e.transformConstraints[t.readInt(!0)]);for(s=0,a=t.readInt(!0);s<a;s++)r.constraints.push(e.pathConstraints[t.readInt(!0)])}for(s=0,a=t.readInt(!0);s<a;s++)for(var o=t.readInt(!0),h=0,l=t.readInt(!0);h<l;h++){var c=t.readStringRef(),d=this.readAttachment(t,e,r,o,c,i);null!=d&&r.setAttachment(o,c,d)}return r},Z.prototype.readAttachment=function(t,e,n,i,r,s){var a=this.scale,o=t.readStringRef();null==o&&(o=r);var h=t.readByte();switch(Z.AttachmentTypeValues[h]){case G.AttachmentType.Region:var l=t.readStringRef(),c=t.readFloat(),d=t.readFloat(),u=t.readFloat(),p=t.readFloat(),f=t.readFloat(),g=t.readFloat(),m=t.readFloat(),M=t.readInt32();null==l&&(l=o);var v=this.attachmentLoader.newRegionAttachment(n,o,l);return null==v?null:(v.path=l,v.x=d*a,v.y=u*a,v.scaleX=p,v.scaleY=f,v.rotation=c,v.width=g*a,v.height=m*a,G.Color.rgba8888ToColor(v.color,M),v.updateOffset(),v);case G.AttachmentType.BoundingBox:var y=t.readInt(!0),w=this.readVertices(t,y),M=s?t.readInt32():0,x=this.attachmentLoader.newBoundingBoxAttachment(n,o);return null==x?null:(x.worldVerticesLength=y<<1,x.vertices=w.vertices,x.bones=w.bones,s&&G.Color.rgba8888ToColor(x.color,M),x);case G.AttachmentType.Mesh:var l=t.readStringRef(),M=t.readInt32(),y=t.readInt(!0),b=this.readFloatArray(t,y<<1,1),A=this.readShortArray(t),w=this.readVertices(t,y),E=t.readInt(!0),T=null,g=0,m=0;return s&&(T=this.readShortArray(t),g=t.readFloat(),m=t.readFloat()),null==l&&(l=o),null==(R=this.attachmentLoader.newMeshAttachment(n,o,l))?null:(R.path=l,G.Color.rgba8888ToColor(R.color,M),R.bones=w.bones,R.vertices=w.vertices,R.worldVerticesLength=y<<1,R.triangles=A,R.regionUVs=b,R.updateUVs(),R.hullLength=E<<1,s&&(R.edges=T,R.width=g*a,R.height=m*a),R);case G.AttachmentType.LinkedMesh:var R,l=t.readStringRef(),M=t.readInt32(),S=t.readStringRef(),I=t.readStringRef(),C=t.readBoolean(),g=0,m=0;return s&&(g=t.readFloat(),m=t.readFloat()),null==l&&(l=o),null==(R=this.attachmentLoader.newMeshAttachment(n,o,l))?null:(R.path=l,G.Color.rgba8888ToColor(R.color,M),s&&(R.width=g*a,R.height=m*a),this.linkedMeshes.push(new Y(R,S,i,I,C)),R);case G.AttachmentType.Path:for(var k=t.readBoolean(),V=t.readBoolean(),y=t.readInt(!0),w=this.readVertices(t,y),P=G.Utils.newArray(y/3,0),L=0,O=P.length;L<O;L++)P[L]=t.readFloat()*a;return M=s?t.readInt32():0,null==(l=this.attachmentLoader.newPathAttachment(n,o))?null:(l.closed=k,l.constantSpeed=V,l.worldVerticesLength=y<<1,l.vertices=w.vertices,l.bones=w.bones,l.lengths=P,s&&G.Color.rgba8888ToColor(l.color,M),l);case G.AttachmentType.Point:var c=t.readFloat(),d=t.readFloat(),u=t.readFloat(),M=s?t.readInt32():0,N=this.attachmentLoader.newPointAttachment(n,o);return null==N?null:(N.x=d*a,N.y=u*a,N.rotation=c,s&&G.Color.rgba8888ToColor(N.color,M),N);case G.AttachmentType.Clipping:var D=t.readInt(!0),y=t.readInt(!0),w=this.readVertices(t,y),M=s?t.readInt32():0,F=this.attachmentLoader.newClippingAttachment(n,o);return null==F?null:(F.endSlot=e.slots[D],F.worldVerticesLength=y<<1,F.vertices=w.vertices,F.bones=w.bones,s&&G.Color.rgba8888ToColor(F.color,M),F)}return null},Z.prototype.readVertices=function(t,e){var n=e<<1,i=new c,r=this.scale;if(!t.readBoolean())return i.vertices=this.readFloatArray(t,n,r),i;for(var s=new Array,a=new Array,o=0;o<e;o++){var h=t.readInt(!0);a.push(h);for(var l=0;l<h;l++)a.push(t.readInt(!0)),s.push(t.readFloat()*r),s.push(t.readFloat()*r),s.push(t.readFloat())}return i.vertices=G.Utils.toFloatArray(s),i.bones=a,i},Z.prototype.readFloatArray=function(t,e,n){var i=new Array(e);if(1==n)for(var r=0;r<e;r++)i[r]=t.readFloat();else for(r=0;r<e;r++)i[r]=t.readFloat()*n;return i},Z.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),i=0;i<e;i++)n[i]=t.readShort();return n},Z.prototype.readAnimation=function(t,e,n){for(var i=new Array,r=this.scale,s=0,a=new G.Color,o=new G.Color,h=0,l=t.readInt(!0);h<l;h++)for(var c=t.readInt(!0),d=0,u=t.readInt(!0);d<u;d++){var p=t.readByte(),f=t.readInt(!0);switch(p){case Z.SLOT_ATTACHMENT:(v=new G.AttachmentTimeline(f)).slotIndex=c;for(var g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readStringRef());i.push(v),s=Math.max(s,v.frames[f-1]);break;case Z.SLOT_COLOR:for((v=new G.ColorTimeline(f)).slotIndex=c,g=0;g<f;g++){var m=t.readFloat();G.Color.rgba8888ToColor(a,t.readInt32()),v.setFrame(g,m,a.r,a.g,a.b,a.a),g<f-1&&this.readCurve(t,g,v)}i.push(v),s=Math.max(s,v.frames[(f-1)*G.ColorTimeline.ENTRIES]);break;case Z.SLOT_TWO_COLOR:for((v=new G.TwoColorTimeline(f)).slotIndex=c,g=0;g<f;g++)m=t.readFloat(),G.Color.rgba8888ToColor(a,t.readInt32()),G.Color.rgb888ToColor(o,t.readInt32()),v.setFrame(g,m,a.r,a.g,a.b,a.a,o.r,o.g,o.b),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.TwoColorTimeline.ENTRIES])}}for(h=0,l=t.readInt(!0);h<l;h++)for(var M=t.readInt(!0),d=0,u=t.readInt(!0);d<u;d++)switch(p=t.readByte(),f=t.readInt(!0),p){case Z.BONE_ROTATE:for((v=new G.RotateTimeline(f)).boneIndex=M,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat()),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.RotateTimeline.ENTRIES]);break;case Z.BONE_TRANSLATE:case Z.BONE_SCALE:case Z.BONE_SHEAR:var v=void 0,y=1;for(p==Z.BONE_SCALE?v=new G.ScaleTimeline(f):p==Z.BONE_SHEAR?v=new G.ShearTimeline(f):(v=new G.TranslateTimeline(f),y=r),v.boneIndex=M,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat()*y,t.readFloat()*y),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.TranslateTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++){var w=t.readInt(!0),f=t.readInt(!0);for((v=new G.IkConstraintTimeline(f)).ikConstraintIndex=w,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat(),t.readFloat()*r,t.readByte(),t.readBoolean(),t.readBoolean()),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.IkConstraintTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++){for(w=t.readInt(!0),f=t.readInt(!0),(v=new G.TransformConstraintTimeline(f)).transformConstraintIndex=w,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat()),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.TransformConstraintTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++)for(var w=t.readInt(!0),x=n.pathConstraints[w],d=0,u=t.readInt(!0);d<u;d++)switch(p=t.readByte(),f=t.readInt(!0),p){case Z.PATH_POSITION:case Z.PATH_SPACING:var v=void 0,y=1;for(p==Z.PATH_SPACING?(v=new G.PathConstraintSpacingTimeline(f),x.spacingMode!=G.SpacingMode.Length&&x.spacingMode!=G.SpacingMode.Fixed||(y=r)):(v=new G.PathConstraintPositionTimeline(f),x.positionMode==G.PositionMode.Fixed&&(y=r)),v.pathConstraintIndex=w,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat()*y),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.PathConstraintPositionTimeline.ENTRIES]);break;case Z.PATH_MIX:for((v=new G.PathConstraintMixTimeline(f)).pathConstraintIndex=w,g=0;g<f;g++)v.setFrame(g,t.readFloat(),t.readFloat(),t.readFloat()),g<f-1&&this.readCurve(t,g,v);i.push(v),s=Math.max(s,v.frames[(f-1)*G.PathConstraintMixTimeline.ENTRIES])}for(h=0,l=t.readInt(!0);h<l;h++)for(var b=n.skins[t.readInt(!0)],d=0,u=t.readInt(!0);d<u;d++)for(var c=t.readInt(!0),A=0,E=t.readInt(!0);A<E;A++){var T=b.getAttachment(c,t.readStringRef()),R=null!=T.bones,S=T.vertices,I=R?S.length/3*2:S.length,f=t.readInt(!0);for((v=new G.DeformTimeline(f)).slotIndex=c,v.attachment=T,g=0;g<f;g++){var m=t.readFloat(),C=void 0,k=t.readInt(!0);if(0==k)C=R?G.Utils.newFloatArray(I):S;else{C=G.Utils.newFloatArray(I);var V=t.readInt(!0);if(k+=V,1==r)for(var P=V;P<k;P++)C[P]=t.readFloat();else for(P=V;P<k;P++)C[P]=t.readFloat()*r;if(!R)for(var P=0,L=C.length;P<L;P++)C[P]+=S[P]}v.setFrame(g,m,C),g<f-1&&this.readCurve(t,g,v)}i.push(v),s=Math.max(s,v.frames[f-1])}var O=t.readInt(!0);if(0<O){for(var v=new G.DrawOrderTimeline(O),N=n.slots.length,h=0;h<O;h++){for(var m=t.readFloat(),D=t.readInt(!0),F=G.Utils.newArray(N,0),d=N-1;0<=d;d--)F[d]=-1;for(var Y=G.Utils.newArray(N-D,0),B=0,U=0,d=0;d<D;d++){for(c=t.readInt(!0);B!=c;)Y[U++]=B++;F[B+t.readInt(!0)]=B++}for(;B<N;)Y[U++]=B++;for(d=N-1;0<=d;d--)-1==F[d]&&(F[d]=Y[--U]);v.setFrame(h,m,F)}i.push(v),s=Math.max(s,v.frames[O-1])}var X=t.readInt(!0);if(0<X){for(v=new G.EventTimeline(X),h=0;h<X;h++){var m=t.readFloat(),W=n.events[t.readInt(!0)],_=new G.Event(m,W);_.intValue=t.readInt(!1),_.floatValue=t.readFloat(),_.stringValue=t.readBoolean()?t.readString():W.stringValue,null!=_.data.audioPath&&(_.volume=t.readFloat(),_.balance=t.readFloat()),v.setFrame(h,_)}i.push(v),s=Math.max(s,v.frames[X-1])}return new G.Animation(e,i,s)},Z.prototype.readCurve=function(t,e,n){switch(t.readByte()){case Z.CURVE_STEPPED:n.setStepped(e);break;case Z.CURVE_BEZIER:this.setCurve(n,e,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},Z.prototype.setCurve=function(t,e,n,i,r,s){t.setCurve(e,n,i,r,s)},Z.AttachmentTypeValues=[0,1,2,3,4,5,6],Z.TransformModeValues=[G.TransformMode.Normal,G.TransformMode.OnlyTranslation,G.TransformMode.NoRotationOrReflection,G.TransformMode.NoScale,G.TransformMode.NoScaleOrReflection],Z.PositionModeValues=[G.PositionMode.Fixed,G.PositionMode.Percent],Z.SpacingModeValues=[G.SpacingMode.Length,G.SpacingMode.Fixed,G.SpacingMode.Percent],Z.RotateModeValues=[G.RotateMode.Tangent,G.RotateMode.Chain,G.RotateMode.ChainScale],Z.BlendModeValues=[G.BlendMode.Normal,G.BlendMode.Additive,G.BlendMode.Multiply,G.BlendMode.Screen],Z.BONE_ROTATE=0,Z.BONE_TRANSLATE=1,Z.BONE_SCALE=2,Z.BONE_SHEAR=3,Z.SLOT_ATTACHMENT=0,Z.SLOT_COLOR=1,Z.SLOT_TWO_COLOR=2,Z.PATH_POSITION=0,Z.PATH_SPACING=1,Z.PATH_MIX=2,Z.CURVE_LINEAR=0,Z.CURVE_STEPPED=1,Z.CURVE_BEZIER=2,Z);function Z(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}G.SkeletonBinary=t;var y=(e.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},e.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},e.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},e.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},e.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},e.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var i=this.readByte();switch(i>>4){case 12:case 13:e+=String.fromCharCode((31&i)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&i)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(i),n++}}return e},e.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},e.prototype.readBoolean=function(){return 0!=this.readByte()},e);function e(t,e,n,i){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===i&&(i=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=i}var Y=function(t,e,n,i,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=r},c=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(spine=spine||{}),function(u){var t=(e.prototype.update=function(t,e){if(null==t)throw new Error("skeleton cannot be null.");var n=this.boundingBoxes,i=this.polygons,r=this.polygonPool,s=t.slots,a=s.length;n.length=0,r.freeAll(i);for(var o=i.length=0;o<a;o++){var h,l,c,d=s[o];d.bone.active&&(h=d.getAttachment())instanceof u.BoundingBoxAttachment&&(l=h,n.push(l),(c=r.obtain()).length!=l.worldVerticesLength&&(c=u.Utils.newFloatArray(l.worldVerticesLength)),i.push(c),l.computeWorldVertices(d,0,l.worldVerticesLength,c,0,2))}e?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,r=this.polygons,s=0,a=r.length;s<a;s++)for(var o=r[s],h=o,l=0,c=o.length;l<c;l+=2)var d=h[l],u=h[l+1],t=Math.min(t,d),e=Math.min(e,u),n=Math.max(n,d),i=Math.max(i,u);this.minX=t,this.minY=e,this.maxX=n,this.maxY=i},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,i){var r=this.minX,s=this.minY,a=this.maxX,o=this.maxY;if(t<=r&&n<=r||e<=s&&i<=s||a<=t&&a<=n||o<=e&&o<=i)return!1;var h=(i-e)/(n-t),l=h*(r-t)+e;if(s<l&&l<o)return!0;if(s<(l=h*(a-t)+e)&&l<o)return!0;var c=(s-e)/h+t;return r<c&&c<a||r<(c=(o-e)/h+t)&&c<a},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,i=0,r=n.length;i<r;i++)if(this.containsPointPolygon(n[i],t,e))return this.boundingBoxes[i];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var i=t,r=t.length,s=r-2,a=!1,o=0;o<r;o+=2){var h,l=i[o+1],c=i[s+1];!(l<n&&n<=c||c<n&&n<=l)||(h=i[o])+(n-l)/(c-l)*(i[s]-h)<e&&(a=!a),s=o}return a},e.prototype.intersectsSegment=function(t,e,n,i){for(var r=this.polygons,s=0,a=r.length;s<a;s++)if(this.intersectsSegmentPolygon(r[s],t,e,n,i))return this.boundingBoxes[s];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,i,r){for(var s=t,a=t.length,o=e-i,h=n-r,l=e*r-n*i,c=s[a-2],d=s[a-1],u=0;u<a;u+=2){var p=s[u],f=s[u+1],g=c*f-d*p,m=c-p,M=d-f,v=o*M-h*m,y=(l*m-o*g)/v;if((c<=y&&y<=p||p<=y&&y<=c)&&(e<=y&&y<=i||i<=y&&y<=e)){var w=(l*M-h*g)/v;if((d<=w&&w<=f||f<=w&&w<=d)&&(n<=w&&w<=r||r<=w&&w<=n))return!0}c=p,d=f}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e);function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new u.Pool(function(){return u.Utils.newFloatArray(16)})}u.SkeletonBounds=t}(spine=spine||{}),function(J){var t=(l.prototype.clipStart=function(t,e){if(null!=this.clipAttachment)return 0;var n=(this.clipAttachment=e).worldVerticesLength,i=J.Utils.setArraySize(this.clippingPolygon,n);e.computeWorldVertices(t,0,n,i,0,2);var r=this.clippingPolygon;l.makeClockwise(r);for(var s=this.clippingPolygons=this.triangulator.decompose(r,this.triangulator.triangulate(r)),a=0,o=s.length;a<o;a++){var h=s[a];l.makeClockwise(h),h.push(h[0]),h.push(h[1])}return s.length},l.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},l.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},l.prototype.isClipping=function(){return null!=this.clipAttachment},l.prototype.clipTriangles=function(t,e,n,i,r,s,a,o){var h=this.clipOutput,l=this.clippedVertices,c=this.clippedTriangles,d=this.clippingPolygons,u=this.clippingPolygons.length,p=o?12:8,f=0;l.length=0;t:for(var g=c.length=0;g<i;g+=3)for(var m=n[g]<<1,M=t[m],v=t[m+1],y=r[m],w=r[m+1],x=t[m=n[g+1]<<1],b=t[m+1],A=r[m],E=r[m+1],T=t[m=n[g+2]<<1],R=t[m+1],S=r[m],I=r[m+1],C=0;C<u;C++){var k=l.length;if(!this.clip(M,v,x,b,T,R,d[C],h)){(B=J.Utils.setArraySize(l,k+3*p))[k]=M,B[k+1]=v,B[k+2]=s.r,B[k+3]=s.g,B[k+4]=s.b,B[k+5]=s.a,o?(B[k+6]=y,B[k+7]=w,B[k+8]=a.r,B[k+9]=a.g,B[k+10]=a.b,B[k+11]=a.a,B[k+12]=x,B[k+13]=b,B[k+14]=s.r,B[k+15]=s.g,B[k+16]=s.b,B[k+17]=s.a,B[k+18]=A,B[k+19]=E,B[k+20]=a.r,B[k+21]=a.g,B[k+22]=a.b,B[k+23]=a.a,B[k+24]=T,B[k+25]=R,B[k+26]=s.r,B[k+27]=s.g,B[k+28]=s.b,B[k+29]=s.a,B[k+30]=S,B[k+31]=I,B[k+32]=a.r,B[k+33]=a.g,B[k+34]=a.b,B[k+35]=a.a):(B[k+6]=y,B[k+7]=w,B[k+8]=x,B[k+9]=b,B[k+10]=s.r,B[k+11]=s.g,B[k+12]=s.b,B[k+13]=s.a,B[k+14]=A,B[k+15]=E,B[k+16]=T,B[k+17]=R,B[k+18]=s.r,B[k+19]=s.g,B[k+20]=s.b,B[k+21]=s.a,B[k+22]=S,B[k+23]=I),k=c.length,(H=J.Utils.setArraySize(c,k+3))[k]=f,H[k+1]=f+1,H[k+2]=f+2,f+=3;continue t}var V=h.length;if(0!=V){for(var P=b-R,L=T-x,O=M-T,N=R-v,D=1/(P*O+L*(v-R)),F=V>>1,Y=this.clipOutput,B=J.Utils.setArraySize(l,k+F*p),U=0;U<V;U+=2){var X=Y[U],W=Y[U+1];B[k]=X,B[k+1]=W,B[k+2]=s.r,B[k+3]=s.g,B[k+4]=s.b,B[k+5]=s.a;var _=X-T,G=W-R,Z=(P*_+L*G)*D,z=(N*_+O*G)*D,j=1-Z-z;B[k+6]=y*Z+A*z+S*j,B[k+7]=w*Z+E*z+I*j,o&&(B[k+8]=a.r,B[k+9]=a.g,B[k+10]=a.b,B[k+11]=a.a),k+=p}k=c.length;var H=J.Utils.setArraySize(c,k+3*(F-2));for(F--,U=1;U<F;U++)H[k]=f,H[k+1]=f+U,H[k+2]=f+U+1,k+=3;f+=F+1}}},l.prototype.clip=function(t,e,n,i,r,s,a,o){var h=o,l=!1,c=null;2<=a.length%4?(c=o,o=this.scratch):c=this.scratch,c.length=0,c.push(t),c.push(e),c.push(n),c.push(i),c.push(r),c.push(s),c.push(t),c.push(e),o.length=0;for(var d=a,u=a.length-4,p=0;;p+=2){for(var f=d[p],g=d[p+1],m=d[p+2],M=d[p+3],v=f-m,y=g-M,w=c,x=c.length-2,b=o.length,A=0;A<x;A+=2){var E=w[A],T=w[A+1],R=w[A+2],S=w[A+3],I=0<v*(S-M)-y*(R-m);if(0<v*(T-M)-y*(E-m)){if(I){o.push(R),o.push(S);continue}var C,k,V,P=(C=S-T)*(m-f)-(k=R-E)*(M-g);1e-6<Math.abs(P)?(V=(k*(g-T)-C*(f-E))/P,o.push(f+(m-f)*V),o.push(g+(M-g)*V)):(o.push(f),o.push(g))}else I&&(P=(C=S-T)*(m-f)-(k=R-E)*(M-g),1e-6<Math.abs(P)?(V=(k*(g-T)-C*(f-E))/P,o.push(f+(m-f)*V),o.push(g+(M-g)*V)):(o.push(f),o.push(g)),o.push(R),o.push(S));l=!0}if(b==o.length)return!(h.length=0);if(o.push(o[0]),o.push(o[1]),p==u)break;var L=o;(o=c).length=0,c=L}if(h!=o)for(var p=h.length=0,O=o.length-2;p<O;p++)h[p]=o[p];else h.length=h.length-2;return l},l.makeClockwise=function(t){for(var e=t,n=t.length,i=e[n-2]*e[1]-e[0]*e[n-1],r=0,s=0,a=0,o=0,h=n-3;o<h;o+=2)r=e[o],s=e[o+1],a=e[o+2],i+=r*e[o+3]-a*s;if(!(i<0))for(var o=0,l=n-2,h=n>>1;o<h;o+=2){var c=e[o],d=e[o+1],u=l-o;e[o]=e[u],e[o+1]=e[1+u],e[u]=c,e[1+u]=d}},l);function l(){this.triangulator=new J.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}J.SkeletonClipping=t}(spine=spine||{}),function(t){var e=(n.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},n.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},n.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++){var r=e[n];if(r.name==t)return r}return null},n.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,i=e.length;n<i;n++)if(e[n].name==t)return n;return-1},n);function n(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}t.SkeletonData=e}(spine=spine||{}),function(tt){var t=(O.prototype.readSkeletonData=function(t){var e=this.scale,n=new tt.SkeletonData,i="string"==typeof t?JSON.parse(t):t,r=i.skeleton;if(null!=r&&(n.hash=r.hash,n.version=r.spine,n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height,n.fps=r.fps,n.imagesPath=r.images),i.bones)for(var s=0;s<i.bones.length;s++){var a=i.bones[s],o=null,h=this.getValue(a,"parent",null);if(null!=h&&null==(o=n.findBone(h)))throw new Error("Parent bone not found: "+h);(u=new tt.BoneData(n.bones.length,a.name,o)).length=this.getValue(a,"length",0)*e,u.x=this.getValue(a,"x",0)*e,u.y=this.getValue(a,"y",0)*e,u.rotation=this.getValue(a,"rotation",0),u.scaleX=this.getValue(a,"scaleX",1),u.scaleY=this.getValue(a,"scaleY",1),u.shearX=this.getValue(a,"shearX",0),u.shearY=this.getValue(a,"shearY",0),u.transformMode=O.transformModeFromString(this.getValue(a,"transform","normal")),u.skinRequired=this.getValue(a,"skin",!1),n.bones.push(u)}if(i.slots)for(s=0;s<i.slots.length;s++){var l=(E=i.slots[s]).name,c=E.bone,d=n.findBone(c);if(null==d)throw new Error("Slot bone not found: "+c);var u=new tt.SlotData(n.slots.length,l,d),p=this.getValue(E,"color",null);null!=p&&u.color.setFromString(p);var f=this.getValue(E,"dark",null);null!=f&&(u.darkColor=new tt.Color(1,1,1,1),u.darkColor.setFromString(f)),u.attachmentName=this.getValue(E,"attachment",null),u.blendMode=O.blendModeFromString(this.getValue(E,"blend","normal")),n.slots.push(u)}if(i.ik)for(s=0;s<i.ik.length;s++){var g=i.ik[s];(u=new tt.IkConstraintData(g.name)).order=this.getValue(g,"order",0),u.skinRequired=this.getValue(g,"skin",!1);for(var m=0;m<g.bones.length;m++){if(c=g.bones[m],null==(w=n.findBone(c)))throw new Error("IK bone not found: "+c);u.bones.push(w)}var M=g.target;if(u.target=n.findBone(M),null==u.target)throw new Error("IK target bone not found: "+M);u.mix=this.getValue(g,"mix",1),u.softness=this.getValue(g,"softness",0)*e,u.bendDirection=this.getValue(g,"bendPositive",!0)?1:-1,u.compress=this.getValue(g,"compress",!1),u.stretch=this.getValue(g,"stretch",!1),u.uniform=this.getValue(g,"uniform",!1),n.ikConstraints.push(u)}if(i.transform)for(s=0;s<i.transform.length;s++){for(g=i.transform[s],(u=new tt.TransformConstraintData(g.name)).order=this.getValue(g,"order",0),u.skinRequired=this.getValue(g,"skin",!1),m=0;m<g.bones.length;m++){if(c=g.bones[m],null==(w=n.findBone(c)))throw new Error("Transform constraint bone not found: "+c);u.bones.push(w)}if(M=g.target,u.target=n.findBone(M),null==u.target)throw new Error("Transform constraint target bone not found: "+M);u.local=this.getValue(g,"local",!1),u.relative=this.getValue(g,"relative",!1),u.offsetRotation=this.getValue(g,"rotation",0),u.offsetX=this.getValue(g,"x",0)*e,u.offsetY=this.getValue(g,"y",0)*e,u.offsetScaleX=this.getValue(g,"scaleX",0),u.offsetScaleY=this.getValue(g,"scaleY",0),u.offsetShearY=this.getValue(g,"shearY",0),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),u.scaleMix=this.getValue(g,"scaleMix",1),u.shearMix=this.getValue(g,"shearMix",1),n.transformConstraints.push(u)}if(i.path)for(s=0;s<i.path.length;s++){for(g=i.path[s],(u=new tt.PathConstraintData(g.name)).order=this.getValue(g,"order",0),u.skinRequired=this.getValue(g,"skin",!1),m=0;m<g.bones.length;m++){if(c=g.bones[m],null==(w=n.findBone(c)))throw new Error("Transform constraint bone not found: "+c);u.bones.push(w)}if(M=g.target,u.target=n.findSlot(M),null==u.target)throw new Error("Path target slot not found: "+M);u.positionMode=O.positionModeFromString(this.getValue(g,"positionMode","percent")),u.spacingMode=O.spacingModeFromString(this.getValue(g,"spacingMode","length")),u.rotateMode=O.rotateModeFromString(this.getValue(g,"rotateMode","tangent")),u.offsetRotation=this.getValue(g,"rotation",0),u.position=this.getValue(g,"position",0),u.positionMode==tt.PositionMode.Fixed&&(u.position*=e),u.spacing=this.getValue(g,"spacing",0),u.spacingMode!=tt.SpacingMode.Length&&u.spacingMode!=tt.SpacingMode.Fixed||(u.spacing*=e),u.rotateMix=this.getValue(g,"rotateMix",1),u.translateMix=this.getValue(g,"translateMix",1),n.pathConstraints.push(u)}if(i.skins)for(s=0;s<i.skins.length;s++){var v=i.skins[s],y=new tt.Skin(v.name);if(v.bones)for(var w,x=0;x<v.bones.length;x++){if(null==(w=n.findBone(v.bones[x])))throw new Error("Skin bone not found: "+v.bones[s]);y.bones.push(w)}if(v.ik)for(x=0;x<v.ik.length;x++){if(null==(b=n.findIkConstraint(v.ik[x])))throw new Error("Skin IK constraint not found: "+v.ik[s]);y.constraints.push(b)}if(v.transform)for(x=0;x<v.transform.length;x++){if(null==(b=n.findTransformConstraint(v.transform[x])))throw new Error("Skin transform constraint not found: "+v.transform[s]);y.constraints.push(b)}if(v.path)for(var b,x=0;x<v.path.length;x++){if(null==(b=n.findPathConstraint(v.path[x])))throw new Error("Skin path constraint not found: "+v.path[s]);y.constraints.push(b)}for(var l in v.attachments){var A=n.findSlot(l);if(null==A)throw new Error("Slot not found: "+l);var E=v.attachments[l];for(var T in E){var R=this.readAttachment(E[T],y,A.index,T,n);null!=R&&y.setAttachment(A.index,T,R)}}n.skins.push(y),"default"==y.name&&(n.defaultSkin=y)}for(var s=0,S=this.linkedMeshes.length;s<S;s++){var I=this.linkedMeshes[s];if(null==(y=null==I.skin?n.defaultSkin:n.findSkin(I.skin)))throw new Error("Skin not found: "+I.skin);var C=y.getAttachment(I.slotIndex,I.parent);if(null==C)throw new Error("Parent mesh not found: "+I.parent);I.mesh.deformAttachment=I.inheritDeform?C:I.mesh,I.mesh.setParentMesh(C),I.mesh.updateUVs()}if(this.linkedMeshes.length=0,i.events)for(var k in i.events){var V=i.events[k];(u=new tt.EventData(k)).intValue=this.getValue(V,"int",0),u.floatValue=this.getValue(V,"float",0),u.stringValue=this.getValue(V,"string",""),u.audioPath=this.getValue(V,"audio",null),null!=u.audioPath&&(u.volume=this.getValue(V,"volume",1),u.balance=this.getValue(V,"balance",0)),n.events.push(u)}if(i.animations)for(var P in i.animations){var L=i.animations[P];this.readAnimation(L,P,n)}return n},O.prototype.readAttachment=function(t,e,n,i,r){var s=this.scale;switch(i=this.getValue(t,"name",i),this.getValue(t,"type","region")){case"region":var a=this.getValue(t,"path",i),o=this.attachmentLoader.newRegionAttachment(e,i,a);return null==o?null:(o.path=a,o.x=this.getValue(t,"x",0)*s,o.y=this.getValue(t,"y",0)*s,o.scaleX=this.getValue(t,"scaleX",1),o.scaleY=this.getValue(t,"scaleY",1),o.rotation=this.getValue(t,"rotation",0),o.width=t.width*s,o.height=t.height*s,null!=(y=this.getValue(t,"color",null))&&o.color.setFromString(y),o.updateOffset(),o);case"boundingbox":var h=this.attachmentLoader.newBoundingBoxAttachment(e,i);return null==h?null:(this.readVertices(t,h,t.vertexCount<<1),null!=(y=this.getValue(t,"color",null))&&h.color.setFromString(y),h);case"mesh":case"linkedmesh":var a=this.getValue(t,"path",i),l=this.attachmentLoader.newMeshAttachment(e,i,a);if(null==l)return null;l.path=a,null!=(y=this.getValue(t,"color",null))&&l.color.setFromString(y),l.width=this.getValue(t,"width",0)*s,l.height=this.getValue(t,"height",0)*s;var c=this.getValue(t,"parent",null);if(null!=c)return this.linkedMeshes.push(new w(l,this.getValue(t,"skin",null),n,c,this.getValue(t,"deform",!0))),l;var d=t.uvs;return this.readVertices(t,l,d.length),l.triangles=t.triangles,l.regionUVs=d,l.updateUVs(),l.edges=this.getValue(t,"edges",null),l.hullLength=2*this.getValue(t,"hull",0),l;case"path":if(null==(a=this.attachmentLoader.newPathAttachment(e,i)))return null;a.closed=this.getValue(t,"closed",!1),a.constantSpeed=this.getValue(t,"constantSpeed",!0);var u=t.vertexCount;this.readVertices(t,a,u<<1);for(var p=tt.Utils.newArray(u/3,0),f=0;f<t.lengths.length;f++)p[f]=t.lengths[f]*s;return a.lengths=p,null!=(y=this.getValue(t,"color",null))&&a.color.setFromString(y),a;case"point":var g=this.attachmentLoader.newPointAttachment(e,i);return null==g?null:(g.x=this.getValue(t,"x",0)*s,g.y=this.getValue(t,"y",0)*s,g.rotation=this.getValue(t,"rotation",0),null!=(y=this.getValue(t,"color",null))&&g.color.setFromString(y),g);case"clipping":var m=this.attachmentLoader.newClippingAttachment(e,i);if(null==m)return null;var M=this.getValue(t,"end",null);if(null!=M){var v=r.findSlot(M);if(null==v)throw new Error("Clipping end slot not found: "+M);m.endSlot=v}var y,u=t.vertexCount;return this.readVertices(t,m,u<<1),null!=(y=this.getValue(t,"color",null))&&m.color.setFromString(y),m}return null},O.prototype.readVertices=function(t,e,n){var i=this.scale;e.worldVerticesLength=n;var r=t.vertices;if(n!=r.length){for(var s=new Array,a=new Array,o=0,h=r.length;o<h;){var l=r[o++];a.push(l);for(var c=o+4*l;o<c;o+=4)a.push(r[o]),s.push(r[o+1]*i),s.push(r[o+2]*i),s.push(r[o+3])}e.bones=a,e.vertices=tt.Utils.toFloatArray(s)}else{var d=tt.Utils.toFloatArray(r);if(1!=i)for(var o=0,h=r.length;o<h;o++)d[o]*=i;e.vertices=d}},O.prototype.readAnimation=function(t,e,n){var i=this.scale,r=new Array,s=0;if(t.slots)for(var a in t.slots){var o=t.slots[a];if(-1==(J=n.findSlotIndex(a)))throw new Error("Slot not found: "+a);for(var h in o){var l=o[h];if("attachment"==h){(y=new tt.AttachmentTimeline(l.length)).slotIndex=J;for(var c=0,d=0;d<l.length;d++){var u=l[d];y.setFrame(c++,this.getValue(u,"time",0),u.name)}r.push(y),s=Math.max(s,y.frames[y.getFrameCount()-1])}else if("color"==h){for((y=new tt.ColorTimeline(l.length)).slotIndex=J,d=c=0;d<l.length;d++){var u=l[d],p=new tt.Color;p.setFromString(u.color),y.setFrame(c,this.getValue(u,"time",0),p.r,p.g,p.b,p.a),this.readCurve(u,y,c),c++}r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.ColorTimeline.ENTRIES])}else{if("twoColor"!=h)throw new Error("Invalid timeline type for a slot: "+h+" ("+a+")");for((y=new tt.TwoColorTimeline(l.length)).slotIndex=J,d=c=0;d<l.length;d++){var u=l[d],f=new tt.Color,g=new tt.Color;f.setFromString(u.light),g.setFromString(u.dark),y.setFrame(c,this.getValue(u,"time",0),f.r,f.g,f.b,f.a,g.r,g.g,g.b),this.readCurve(u,y,c),c++}r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.TwoColorTimeline.ENTRIES])}}}if(t.bones)for(var m in t.bones){var M=t.bones[m],v=n.findBoneIndex(m);if(-1==v)throw new Error("Bone not found: "+m);for(var h in M)if(l=M[h],"rotate"===h){for((y=new tt.RotateTimeline(l.length)).boneIndex=v,d=c=0;d<l.length;d++)u=l[d],y.setFrame(c,this.getValue(u,"time",0),this.getValue(u,"angle",0)),this.readCurve(u,y,c),c++;r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.RotateTimeline.ENTRIES])}else{if("translate"!==h&&"scale"!==h&&"shear"!==h)throw new Error("Invalid timeline type for a bone: "+h+" ("+m+")");var y=null,w=1,x=0;for("scale"===h?(y=new tt.ScaleTimeline(l.length),x=1):"shear"===h?y=new tt.ShearTimeline(l.length):(y=new tt.TranslateTimeline(l.length),w=i),y.boneIndex=v,d=c=0;d<l.length;d++){var u=l[d],b=this.getValue(u,"x",x),A=this.getValue(u,"y",x);y.setFrame(c,this.getValue(u,"time",0),b*w,A*w),this.readCurve(u,y,c),c++}r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.TranslateTimeline.ENTRIES])}}if(t.ik)for(var E in t.ik){var T=t.ik[E],R=n.findIkConstraint(E);for((y=new tt.IkConstraintTimeline(T.length)).ikConstraintIndex=n.ikConstraints.indexOf(R),d=c=0;d<T.length;d++)u=T[d],y.setFrame(c,this.getValue(u,"time",0),this.getValue(u,"mix",1),this.getValue(u,"softness",0)*i,this.getValue(u,"bendPositive",!0)?1:-1,this.getValue(u,"compress",!1),this.getValue(u,"stretch",!1)),this.readCurve(u,y,c),c++;r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.IkConstraintTimeline.ENTRIES])}if(t.transform)for(var E in t.transform){for(T=t.transform[E],R=n.findTransformConstraint(E),(y=new tt.TransformConstraintTimeline(T.length)).transformConstraintIndex=n.transformConstraints.indexOf(R),d=c=0;d<T.length;d++)u=T[d],y.setFrame(c,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1),this.getValue(u,"scaleMix",1),this.getValue(u,"shearMix",1)),this.readCurve(u,y,c),c++;r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.TransformConstraintTimeline.ENTRIES])}if(t.path)for(var E in t.path){var T=t.path[E],S=n.findPathConstraintIndex(E);if(-1==S)throw new Error("Path constraint not found: "+E);var I=n.pathConstraints[S];for(var h in T)if(l=T[h],"position"===h||"spacing"===h){var y=null,w=1;for("spacing"===h?(y=new tt.PathConstraintSpacingTimeline(l.length),I.spacingMode!=tt.SpacingMode.Length&&I.spacingMode!=tt.SpacingMode.Fixed||(w=i)):(y=new tt.PathConstraintPositionTimeline(l.length),I.positionMode==tt.PositionMode.Fixed&&(w=i)),y.pathConstraintIndex=S,d=c=0;d<l.length;d++)u=l[d],y.setFrame(c,this.getValue(u,"time",0),this.getValue(u,h,0)*w),this.readCurve(u,y,c),c++;r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===h){for((y=new tt.PathConstraintMixTimeline(l.length)).pathConstraintIndex=S,d=c=0;d<l.length;d++)u=l[d],y.setFrame(c,this.getValue(u,"time",0),this.getValue(u,"rotateMix",1),this.getValue(u,"translateMix",1)),this.readCurve(u,y,c),c++;r.push(y),s=Math.max(s,y.frames[(y.getFrameCount()-1)*tt.PathConstraintMixTimeline.ENTRIES])}}if(t.deform)for(var C in t.deform){var k=t.deform[C],V=n.findSkin(C);if(null==V)throw new Error("Skin not found: "+C);for(var a in k){if(o=k[a],-1==(J=n.findSlotIndex(a)))throw new Error("Slot not found: "+o.name);for(var h in o){var l=o[h],P=V.getAttachment(J,h);if(null==P)throw new Error("Deform attachment not found: "+l.name);var L=null!=P.bones,O=P.vertices,N=L?O.length/3*2:O.length;(y=new tt.DeformTimeline(l.length)).slotIndex=J,y.attachment=P;for(var c=0,D=0;D<l.length;D++){var u=l[D],F=void 0,Y=this.getValue(u,"vertices",null);if(null==Y)F=L?tt.Utils.newFloatArray(N):O;else{F=tt.Utils.newFloatArray(N);var B=this.getValue(u,"offset",0);if(tt.Utils.arrayCopy(Y,0,F,B,Y.length),1!=i)for(var U=(d=B)+Y.length;d<U;d++)F[d]*=i;if(!L)for(d=0;d<N;d++)F[d]+=O[d]}y.setFrame(c,this.getValue(u,"time",0),F),this.readCurve(u,y,c),c++}r.push(y),s=Math.max(s,y.frames[y.getFrameCount()-1])}}}var X=t.drawOrder;if(null==X&&(X=t.draworder),null!=X){for(var y=new tt.DrawOrderTimeline(X.length),W=n.slots.length,c=0,D=0;D<X.length;D++){var _=X[D],G=null,Z=this.getValue(_,"offsets",null);if(null!=Z){G=tt.Utils.newArray(W,-1);for(var z=tt.Utils.newArray(W-Z.length,0),j=0,H=0,d=0;d<Z.length;d++){var J,Q=Z[d];if(-1==(J=n.findSlotIndex(Q.slot)))throw new Error("Slot not found: "+Q.slot);for(;j!=J;)z[H++]=j++;G[j+Q.offset]=j++}for(;j<W;)z[H++]=j++;for(d=W-1;0<=d;d--)-1==G[d]&&(G[d]=z[--H])}y.setFrame(c++,this.getValue(_,"time",0),G)}r.push(y),s=Math.max(s,y.frames[y.getFrameCount()-1])}if(t.events){for(y=new tt.EventTimeline(t.events.length),d=c=0;d<t.events.length;d++){var q=t.events[d],K=n.findEvent(q.name);if(null==K)throw new Error("Event not found: "+q.name);var $=new tt.Event(tt.Utils.toSinglePrecision(this.getValue(q,"time",0)),K);$.intValue=this.getValue(q,"int",K.intValue),$.floatValue=this.getValue(q,"float",K.floatValue),$.stringValue=this.getValue(q,"string",K.stringValue),null!=$.data.audioPath&&($.volume=this.getValue(q,"volume",1),$.balance=this.getValue(q,"balance",0)),y.setFrame(c++,$)}r.push(y),s=Math.max(s,y.frames[y.getFrameCount()-1])}if(isNaN(s))throw new Error("Error while parsing animation, duration is NaN");n.animations.push(new tt.Animation(e,r,s))},O.prototype.readCurve=function(t,e,n){var i;t.curve&&("stepped"==t.curve?e.setStepped(n):(i=t.curve,e.setCurve(n,i,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))))},O.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},O.blendModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.BlendMode.Normal;if("additive"==t)return tt.BlendMode.Additive;if("multiply"==t)return tt.BlendMode.Multiply;if("screen"==t)return tt.BlendMode.Screen;throw new Error("Unknown blend mode: "+t)},O.positionModeFromString=function(t){if("fixed"==(t=t.toLowerCase()))return tt.PositionMode.Fixed;if("percent"==t)return tt.PositionMode.Percent;throw new Error("Unknown position mode: "+t)},O.spacingModeFromString=function(t){if("length"==(t=t.toLowerCase()))return tt.SpacingMode.Length;if("fixed"==t)return tt.SpacingMode.Fixed;if("percent"==t)return tt.SpacingMode.Percent;throw new Error("Unknown position mode: "+t)},O.rotateModeFromString=function(t){if("tangent"==(t=t.toLowerCase()))return tt.RotateMode.Tangent;if("chain"==t)return tt.RotateMode.Chain;if("chainscale"==t)return tt.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+t)},O.transformModeFromString=function(t){if("normal"==(t=t.toLowerCase()))return tt.TransformMode.Normal;if("onlytranslation"==t)return tt.TransformMode.OnlyTranslation;if("norotationorreflection"==t)return tt.TransformMode.NoRotationOrReflection;if("noscale"==t)return tt.TransformMode.NoScale;if("noscaleorreflection"==t)return tt.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+t)},O);function O(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}tt.SkeletonJson=t;var w=function(t,e,n,i,r){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=i,this.inheritDeform=r}}(spine=spine||{}),function(h){var s=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n};h.SkinEntry=s;var t=(e.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var i=this.attachments;t>=i.length&&(i.length=t+1),i[t]||(i[t]={}),i[t][e]=n},e.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var s=t.constraints[e],i=!1,r=0;r<this.constraints.length;r++)if(this.constraints[r]==s){i=!0;break}i||this.constraints.push(s)}for(var a=t.getAttachments(),e=0;e<a.length;e++){var o=a[e];this.setAttachment(o.slotIndex,o.name,o.attachment)}},e.prototype.copySkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],i=!1,r=0;r<this.bones.length;r++)if(this.bones[r]==n){i=!0;break}i||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){for(var s=t.constraints[e],i=!1,r=0;r<this.constraints.length;r++)if(this.constraints[r]==s){i=!0;break}i||this.constraints.push(s)}for(var a=t.getAttachments(),e=0;e<a.length;e++){var o=a[e];null!=o.attachment&&(o.attachment instanceof h.MeshAttachment?o.attachment=o.attachment.newLinkedMesh():o.attachment=o.attachment.copy(),this.setAttachment(o.slotIndex,o.name,o.attachment))}},e.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},e.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},e.prototype.getAttachments=function(){for(var t=new Array,e=0;e<this.attachments.length;e++){var n=this.attachments[e];if(n)for(var i in n){var r=n[i];r&&t.push(new s(e,i,r))}}return t},e.prototype.getAttachmentsForSlot=function(t,e){var n=this.attachments[t];if(n)for(var i in n){var r=n[i];r&&e.push(new s(t,i,r))}},e.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},e.prototype.attachAll=function(t,e){for(var n=0,i=0;i<t.slots.length;i++){var r=t.slots[i],s=r.getAttachment();if(s&&n<e.attachments.length){var a=e.attachments[n];for(var o in a)if(s==a[o]){var h=this.getAttachment(n,o);null!=h&&r.setAttachment(h);break}}n++}},e);function e(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}h.Skin=t}(spine=spine||{}),function(n){var t=(e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e);function e(t,e){if(this.deform=new Array,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("bone cannot be null.");this.data=t,this.bone=e,this.color=new n.Color,this.darkColor=null==t.darkColor?null:new n.Color,this.setToSetupPose()}n.Slot=t}(spine=spine||{}),function(i){function t(t,e,n){if(this.color=new i.Color(1,1,1,1),t<0)throw new Error("index must be >= 0.");if(null==e)throw new Error("name cannot be null.");if(null==n)throw new Error("boneData cannot be null.");this.index=t,this.name=e,this.boneData=n}i.SlotData=t}(spine=spine||{}),function(t){var e,n,i,r,s=(a.prototype.getImage=function(){return this._image},a.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},a.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return i.MirroredRepeat;case"clamptoedge":return i.ClampToEdge;case"repeat":return i.Repeat;default:throw new Error("Unknown texture wrap "+t)}},a);function a(t){this._image=t}t.Texture=s,(n=e=t.TextureFilter||(t.TextureFilter={}))[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",(r=i=t.TextureWrap||(t.TextureWrap={}))[r.MirroredRepeat=33648]="MirroredRepeat",r[r.ClampToEdge=33071]="ClampToEdge",r[r.Repeat=10497]="Repeat";function o(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0}t.TextureRegion=o;var h,l=(__extends(c,h=s),c.prototype.setFilters=function(t,e){},c.prototype.setWraps=function(t,e){},c.prototype.dispose=function(){},c);function c(){return null!==h&&h.apply(this,arguments)||this}t.FakeTexture=l}(spine=spine||{}),function(p){var t=(e.prototype.load=function(t,e){if(null==e)throw new Error("textureLoader cannot be null.");for(var n=new f(t),i=new Array(4),r=null;;){var s,a,o,h,l,c,d,u=n.readLine();if(null==u)break;0==(u=u.trim()).length?r=null:r?((s=new m).name=u,s.page=r,"true"==(a=n.readValue()).toLocaleLowerCase()?s.degrees=90:"false"==a.toLocaleLowerCase()?s.degrees=0:s.degrees=parseFloat(a),s.rotate=90==s.degrees,n.readTuple(i),o=parseInt(i[0]),h=parseInt(i[1]),n.readTuple(i),l=parseInt(i[0]),c=parseInt(i[1]),s.u=o/r.width,s.v=h/r.height,s.rotate?(s.u2=(o+c)/r.width,s.v2=(h+l)/r.height):(s.u2=(o+l)/r.width,s.v2=(h+c)/r.height),s.x=o,s.y=h,s.width=Math.abs(l),s.height=Math.abs(c),4==n.readTuple(i)&&4==n.readTuple(i)&&n.readTuple(i),s.originalWidth=parseInt(i[0]),s.originalHeight=parseInt(i[1]),n.readTuple(i),s.offsetX=parseInt(i[0]),s.offsetY=parseInt(i[1]),s.index=parseInt(n.readValue()),s.texture=r.texture,this.regions.push(s)):((r=new g).name=u,2==n.readTuple(i)&&(r.width=parseInt(i[0]),r.height=parseInt(i[1]),n.readTuple(i)),n.readTuple(i),r.minFilter=p.Texture.filterFromString(i[0]),r.magFilter=p.Texture.filterFromString(i[1]),d=n.readValue(),r.uWrap=p.TextureWrap.ClampToEdge,r.vWrap=p.TextureWrap.ClampToEdge,"x"==d?r.uWrap=p.TextureWrap.Repeat:"y"==d?r.vWrap=p.TextureWrap.Repeat:"xy"==d&&(r.uWrap=r.vWrap=p.TextureWrap.Repeat),r.texture=e(u),r.texture.setFilters(r.minFilter,r.magFilter),r.texture.setWraps(r.uWrap,r.vWrap),r.width=r.texture.getImage().width,r.height=r.texture.getImage().height,this.pages.push(r))}},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},e);function e(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}p.TextureAtlas=t;var f=(n.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},n.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},n.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var i=0,r=n+1;i<3;i++){var s=e.indexOf(",",r);if(-1==s)break;t[i]=e.substr(r,s-r).trim(),r=s+1}return t[i]=e.substring(r).trim(),i+1},n);function n(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}var g=function(){};p.TextureAtlasPage=g;var i,m=(i=p.TextureRegion,__extends(r,i),r);function r(){return null!==i&&i.apply(this,arguments)||this}p.TextureAtlasRegion=m}(spine=spine||{}),function(I){var t=(e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=r.a,a=r.b,o=r.c,h=r.d,l=0<s*h-a*o?I.MathUtils.degRad:-I.MathUtils.degRad,c=this.data.offsetRotation*l,d=this.data.offsetShearY*l,u=this.bones,p=0,f=u.length;p<f;p++){var g,m,M,v,y,w,x,b,A,E,T,R=u[p],S=!1;0!=t&&(g=R.a,x=R.b,m=R.c,b=R.d,(E=Math.atan2(o,s)-Math.atan2(m,g)+c)>I.MathUtils.PI?E-=I.MathUtils.PI2:E<-I.MathUtils.PI&&(E+=I.MathUtils.PI2),E*=t,M=Math.cos(E),v=Math.sin(E),R.a=M*g-v*m,R.b=M*x-v*b,R.c=v*g+M*m,R.d=v*x+M*b,S=!0),0!=e&&(y=this.temp,r.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),R.worldX+=(y.x-R.worldX)*e,R.worldY+=(y.y-R.worldY)*e,S=!0),0<n&&(T=Math.sqrt(R.a*R.a+R.c*R.c),w=Math.sqrt(s*s+o*o),1e-5<T&&(T=(T+(w-T+this.data.offsetScaleX)*n)/T),R.a*=T,R.c*=T,T=Math.sqrt(R.b*R.b+R.d*R.d),w=Math.sqrt(a*a+h*h),1e-5<T&&(T=(T+(w-T+this.data.offsetScaleY)*n)/T),R.b*=T,R.d*=T,S=!0),0<i&&(x=R.b,b=R.d,A=Math.atan2(b,x),(E=Math.atan2(h,a)-Math.atan2(o,s)-(A-Math.atan2(R.c,R.a)))>I.MathUtils.PI?E-=I.MathUtils.PI2:E<-I.MathUtils.PI&&(E+=I.MathUtils.PI2),E=A+(E+d)*i,T=Math.sqrt(x*x+b*b),R.b=Math.cos(E)*T,R.d=Math.sin(E)*T,S=!0),S&&(R.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target,s=r.a,a=r.b,o=r.c,h=r.d,l=0<s*h-a*o?I.MathUtils.degRad:-I.MathUtils.degRad,c=this.data.offsetRotation*l,d=this.data.offsetShearY*l,u=this.bones,p=0,f=u.length;p<f;p++){var g,m,M,v,y,w,x,b,A,E=u[p],T=!1;0!=t&&(g=E.a,x=E.b,m=E.c,b=E.d,(w=Math.atan2(o,s)+c)>I.MathUtils.PI?w-=I.MathUtils.PI2:w<-I.MathUtils.PI&&(w+=I.MathUtils.PI2),w*=t,M=Math.cos(w),v=Math.sin(w),E.a=M*g-v*m,E.b=M*x-v*b,E.c=v*g+M*m,E.d=v*x+M*b,T=!0),0!=e&&(y=this.temp,r.localToWorld(y.set(this.data.offsetX,this.data.offsetY)),E.worldX+=y.x*e,E.worldY+=y.y*e,T=!0),0<n&&(A=(Math.sqrt(s*s+o*o)-1+this.data.offsetScaleX)*n+1,E.a*=A,E.c*=A,A=(Math.sqrt(a*a+h*h)-1+this.data.offsetScaleY)*n+1,E.b*=A,E.d*=A,T=!0),0<i&&((w=Math.atan2(h,a)-Math.atan2(o,s))>I.MathUtils.PI?w-=I.MathUtils.PI2:w<-I.MathUtils.PI&&(w+=I.MathUtils.PI2),x=E.b,b=E.d,w=Math.atan2(b,x)+(w-I.MathUtils.PI/2+d)*i,A=Math.sqrt(x*x+b*b),E.b=Math.cos(w)*A,E.d=Math.sin(w)*A,T=!0),T&&(E.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var s=this.bones,a=0,o=s.length;a<o;a++){var h=s[a];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(f=r.arotation-l+this.data.offsetRotation,l+=(f-=360*(16384-(16384.499999999996-f/360|0)))*t);var c=h.ax,d=h.ay;0!=e&&(c+=(r.ax-c+this.data.offsetX)*e,d+=(r.ay-d+this.data.offsetY)*e);var u=h.ascaleX,p=h.ascaleY;0!=n&&(1e-5<u&&(u=(u+(r.ascaleX-u+this.data.offsetScaleX)*n)/u),1e-5<p&&(p=(p+(r.ascaleY-p+this.data.offsetScaleY)*n)/p));var f,g=h.ashearY;0!=i&&(f=r.ashearY-g+this.data.offsetShearY,f-=360*(16384-(16384.499999999996-f/360|0)),h.shearY+=f*i),h.updateWorldTransformWith(c,d,l,u,p,h.ashearX,g)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,i=this.shearMix,r=this.target;r.appliedValid||r.updateAppliedTransform();for(var s=this.bones,a=0,o=s.length;a<o;a++){var h=s[a];h.appliedValid||h.updateAppliedTransform();var l=h.arotation;0!=t&&(l+=(r.arotation+this.data.offsetRotation)*t);var c=h.ax,d=h.ay;0!=e&&(c+=(r.ax+this.data.offsetX)*e,d+=(r.ay+this.data.offsetY)*e);var u=h.ascaleX,p=h.ascaleY;0!=n&&(1e-5<u&&(u*=(r.ascaleX-1+this.data.offsetScaleX)*n+1),1e-5<p&&(p*=(r.ascaleY-1+this.data.offsetScaleY)*n+1));var f=h.ashearY;0!=i&&(f+=(r.ashearY+this.data.offsetShearY)*i),h.updateWorldTransformWith(c,d,l,u,p,h.ashearX,f)}},e);function e(t,e){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new I.Vector2,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix,this.scaleMix=t.scaleMix,this.shearMix=t.shearMix,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}I.TransformConstraint=t}(spine=spine||{}),function(t){var n,e=(n=t.ConstraintData,__extends(i,n),i);function i(t){var e=n.call(this,t,0,!1)||this;return e.bones=new Array,e.rotateMix=0,e.translateMix=0,e.scaleMix=0,e.shearMix=0,e.offsetRotation=0,e.offsetX=0,e.offsetY=0,e.offsetScaleX=0,e.offsetScaleY=0,e.offsetShearY=0,e.relative=!1,e.local=!1,e}t.TransformConstraintData=e}(spine=spine||{}),function(t){var e=(X.prototype.triangulate=function(t){for(var e=t,n=t.length>>1,i=this.indicesArray,r=i.length=0;r<n;r++)i[r]=r;for(var s=this.isConcaveArray,r=s.length=0,a=n;r<a;++r)s[r]=X.isConcave(r,n,e,i);var o=this.triangles;for(o.length=0;3<n;){for(var h=n-1,r=0,l=1;;){t:if(!s[r]){for(var c=i[h]<<1,d=i[r]<<1,u=i[l]<<1,p=e[c],f=e[1+c],g=e[d],m=e[1+d],M=e[u],v=e[1+u],y=(l+1)%n;y!=h;y=(y+1)%n)if(s[y]){var w=i[y]<<1,x=e[w],b=e[1+w];if(X.positiveArea(M,v,p,f,x,b)&&X.positiveArea(p,f,g,m,x,b)&&X.positiveArea(g,m,M,v,x,b))break t}break}if(0==l){do{if(!s[r])break;r--}while(0<r);break}h=r,l=((r=l)+1)%n}o.push(i[(n+r-1)%n]),o.push(i[r]),o.push(i[(r+1)%n]),i.splice(r,1),s.splice(r,1);var A=(--n+r-1)%n,E=r==n?0:r;s[A]=X.isConcave(A,n,e,i),s[E]=X.isConcave(E,n,e,i)}return 3==n&&(o.push(i[2]),o.push(i[0]),o.push(i[1])),o},X.prototype.decompose=function(t,e){var n=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var r=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(r),r.length=0;var s=this.polygonIndicesPool.obtain();s.length=0;for(var a=this.polygonPool.obtain(),o=-1,h=a.length=0,l=0,c=e.length;l<c;l+=3){var d=e[l]<<1,u=e[l+1]<<1,p=e[l+2]<<1,f=n[d],g=n[1+d],m=n[u],M=n[1+u],v=n[p],y=n[1+p],w=!1;o==d&&(x=a.length-4,S=X.winding(a[x],a[x+1],a[x+2],a[x+3],v,y),I=X.winding(v,y,a[0],a[1],a[2],a[3]),S==h&&I==h&&(a.push(v),a.push(y),s.push(p),w=!0)),w||(0<a.length?(i.push(a),r.push(s)):(this.polygonPool.free(a),this.polygonIndicesPool.free(s)),(a=this.polygonPool.obtain()).length=0,a.push(f),a.push(g),a.push(m),a.push(M),a.push(v),a.push(y),(s=this.polygonIndicesPool.obtain()).length=0,s.push(d),s.push(u),s.push(p),h=X.winding(f,g,m,M,v,y),o=d)}for(0<a.length&&(i.push(a),r.push(s)),l=0,c=i.length;l<c;l++)if(0!=(s=r[l]).length)for(var x,b,A,E,T,R,S,I,C=s[0],k=s[s.length-1],V=(a=i[l])[x=a.length-4],P=a[x+1],L=a[x+2],O=a[x+3],N=a[0],D=a[1],F=a[2],Y=a[3],B=X.winding(V,P,L,O,N,D),U=0;U<c;U++)U!=l&&3==(b=r[U]).length&&(A=b[0],E=b[1],T=b[2],v=(R=i[U])[R.length-2],y=R[R.length-1],A==C&&E==k&&(S=X.winding(V,P,L,O,v,y),I=X.winding(v,y,N,D,F,Y),S==B&&I==B&&(R.length=0,b.length=0,a.push(v),a.push(y),s.push(T),V=L,P=O,L=v,O=y,U=0)));for(l=i.length-1;0<=l;l--)0==(a=i[l]).length&&(i.splice(l,1),this.polygonPool.free(a),s=r[l],r.splice(l,1),this.polygonIndicesPool.free(s));return i},X.isConcave=function(t,e,n,i){var r=i[(e+t-1)%e]<<1,s=i[t]<<1,a=i[(t+1)%e]<<1;return!this.positiveArea(n[r],n[1+r],n[s],n[1+s],n[a],n[1+a])},X.positiveArea=function(t,e,n,i,r,s){return 0<=t*(s-i)+n*(e-s)+r*(i-e)},X.winding=function(t,e,n,i,r,s){var a=n-t,o=i-e;return 0<=r*o-s*a+a*e-t*o?1:-1},X);function X(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool(function(){return new Array}),this.polygonIndicesPool=new t.Pool(function(){return new Array})}t.Triangulator=e}(spine=spine||{}),function(t){var e=(n.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},n.prototype.contains=function(t){return null!=this.array[0|t]},n.prototype.remove=function(t){this.array[0|t]=void 0},n.prototype.clear=function(){this.array.length=0},n);function n(){this.array=new Array}t.IntSet=e;var i=(r.prototype.set=function(t,e,n,i){return this.r=t,this.g=e,this.b=n,this.a=i,this.clamp(),this},r.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},r.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},r.prototype.add=function(t,e,n,i){return this.r+=t,this.g+=e,this.b+=n,this.a+=i,this.clamp(),this},r.prototype.clamp=function(){return this.r<0?this.r=0:1<this.r&&(this.r=1),this.g<0?this.g=0:1<this.g&&(this.g=1),this.b<0?this.b=0:1<this.b&&(this.b=1),this.a<0?this.a=0:1<this.a&&(this.a=1),this},r.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},r.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},r.WHITE=new r(1,1,1,1),r.RED=new r(1,0,0,1),r.GREEN=new r(0,1,0,1),r.BLUE=new r(0,0,1,1),r.MAGENTA=new r(1,0,1,1),r);function r(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.r=t,this.g=e,this.b=n,this.a=i}t.Color=i;var s=(a.clamp=function(t,e,n){return t<e?e:n<t?n:t},a.cosDeg=function(t){return Math.cos(t*a.degRad)},a.sinDeg=function(t){return Math.sin(t*a.degRad)},a.signum=function(t){return 0<t?1:t<0?-1:0},a.toInt=function(t){return 0<t?Math.floor(t):Math.ceil(t)},a.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},a.randomTriangular=function(t,e){return a.randomTriangularWith(t,e,.5*(t+e))},a.randomTriangularWith=function(t,e,n){var i=Math.random(),r=e-t;return i<=(n-t)/r?t+Math.sqrt(i*r*(n-t)):e-Math.sqrt((1-i)*r*(e-n))},a.PI2=2*(a.PI=3.1415927),a.radDeg=a.radiansToDegrees=180/a.PI,a.degRad=a.degreesToRadians=a.PI/180,a);function a(){}t.MathUtils=s;var o=(h.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},h);function h(){}t.Interpolation=o;var l,c=(__extends(d,l=o),d.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},d);function d(t){var e=l.call(this)||this;return e.power=2,e.power=t,e}t.Pow=c;var u,p=(__extends(f,u=c),f.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},f);function f(t){return u.call(this,t)||this}t.PowOut=p;var g=(m.arrayCopy=function(t,e,n,i,r){for(var s=e,a=i;s<e+r;s++,a++)n[a]=t[s]},m.setArraySize=function(t,e,n){void 0===n&&(n=0);var i=t.length;if(i==e)return t;if(i<(t.length=e))for(var r=i;r<e;r++)t[r]=n;return t},m.ensureArrayCapacity=function(t,e,n){return void 0===n&&(n=0),t.length>=e?t:m.setArraySize(t,e,n)},m.newArray=function(t,e){for(var n=new Array(t),i=0;i<t;i++)n[i]=e;return n},m.newFloatArray=function(t){if(m.SUPPORTS_TYPED_ARRAYS)return new Float32Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},m.newShortArray=function(t){if(m.SUPPORTS_TYPED_ARRAYS)return new Int16Array(t);for(var e=new Array(t),n=0;n<e.length;n++)e[n]=0;return e},m.toFloatArray=function(t){return m.SUPPORTS_TYPED_ARRAYS?new Float32Array(t):t},m.toSinglePrecision=function(t){return m.SUPPORTS_TYPED_ARRAYS?Math.fround(t):t},m.webkit602BugfixHelper=function(t,e){},m.contains=function(t,e,n){void 0===n&&(n=!0);for(var i=0;i<t.length;i++)if(t[i]==e)return!0;return!1},m.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,m);function m(){}t.Utils=g;var M=(v.logBones=function(t){for(var e=0;e<t.bones.length;e++){var n=t.bones[e];console.log(n.data.name+", "+n.a+", "+n.b+", "+n.c+", "+n.d+", "+n.worldX+", "+n.worldY)}},v);function v(){}t.DebugUtils=M;var y=(w.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},w.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},w.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)t[e].reset&&t[e].reset(),this.items[e]=t[e]},w.prototype.clear=function(){this.items.length=0},w);function w(t){this.items=new Array,this.instantiator=t}t.Pool=y;var x=(b.prototype.set=function(t,e){return this.x=t,this.y=e,this},b.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},b.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},b);function b(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}t.Vector2=x;var A=(E.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},E);function E(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}t.TimeKeeper=A;var T=(R.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},R.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},R.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},R);function R(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}t.WindowedMean=T}(spine=spine||{}),function(){var e;Math.fround||(Math.fround=(e=new Float32Array(1),function(t){return e[0]=t,e[0]}))}(),function(e){function t(t){if(null==t)throw new Error("name cannot be null.");this.name=t}e.Attachment=t;var n,i=(__extends(r,n=t),r.prototype.computeWorldVertices=function(t,e,n,i,r,s){n=r+(n>>1)*s;var a=t.bone.skeleton,o=t.deform,h=this.vertices,l=this.bones;if(null!=l){for(var c=0,d=0,u=0;u<e;u+=2)c+=(m=l[c])+1,d+=m;var p=a.bones;if(0==o.length)for(b=r,A=3*d;b<n;b+=s){var f=0,g=0,m=l[c++];for(m+=c;c<m;c++,A+=3){var M=p[l[c]],v=h[A],y=h[A+1],w=h[A+2];f+=(v*M.a+y*M.b+M.worldX)*w,g+=(v*M.c+y*M.d+M.worldY)*w}i[b]=f,i[b+1]=g}else for(var x=o,b=r,A=3*d,E=d<<1;b<n;b+=s){for(g=f=0,m=l[c++],m+=c;c<m;c++,A+=3,E+=2)M=p[l[c]],v=h[A]+x[E],y=h[A+1]+x[E+1],w=h[A+2],f+=(v*M.a+y*M.b+M.worldX)*w,g+=(v*M.c+y*M.d+M.worldY)*w;i[b]=f,i[b+1]=g}}else{0<o.length&&(h=o);for(var T=(M=t.bone).worldX,R=M.worldY,S=M.a,A=M.b,I=M.c,C=M.d,k=e,b=r;b<n;k+=2,b+=s){var v=h[k],y=h[k+1];i[b]=v*S+y*A+T,i[b+1]=v*I+y*C+R}}},r.prototype.copyTo=function(t){null!=this.bones?(t.bones=new Array(this.bones.length),e.Utils.arrayCopy(this.bones,0,t.bones,0,this.bones.length)):t.bones=null,null!=this.vertices?(t.vertices=e.Utils.newFloatArray(this.vertices.length),e.Utils.arrayCopy(this.vertices,0,t.vertices,0,this.vertices.length)):t.vertices=null,t.worldVerticesLength=this.worldVerticesLength,t.deformAttachment=this.deformAttachment},r.nextID=0,r);function r(t){var e=n.call(this,t)||this;return e.id=(65535&r.nextID++)<<11,e.worldVerticesLength=0,e.deformAttachment=e}e.VertexAttachment=i}(spine=spine||{}),function(t){var e;(e=t.AttachmentType||(t.AttachmentType={}))[e.Region=0]="Region",e[e.BoundingBox=1]="BoundingBox",e[e.Mesh=2]="Mesh",e[e.LinkedMesh=3]="LinkedMesh",e[e.Path=4]="Path",e[e.Point=5]="Point",e[e.Clipping=6]="Clipping"}(spine=spine||{}),function(n){var i,t=(i=n.VertexAttachment,__extends(e,i),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.color.setFromColor(this.color),t},e);function e(t){var e=i.call(this,t)||this;return e.color=new n.Color(1,1,1,1),e}n.BoundingBoxAttachment=t}(spine=spine||{}),function(n){var i,t=(i=n.VertexAttachment,__extends(e,i),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},e);function e(t){var e=i.call(this,t)||this;return e.color=new n.Color(.2275,.2275,.8078,1),e}n.ClippingAttachment=t}(spine=spine||{}),function(d){var n,t=(n=d.VertexAttachment,__extends(e,n),e.prototype.updateUVs=function(){var t=this.regionUVs;null!=this.uvs&&this.uvs.length==t.length||(this.uvs=d.Utils.newFloatArray(t.length));var e=this.uvs,n=this.uvs.length,i=this.region.u,r=this.region.v,s=0,a=0;if(this.region instanceof d.TextureAtlasRegion){var o=this.region,h=o.texture.getImage().width,l=o.texture.getImage().height;switch(o.degrees){case 90:i-=(o.originalHeight-o.offsetY-o.height)/h,r-=(o.originalWidth-o.offsetX-o.width)/l,s=o.originalHeight/h,a=o.originalWidth/l;for(var c=0;c<n;c+=2)e[c]=i+t[c+1]*s,e[c+1]=r+(1-t[c])*a;return;case 180:for(i-=(o.originalWidth-o.offsetX-o.width)/h,r-=o.offsetY/l,s=o.originalWidth/h,a=o.originalHeight/l,c=0;c<n;c+=2)e[c]=i+(1-t[c])*s,e[c+1]=r+(1-t[c+1])*a;return;case 270:for(i-=o.offsetY/h,r-=o.offsetX/l,s=o.originalHeight/h,a=o.originalWidth/l,c=0;c<n;c+=2)e[c]=i+(1-t[c+1])*s,e[c+1]=r+t[c]*a;return}i-=o.offsetX/h,r-=(o.originalHeight-o.offsetY-o.height)/l,s=o.originalWidth/h,a=o.originalHeight/l}else null==this.region?(i=r=0,s=a=1):(s=this.region.u2-i,a=this.region.v2-r);for(c=0;c<n;c+=2)e[c]=i+t[c]*s,e[c+1]=r+t[c+1]*a},e.prototype.getParentMesh=function(){return this.parentMesh},e.prototype.setParentMesh=function(t){null!=(this.parentMesh=t)&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},e.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),this.copyTo(t),t.regionUVs=new Array(this.regionUVs.length),d.Utils.arrayCopy(this.regionUVs,0,t.regionUVs,0,this.regionUVs.length),t.uvs=new Array(this.uvs.length),d.Utils.arrayCopy(this.uvs,0,t.uvs,0,this.uvs.length),t.triangles=new Array(this.triangles.length),d.Utils.arrayCopy(this.triangles,0,t.triangles,0,this.triangles.length),t.hullLength=this.hullLength,null!=this.edges&&(t.edges=new Array(this.edges.length),d.Utils.arrayCopy(this.edges,0,t.edges,0,this.edges.length)),t.width=this.width,t.height=this.height,t},e.prototype.newLinkedMesh=function(){var t=new e(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t},e);function e(t){var e=n.call(this,t)||this;return e.color=new d.Color(1,1,1,1),e.tempColor=new d.Color(0,0,0,0),e}d.MeshAttachment=t}(spine=spine||{}),function(n){var i,t=(i=n.VertexAttachment,__extends(e,i),e.prototype.copy=function(){var t=new e(name);return this.copyTo(t),t.lengths=new Array(this.lengths.length),n.Utils.arrayCopy(this.lengths,0,t.lengths,0,this.lengths.length),t.closed=closed,t.constantSpeed=this.constantSpeed,t.color.setFromColor(this.color),t},e);function e(t){var e=i.call(this,t)||this;return e.closed=!1,e.constantSpeed=!1,e.color=new n.Color(1,1,1,1),e}n.PathAttachment=t}(spine=spine||{}),function(s){var n,t=(n=s.VertexAttachment,__extends(e,n),e.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},e.prototype.computeWorldRotation=function(t){var e=s.MathUtils.cosDeg(this.rotation),n=s.MathUtils.sinDeg(this.rotation),i=e*t.a+n*t.b,r=e*t.c+n*t.d;return Math.atan2(r,i)*s.MathUtils.radDeg},e.prototype.copy=function(){var t=new e(name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},e);function e(t){var e=n.call(this,t)||this;return e.color=new s.Color(.38,.94,0,1),e}s.PointAttachment=t}(spine=spine||{}),function(n){var i,t=(i=n.Attachment,__extends(v,i),v.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,n=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,r=n+this.region.width*t,s=i+this.region.height*e,a=this.rotation*Math.PI/180,o=Math.cos(a),h=Math.sin(a),l=n*o+this.x,c=n*h,d=i*o+this.y,u=i*h,p=r*o+this.x,f=r*h,g=s*o+this.y,m=s*h,M=this.offset;M[v.OX1]=l-u,M[v.OY1]=d+c,M[v.OX2]=l-m,M[v.OY2]=g+c,M[v.OX3]=p-m,M[v.OY3]=g+f,M[v.OX4]=p-u,M[v.OY4]=d+f},v.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},v.prototype.computeWorldVertices=function(t,e,n,i){var r=this.offset,s=t.worldX,a=t.worldY,o=t.a,h=t.b,l=t.c,c=t.d,d=0,u=0,d=r[v.OX1],u=r[v.OY1];e[n]=d*o+u*h+s,e[n+1]=d*l+u*c+a,n+=i,d=r[v.OX2],u=r[v.OY2],e[n]=d*o+u*h+s,e[n+1]=d*l+u*c+a,n+=i,d=r[v.OX3],u=r[v.OY3],e[n]=d*o+u*h+s,e[n+1]=d*l+u*c+a,n+=i,d=r[v.OX4],u=r[v.OY4],e[n]=d*o+u*h+s,e[n+1]=d*l+u*c+a},v.prototype.copy=function(){var t=new v(name);return t.region=this.region,t.rendererObject=this.rendererObject,t.path=this.path,t.x=this.x,t.y=this.y,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.rotation=this.rotation,t.width=this.width,t.height=this.height,n.Utils.arrayCopy(this.uvs,0,t.uvs,0,8),n.Utils.arrayCopy(this.offset,0,t.offset,0,8),t.color.setFromColor(this.color),t},v.OX1=0,v.OY1=1,v.OX2=2,v.OY2=3,v.OX3=4,v.OY3=5,v.OX4=6,v.OY4=7,v.X1=0,v.Y1=1,v.C1R=2,v.C1G=3,v.C1B=4,v.C1A=5,v.U1=6,v.V1=7,v.X2=8,v.Y2=9,v.C2R=10,v.C2G=11,v.C2B=12,v.C2A=13,v.U2=14,v.V2=15,v.X3=16,v.Y3=17,v.C3R=18,v.C3G=19,v.C3B=20,v.C3A=21,v.U3=22,v.V3=23,v.X4=24,v.Y4=25,v.C4R=26,v.C4G=27,v.C4B=28,v.C4A=29,v.U4=30,v.V4=31,v);function v(t){var e=i.call(this,t)||this;return e.x=0,e.y=0,e.scaleX=1,e.scaleY=1,e.rotation=0,e.width=0,e.height=0,e.color=new n.Color(1,1,1,1),e.offset=n.Utils.newFloatArray(8),e.uvs=n.Utils.newFloatArray(8),e.tempColor=new n.Color(1,1,1,1),e}n.RegionAttachment=t}(spine=spine||{}),function(r){var t=(e.prototype.begin=function(t){},e.prototype.transform=function(t,e,n,i){t.x+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY),t.y+=r.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e);function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}r.JitterEffect=t}(spine=spine||{}),function(d){var t=(u.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},u.prototype.transform=function(t,e,n,i){var r,s,a,o=this.angle*d.MathUtils.degreesToRadians,h=t.x-this.worldX,l=t.y-this.worldY,c=Math.sqrt(h*h+l*l);c<this.radius&&(r=u.interpolation.apply(0,o,(this.radius-c)/this.radius),s=Math.cos(r),a=Math.sin(r),t.x=s*h-a*l+this.worldX,t.y=a*h+s*l+this.worldY)},u.prototype.end=function(){},u.interpolation=new d.PowOut(2),u);function u(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}d.SwirlEffect=t}(spine=spine||{}),function(n){var t,i,e;function r(e,t){return void 0===t&&(t=""),i.call(this,function(t){return new n.webgl.GLTexture(e,t)},t)||this}t=n.webgl||(n.webgl={}),i=n.AssetManager,__extends(r,i),e=r,t.AssetManager=e}(spine=spine||{}),function(t){var n,e;function i(t,e){this.position=new n.Vector3(0,0,0),this.direction=new n.Vector3(0,0,-1),this.up=new n.Vector3(0,1,0),this.near=0,this.far=100,this.zoom=1,this.viewportWidth=0,this.viewportHeight=0,this.projectionView=new n.Matrix4,this.inverseProjectionView=new n.Matrix4,this.projection=new n.Matrix4,this.view=new n.Matrix4,this.tmp=new n.Vector3,this.viewportWidth=t,this.viewportHeight=e,this.update()}n=t.webgl||(t.webgl={}),i.prototype.update=function(){var t=this.projection,e=this.view,n=this.projectionView,i=this.inverseProjectionView,r=this.zoom,s=this.viewportWidth,a=this.viewportHeight;t.ortho(r*(-s/2),r*(s/2),r*(-a/2),r*(a/2),this.near,this.far),e.lookAt(this.position,this.direction,this.up),n.set(t.values),n.multiply(e),i.set(n.values).invert()},i.prototype.screenToWorld=function(t,e,n){var i=t.x,r=n-t.y-1,s=this.tmp;return s.x=2*i/e-1,s.y=2*r/n-1,s.z=2*t.z-1,s.project(this.inverseProjectionView),t.set(s.x,s.y,s.z),t},i.prototype.setViewport=function(t,e){this.viewportWidth=t,this.viewportHeight=e},e=i,n.OrthoCamera=e}(spine=spine||{}),function(t){var r,s,e;function n(t,e,n){void 0===n&&(n=!1);var i=s.call(this,e)||this;return i.texture=null,i.boundUnit=0,i.useMipMaps=!1,i.context=t instanceof r.ManagedWebGLRenderingContext?t:new r.ManagedWebGLRenderingContext(t),i.useMipMaps=n,i.restore(),i.context.addRestorable(i),i}r=t.webgl||(t.webgl={}),s=t.Texture,__extends(n,s),n.prototype.setFilters=function(t,e){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,e)},n.prototype.setWraps=function(t,e){var n=this.context.gl;this.bind(),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e)},n.prototype.update=function(t){var e=this.context.gl;this.texture||(this.texture=this.context.gl.createTexture()),this.bind(),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this._image),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t&&e.generateMipmap(e.TEXTURE_2D)},n.prototype.restore=function(){this.texture=null,this.update(this.useMipMaps)},n.prototype.bind=function(t){void 0===t&&(t=0);var e=this.context.gl;this.boundUnit=t,e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var t=this.context.gl;t.activeTexture(t.TEXTURE0+this.boundUnit),t.bindTexture(t.TEXTURE_2D,null)},n.prototype.dispose=function(){this.context.removeRestorable(this),this.context.gl.deleteTexture(this.texture)},e=n,r.GLTexture=e}(spine=spine||{}),function(r){!function(t){var e=(n.prototype.setupCallbacks=function(l){var c=this,a=function(t){if(t instanceof MouseEvent){for(var e=l.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top,r=c.listeners,s=0;s<r.length;s++)c.buttonDown?r[s].dragged&&r[s].dragged(n,i):r[s].moved&&r[s].moved(n,i);c.lastX=n,c.lastY=i}},o=function(t){if(t instanceof MouseEvent){for(var e=l.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top,r=c.listeners,s=0;s<r.length;s++)r[s].up&&r[s].up(n,i);c.lastX=n,c.lastY=i,c.buttonDown=!1,document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",o)}};l.addEventListener("mousedown",function(t){if(t instanceof MouseEvent){for(var e=l.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top,r=c.listeners,s=0;s<r.length;s++)r[s].down&&r[s].down(n,i);c.lastX=n,c.lastY=i,c.buttonDown=!0,document.addEventListener("mousemove",a),document.addEventListener("mouseup",o)}},!0),l.addEventListener("mousemove",a,!0),l.addEventListener("mouseup",o,!0),l.addEventListener("touchstart",function(t){if(null==c.currTouch){for(var e=t.changedTouches,n=0;n<e.length;n++){var i=e[n],r=l.getBoundingClientRect(),s=i.clientX-r.left,a=i.clientY-r.top;c.currTouch=c.touchesPool.obtain(),c.currTouch.identifier=i.identifier,c.currTouch.x=s,c.currTouch.y=a;break}for(var o=c.listeners,h=0;h<o.length;h++)o[h].down&&o[h].down(c.currTouch.x,c.currTouch.y);c.lastX=c.currTouch.x,c.lastY=c.currTouch.y,c.buttonDown=!0,t.preventDefault()}},!1),l.addEventListener("touchend",function(t){for(var e=t.changedTouches,n=0;n<e.length;n++){var i=e[n];if(c.currTouch.identifier===i.identifier){var r=l.getBoundingClientRect(),s=c.currTouch.x=i.clientX-r.left,a=c.currTouch.y=i.clientY-r.top;c.touchesPool.free(c.currTouch);for(var o=c.listeners,h=0;h<o.length;h++)o[h].up&&o[h].up(s,a);c.lastX=s,c.lastY=a,c.buttonDown=!1,c.currTouch=null;break}}t.preventDefault()},!1),l.addEventListener("touchcancel",function(t){for(var e=t.changedTouches,n=0;n<e.length;n++){var i=e[n];if(c.currTouch.identifier===i.identifier){var r=l.getBoundingClientRect(),s=c.currTouch.x=i.clientX-r.left,a=c.currTouch.y=i.clientY-r.top;c.touchesPool.free(c.currTouch);for(var o=c.listeners,h=0;h<o.length;h++)o[h].up&&o[h].up(s,a);c.lastX=s,c.lastY=a,c.buttonDown=!1,c.currTouch=null;break}}t.preventDefault()},!1),l.addEventListener("touchmove",function(t){if(null!=c.currTouch){for(var e=t.changedTouches,n=0;n<e.length;n++){var i=e[n];if(c.currTouch.identifier===i.identifier){for(var r=l.getBoundingClientRect(),s=i.clientX-r.left,a=i.clientY-r.top,o=c.listeners,h=0;h<o.length;h++)o[h].dragged&&o[h].dragged(s,a);c.lastX=c.currTouch.x=s,c.lastY=c.currTouch.y=a;break}}t.preventDefault()}},!1)},n.prototype.addListener=function(t){this.listeners.push(t)},n.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);-1<e&&this.listeners.splice(e,1)},n);function n(t){this.lastX=0,this.lastY=0,this.buttonDown=!1,this.currTouch=null,this.touchesPool=new r.Pool(function(){return new r.webgl.Touch(0,0,0)}),this.listeners=new Array,this.element=t,this.setupCallbacks(t)}t.Input=e;function i(t,e,n){this.identifier=t,this.x=e,this.y=n}t.Touch=i}(r.webgl||(r.webgl={}))}(spine=spine||{}),function(n){var d,t;function u(t){var e;this.logo=null,this.spinner=null,this.angle=0,this.fadeOut=0,this.timeKeeper=new n.TimeKeeper,this.backgroundColor=new n.Color(.135,.135,.135,1),this.tempColor=new n.Color,this.firstDraw=0,this.renderer=t,this.timeKeeper.maxDelta=9,null===u.logoImg&&(e=-1<navigator.userAgent.indexOf("Safari"),u.logoImg=new Image,u.logoImg.src=u.SPINE_LOGO_DATA,e||(u.logoImg.crossOrigin="anonymous"),u.logoImg.onload=function(t){u.loaded++},u.spinnerImg=new Image,u.spinnerImg.src=u.SPINNER_DATA,e||(u.spinnerImg.crossOrigin="anonymous"),u.spinnerImg.onload=function(t){u.loaded++})}d=n.webgl||(n.webgl={}),u.prototype.draw=function(t){if(void 0===t&&(t=!1),!(t&&this.fadeOut>u.FADE_SECONDS)){this.timeKeeper.update();var e=Math.abs(Math.sin(this.timeKeeper.totalTime+.75));this.angle-=this.timeKeeper.delta/1.4*360*(1+1.5*Math.pow(e,5));var n=this.renderer,i=n.canvas,r=n.context.gl;n.resize(d.ResizeMode.Stretch);var s,a,o,h,l=n.camera.position.x,c=n.camera.position.y;if(n.camera.position.set(i.width/2,i.height/2,0),n.camera.viewportWidth=i.width,n.camera.viewportHeight=i.height,t){if(this.fadeOut+=this.timeKeeper.delta*(this.timeKeeper.totalTime<1?2:1),this.fadeOut>u.FADE_SECONDS)return void n.camera.position.set(l,c,0);e=1-this.fadeOut/u.FADE_SECONDS,this.tempColor.setFromColor(this.backgroundColor),this.tempColor.a=1-(e-1)*(e-1),n.begin(),n.quad(!0,0,0,i.width,0,i.width,i.height,0,i.height,this.tempColor,this.tempColor,this.tempColor,this.tempColor),n.end()}else r.clearColor(this.backgroundColor.r,this.backgroundColor.g,this.backgroundColor.b,this.backgroundColor.a),r.clear(r.COLOR_BUFFER_BIT),this.tempColor.a=1;this.tempColor.set(1,1,1,this.tempColor.a),2==u.loaded&&(null===this.logo&&(this.logo=new d.GLTexture(n.context,u.logoImg),this.spinner=new d.GLTexture(n.context,u.spinnerImg)),this.logo.update(!1),this.spinner.update(!1),s=this.logo.getImage().width,a=this.logo.getImage().height,o=this.spinner.getImage().width,h=this.spinner.getImage().height,n.batcher.setBlendMode(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),n.begin(),n.drawTexture(this.logo,(i.width-s)/2,(i.height-a)/2,s,a,this.tempColor),n.drawTextureRotated(this.spinner,(i.width-o)/2,(i.height-h)/2,o,h,o/2,h/2,this.angle,this.tempColor),n.end(),n.camera.position.set(l,c,0))}},u.FADE_SECONDS=1,u.loaded=0,u.spinnerImg=null,u.logoImg=null,u.SPINNER_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAACjCAYAAADmbK6AAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpmZDhlNTljMC02NGJjLTIxNGQtODAyZi1jZDlhODJjM2ZjMGMiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDpmYmNmZWJlYS03MjY2LWE0NGQtOTI4NS0wOTJmNGNhYzk4ZWEiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ3YzYzYzIwLWJkYjgtYzM0YS1hYzMyLWQ5MDdjOWEyOTA0MCIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZmQ4ZTU5YzAtNjRiYy0yMTRkLTgwMmYtY2Q5YTgyYzNmYzBjIiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0N2M2M2MyMC1iZGI4LWMzNGEtYWMzMi1kOTA3YzlhMjkwNDAiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFu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",u.SPINE_LOGO_DATA="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKUAAABsCAYAAAALzHKmAAAACXBIWXMAAAsTAAALEwEAmpwYAAALB2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIiB4bWxuczpleGlmPSJodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMTgtMTEtMTVUMTY6NDA6NTkrMDE6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowMTdhZGQ3Ni04OTZlLThlNGUtYmM5MS00ZjEyNjI1YjA3MjgiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDplMTViNGE2ZS1hMDg3LWEzNDktODdhOS1mNDYzYjE2MzQ0Y2MiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHRpZmY6T3JpZW50YXRpb249IjEiIHRpZmY6WFJlc29sdXRpb249IjcyMDAwMC8xMDAwMCIgdGlmZjpZUmVzb2x1dGlvbj0iNzIwMDAwLzEwMDAwIiB0aWZmOlJlc29sdXRpb25Vbml0PSIyIiBleGlmOkNvbG9yU3BhY2U9IjY1NTM1IiBleGlmOlBpeGVsWERpbWVuc2lvbj0iMjk3IiBleGlmOlBpeGVsWURpbWVuc2lvbj0iMjQyIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiIHN0RXZ0OndoZW49IjIwMTYtMDktMDhUMTQ6MjU6MTIrMDI6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1LjUgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiNThlMTlkNi0xYTRjLTQyNDEtODU0ZC01MDVlZjYxMjRhODQiIHN0RXZ0OndoZW49IjIwMTgtMTEtMTVUMTY6NDA6MjMrMDE6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjJlNjJiMWM2LWIxYzQtNDk0MC04MDMxLWU4ZDkyNTBmODJjNSIgc3RFdnQ6d2hlbj0iMjAxOC0xMS0xNVQxNjo0MDo1OSswMTowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY29udmVydGVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJmcm9tIGFwcGxpY2F0aW9uL3ZuZC5hZG9iZS5waG90b3Nob3AgdG8gaW1hZ2UvcG5nIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJkZXJpdmVkIiBzdEV2dDpwYXJhbWV0ZXJzPSJjb252ZXJ0ZWQgZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MDE3YWRkNzYtODk2ZS04ZTRlLWJjOTEtNGYxMjYyNWIwNzI4IiBzdEV2dDp3aGVuPSIyMDE4LTExLTE1VDE2OjQwOjU5KzAxOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoyZTYyYjFjNi1iMWM0LTQ5NDAtODAzMS1lOGQ5MjUwZjgyYzUiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo2OWRmZjljYy01YzFiLWE5NDctOTc3OS03ODgxZjM0ODk3MDMiIHN0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowODMzNWIyYy04NzYyLWQzNGMtOTBhOS02ODJjYjJmYTQ2M2UiLz4gPHBob3Rvc2hvcDpEb2N1bWVudEFu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",t=u,d.LoadingScreen=t}(spine=spine||{}),function(t){!function(p){p.M00=0,p.M01=4,p.M02=8,p.M03=12,p.M10=1,p.M11=5,p.M12=9,p.M13=13,p.M20=2,p.M21=6,p.M22=10,p.M23=14,p.M30=3,p.M31=7,p.M32=11,p.M33=15;var t=(o.prototype.set=function(t){return this.values.set(t),this},o.prototype.transpose=function(){var t=this.temp,e=this.values;return t[p.M00]=e[p.M00],t[p.M01]=e[p.M10],t[p.M02]=e[p.M20],t[p.M03]=e[p.M30],t[p.M10]=e[p.M01],t[p.M11]=e[p.M11],t[p.M12]=e[p.M21],t[p.M13]=e[p.M31],t[p.M20]=e[p.M02],t[p.M21]=e[p.M12],t[p.M22]=e[p.M22],t[p.M23]=e[p.M32],t[p.M30]=e[p.M03],t[p.M31]=e[p.M13],t[p.M32]=e[p.M23],t[p.M33]=e[p.M33],this.set(t)},o.prototype.identity=function(){var t=this.values;return t[p.M00]=1,t[p.M01]=0,t[p.M02]=0,t[p.M03]=0,t[p.M10]=0,t[p.M11]=1,t[p.M12]=0,t[p.M13]=0,t[p.M20]=0,t[p.M21]=0,t[p.M22]=1,t[p.M23]=0,t[p.M30]=0,t[p.M31]=0,t[p.M32]=0,t[p.M33]=1,this},o.prototype.invert=function(){var t=this.values,e=this.temp,n=t[p.M30]*t[p.M21]*t[p.M12]*t[p.M03]-t[p.M20]*t[p.M31]*t[p.M12]*t[p.M03]-t[p.M30]*t[p.M11]*t[p.M22]*t[p.M03]+t[p.M10]*t[p.M31]*t[p.M22]*t[p.M03]+t[p.M20]*t[p.M11]*t[p.M32]*t[p.M03]-t[p.M10]*t[p.M21]*t[p.M32]*t[p.M03]-t[p.M30]*t[p.M21]*t[p.M02]*t[p.M13]+t[p.M20]*t[p.M31]*t[p.M02]*t[p.M13]+t[p.M30]*t[p.M01]*t[p.M22]*t[p.M13]-t[p.M00]*t[p.M31]*t[p.M22]*t[p.M13]-t[p.M20]*t[p.M01]*t[p.M32]*t[p.M13]+t[p.M00]*t[p.M21]*t[p.M32]*t[p.M13]+t[p.M30]*t[p.M11]*t[p.M02]*t[p.M23]-t[p.M10]*t[p.M31]*t[p.M02]*t[p.M23]-t[p.M30]*t[p.M01]*t[p.M12]*t[p.M23]+t[p.M00]*t[p.M31]*t[p.M12]*t[p.M23]+t[p.M10]*t[p.M01]*t[p.M32]*t[p.M23]-t[p.M00]*t[p.M11]*t[p.M32]*t[p.M23]-t[p.M20]*t[p.M11]*t[p.M02]*t[p.M33]+t[p.M10]*t[p.M21]*t[p.M02]*t[p.M33]+t[p.M20]*t[p.M01]*t[p.M12]*t[p.M33]-t[p.M00]*t[p.M21]*t[p.M12]*t[p.M33]-t[p.M10]*t[p.M01]*t[p.M22]*t[p.M33]+t[p.M00]*t[p.M11]*t[p.M22]*t[p.M33];if(0==n)throw new Error("non-invertible matrix");var i=1/n;return e[p.M00]=t[p.M12]*t[p.M23]*t[p.M31]-t[p.M13]*t[p.M22]*t[p.M31]+t[p.M13]*t[p.M21]*t[p.M32]-t[p.M11]*t[p.M23]*t[p.M32]-t[p.M12]*t[p.M21]*t[p.M33]+t[p.M11]*t[p.M22]*t[p.M33],e[p.M01]=t[p.M03]*t[p.M22]*t[p.M31]-t[p.M02]*t[p.M23]*t[p.M31]-t[p.M03]*t[p.M21]*t[p.M32]+t[p.M01]*t[p.M23]*t[p.M32]+t[p.M02]*t[p.M21]*t[p.M33]-t[p.M01]*t[p.M22]*t[p.M33],e[p.M02]=t[p.M02]*t[p.M13]*t[p.M31]-t[p.M03]*t[p.M12]*t[p.M31]+t[p.M03]*t[p.M11]*t[p.M32]-t[p.M01]*t[p.M13]*t[p.M32]-t[p.M02]*t[p.M11]*t[p.M33]+t[p.M01]*t[p.M12]*t[p.M33],e[p.M03]=t[p.M03]*t[p.M12]*t[p.M21]-t[p.M02]*t[p.M13]*t[p.M21]-t[p.M03]*t[p.M11]*t[p.M22]+t[p.M01]*t[p.M13]*t[p.M22]+t[p.M02]*t[p.M11]*t[p.M23]-t[p.M01]*t[p.M12]*t[p.M23],e[p.M10]=t[p.M13]*t[p.M22]*t[p.M30]-t[p.M12]*t[p.M23]*t[p.M30]-t[p.M13]*t[p.M20]*t[p.M32]+t[p.M10]*t[p.M23]*t[p.M32]+t[p.M12]*t[p.M20]*t[p.M33]-t[p.M10]*t[p.M22]*t[p.M33],e[p.M11]=t[p.M02]*t[p.M23]*t[p.M30]-t[p.M03]*t[p.M22]*t[p.M30]+t[p.M03]*t[p.M20]*t[p.M32]-t[p.M00]*t[p.M23]*t[p.M32]-t[p.M02]*t[p.M20]*t[p.M33]+t[p.M00]*t[p.M22]*t[p.M33],e[p.M12]=t[p.M03]*t[p.M12]*t[p.M30]-t[p.M02]*t[p.M13]*t[p.M30]-t[p.M03]*t[p.M10]*t[p.M32]+t[p.M00]*t[p.M13]*t[p.M32]+t[p.M02]*t[p.M10]*t[p.M33]-t[p.M00]*t[p.M12]*t[p.M33],e[p.M13]=t[p.M02]*t[p.M13]*t[p.M20]-t[p.M03]*t[p.M12]*t[p.M20]+t[p.M03]*t[p.M10]*t[p.M22]-t[p.M00]*t[p.M13]*t[p.M22]-t[p.M02]*t[p.M10]*t[p.M23]+t[p.M00]*t[p.M12]*t[p.M23],e[p.M20]=t[p.M11]*t[p.M23]*t[p.M30]-t[p.M13]*t[p.M21]*t[p.M30]+t[p.M13]*t[p.M20]*t[p.M31]-t[p.M10]*t[p.M23]*t[p.M31]-t[p.M11]*t[p.M20]*t[p.M33]+t[p.M10]*t[p.M21]*t[p.M33],e[p.M21]=t[p.M03]*t[p.M21]*t[p.M30]-t[p.M01]*t[p.M23]*t[p.M30]-t[p.M03]*t[p.M20]*t[p.M31]+t[p.M00]*t[p.M23]*t[p.M31]+t[p.M01]*t[p.M20]*t[p.M33]-t[p.M00]*t[p.M21]*t[p.M33],e[p.M22]=t[p.M01]*t[p.M13]*t[p.M30]-t[p.M03]*t[p.M11]*t[p.M30]+t[p.M03]*t[p.M10]*t[p.M31]-t[p.M00]*t[p.M13]*t[p.M31]-t[p.M01]*t[p.M10]*t[p.M33]+t[p.M00]*t[p.M11]*t[p.M33],e[p.M23]=t[p.M03]*t[p.M11]*t[p.M20]-t[p.M01]*t[p.M13]*t[p.M20]-t[p.M03]*t[p.M10]*t[p.M21]+t[p.M00]*t[p.M13]*t[p.M21]+t[p.M01]*t[p.M10]*t[p.M23]-t[p.M00]*t[p.M11]*t[p.M23],e[p.M30]=t[p.M12]*t[p.M21]*t[p.M30]-t[p.M11]*t[p.M22]*t[p.M30]-t[p.M12]*t[p.M20]*t[p.M31]+t[p.M10]*t[p.M22]*t[p.M31]+t[p.M11]*t[p.M20]*t[p.M32]-t[p.M10]*t[p.M21]*t[p.M32],e[p.M31]=t[p.M01]*t[p.M22]*t[p.M30]-t[p.M02]*t[p.M21]*t[p.M30]+t[p.M02]*t[p.M20]*t[p.M31]-t[p.M00]*t[p.M22]*t[p.M31]-t[p.M01]*t[p.M20]*t[p.M32]+t[p.M00]*t[p.M21]*t[p.M32],e[p.M32]=t[p.M02]*t[p.M11]*t[p.M30]-t[p.M01]*t[p.M12]*t[p.M30]-t[p.M02]*t[p.M10]*t[p.M31]+t[p.M00]*t[p.M12]*t[p.M31]+t[p.M01]*t[p.M10]*t[p.M32]-t[p.M00]*t[p.M11]*t[p.M32],e[p.M33]=t[p.M01]*t[p.M12]*t[p.M20]-t[p.M02]*t[p.M11]*t[p.M20]+t[p.M02]*t[p.M10]*t[p.M21]-t[p.M00]*t[p.M12]*t[p.M21]-t[p.M01]*t[p.M10]*t[p.M22]+t[p.M00]*t[p.M11]*t[p.M22],t[p.M00]=e[p.M00]*i,t[p.M01]=e[p.M01]*i,t[p.M02]=e[p.M02]*i,t[p.M03]=e[p.M03]*i,t[p.M10]=e[p.M10]*i,t[p.M11]=e[p.M11]*i,t[p.M12]=e[p.M12]*i,t[p.M13]=e[p.M13]*i,t[p.M20]=e[p.M20]*i,t[p.M21]=e[p.M21]*i,t[p.M22]=e[p.M22]*i,t[p.M23]=e[p.M23]*i,t[p.M30]=e[p.M30]*i,t[p.M31]=e[p.M31]*i,t[p.M32]=e[p.M32]*i,t[p.M33]=e[p.M33]*i,this},o.prototype.determinant=function(){var t=this.values;return t[p.M30]*t[p.M21]*t[p.M12]*t[p.M03]-t[p.M20]*t[p.M31]*t[p.M12]*t[p.M03]-t[p.M30]*t[p.M11]*t[p.M22]*t[p.M03]+t[p.M10]*t[p.M31]*t[p.M22]*t[p.M03]+t[p.M20]*t[p.M11]*t[p.M32]*t[p.M03]-t[p.M10]*t[p.M21]*t[p.M32]*t[p.M03]-t[p.M30]*t[p.M21]*t[p.M02]*t[p.M13]+t[p.M20]*t[p.M31]*t[p.M02]*t[p.M13]+t[p.M30]*t[p.M01]*t[p.M22]*t[p.M13]-t[p.M00]*t[p.M31]*t[p.M22]*t[p.M13]-t[p.M20]*t[p.M01]*t[p.M32]*t[p.M13]+t[p.M00]*t[p.M21]*t[p.M32]*t[p.M13]+t[p.M30]*t[p.M11]*t[p.M02]*t[p.M23]-t[p.M10]*t[p.M31]*t[p.M02]*t[p.M23]-t[p.M30]*t[p.M01]*t[p.M12]*t[p.M23]+t[p.M00]*t[p.M31]*t[p.M12]*t[p.M23]+t[p.M10]*t[p.M01]*t[p.M32]*t[p.M23]-t[p.M00]*t[p.M11]*t[p.M32]*t[p.M23]-t[p.M20]*t[p.M11]*t[p.M02]*t[p.M33]+t[p.M10]*t[p.M21]*t[p.M02]*t[p.M33]+t[p.M20]*t[p.M01]*t[p.M12]*t[p.M33]-t[p.M00]*t[p.M21]*t[p.M12]*t[p.M33]-t[p.M10]*t[p.M01]*t[p.M22]*t[p.M33]+t[p.M00]*t[p.M11]*t[p.M22]*t[p.M33]},o.prototype.translate=function(t,e,n){var i=this.values;return i[p.M03]+=t,i[p.M13]+=e,i[p.M23]+=n,this},o.prototype.copy=function(){return(new o).set(this.values)},o.prototype.projection=function(t,e,n,i){this.identity();var r=1/Math.tan(n*(Math.PI/180)/2),s=(e+t)/(t-e),a=2*e*t/(t-e),o=this.values;return o[p.M00]=r/i,o[p.M10]=0,o[p.M20]=0,o[p.M30]=0,o[p.M01]=0,o[p.M11]=r,o[p.M21]=0,o[p.M31]=0,o[p.M02]=0,o[p.M12]=0,o[p.M22]=s,o[p.M32]=-1,o[p.M03]=0,o[p.M13]=0,o[p.M23]=a,o[p.M33]=0,this},o.prototype.ortho2d=function(t,e,n,i){return this.ortho(t,t+n,e,e+i,0,1)},o.prototype.ortho=function(t,e,n,i,r,s){this.identity();var a=2/(e-t),o=2/(i-n),h=-2/(s-r),l=-(e+t)/(e-t),c=-(i+n)/(i-n),d=-(s+r)/(s-r),u=this.values;return u[p.M00]=a,u[p.M10]=0,u[p.M20]=0,u[p.M30]=0,u[p.M01]=0,u[p.M11]=o,u[p.M21]=0,u[p.M31]=0,u[p.M02]=0,u[p.M12]=0,u[p.M22]=h,u[p.M32]=0,u[p.M03]=l,u[p.M13]=c,u[p.M23]=d,u[p.M33]=1,this},o.prototype.multiply=function(t){var e=this.temp,n=this.values,i=t.values;return e[p.M00]=n[p.M00]*i[p.M00]+n[p.M01]*i[p.M10]+n[p.M02]*i[p.M20]+n[p.M03]*i[p.M30],e[p.M01]=n[p.M00]*i[p.M01]+n[p.M01]*i[p.M11]+n[p.M02]*i[p.M21]+n[p.M03]*i[p.M31],e[p.M02]=n[p.M00]*i[p.M02]+n[p.M01]*i[p.M12]+n[p.M02]*i[p.M22]+n[p.M03]*i[p.M32],e[p.M03]=n[p.M00]*i[p.M03]+n[p.M01]*i[p.M13]+n[p.M02]*i[p.M23]+n[p.M03]*i[p.M33],e[p.M10]=n[p.M10]*i[p.M00]+n[p.M11]*i[p.M10]+n[p.M12]*i[p.M20]+n[p.M13]*i[p.M30],e[p.M11]=n[p.M10]*i[p.M01]+n[p.M11]*i[p.M11]+n[p.M12]*i[p.M21]+n[p.M13]*i[p.M31],e[p.M12]=n[p.M10]*i[p.M02]+n[p.M11]*i[p.M12]+n[p.M12]*i[p.M22]+n[p.M13]*i[p.M32],e[p.M13]=n[p.M10]*i[p.M03]+n[p.M11]*i[p.M13]+n[p.M12]*i[p.M23]+n[p.M13]*i[p.M33],e[p.M20]=n[p.M20]*i[p.M00]+n[p.M21]*i[p.M10]+n[p.M22]*i[p.M20]+n[p.M23]*i[p.M30],e[p.M21]=n[p.M20]*i[p.M01]+n[p.M21]*i[p.M11]+n[p.M22]*i[p.M21]+n[p.M23]*i[p.M31],e[p.M22]=n[p.M20]*i[p.M02]+n[p.M21]*i[p.M12]+n[p.M22]*i[p.M22]+n[p.M23]*i[p.M32],e[p.M23]=n[p.M20]*i[p.M03]+n[p.M21]*i[p.M13]+n[p.M22]*i[p.M23]+n[p.M23]*i[p.M33],e[p.M30]=n[p.M30]*i[p.M00]+n[p.M31]*i[p.M10]+n[p.M32]*i[p.M20]+n[p.M33]*i[p.M30],e[p.M31]=n[p.M30]*i[p.M01]+n[p.M31]*i[p.M11]+n[p.M32]*i[p.M21]+n[p.M33]*i[p.M31],e[p.M32]=n[p.M30]*i[p.M02]+n[p.M31]*i[p.M12]+n[p.M32]*i[p.M22]+n[p.M33]*i[p.M32],e[p.M33]=n[p.M30]*i[p.M03]+n[p.M31]*i[p.M13]+n[p.M32]*i[p.M23]+n[p.M33]*i[p.M33],this.set(this.temp)},o.prototype.multiplyLeft=function(t){var e=this.temp,n=this.values,i=t.values;return e[p.M00]=i[p.M00]*n[p.M00]+i[p.M01]*n[p.M10]+i[p.M02]*n[p.M20]+i[p.M03]*n[p.M30],e[p.M01]=i[p.M00]*n[p.M01]+i[p.M01]*n[p.M11]+i[p.M02]*n[p.M21]+i[p.M03]*n[p.M31],e[p.M02]=i[p.M00]*n[p.M02]+i[p.M01]*n[p.M12]+i[p.M02]*n[p.M22]+i[p.M03]*n[p.M32],e[p.M03]=i[p.M00]*n[p.M03]+i[p.M01]*n[p.M13]+i[p.M02]*n[p.M23]+i[p.M03]*n[p.M33],e[p.M10]=i[p.M10]*n[p.M00]+i[p.M11]*n[p.M10]+i[p.M12]*n[p.M20]+i[p.M13]*n[p.M30],e[p.M11]=i[p.M10]*n[p.M01]+i[p.M11]*n[p.M11]+i[p.M12]*n[p.M21]+i[p.M13]*n[p.M31],e[p.M12]=i[p.M10]*n[p.M02]+i[p.M11]*n[p.M12]+i[p.M12]*n[p.M22]+i[p.M13]*n[p.M32],e[p.M13]=i[p.M10]*n[p.M03]+i[p.M11]*n[p.M13]+i[p.M12]*n[p.M23]+i[p.M13]*n[p.M33],e[p.M20]=i[p.M20]*n[p.M00]+i[p.M21]*n[p.M10]+i[p.M22]*n[p.M20]+i[p.M23]*n[p.M30],e[p.M21]=i[p.M20]*n[p.M01]+i[p.M21]*n[p.M11]+i[p.M22]*n[p.M21]+i[p.M23]*n[p.M31],e[p.M22]=i[p.M20]*n[p.M02]+i[p.M21]*n[p.M12]+i[p.M22]*n[p.M22]+i[p.M23]*n[p.M32],e[p.M23]=i[p.M20]*n[p.M03]+i[p.M21]*n[p.M13]+i[p.M22]*n[p.M23]+i[p.M23]*n[p.M33],e[p.M30]=i[p.M30]*n[p.M00]+i[p.M31]*n[p.M10]+i[p.M32]*n[p.M20]+i[p.M33]*n[p.M30],e[p.M31]=i[p.M30]*n[p.M01]+i[p.M31]*n[p.M11]+i[p.M32]*n[p.M21]+i[p.M33]*n[p.M31],e[p.M32]=i[p.M30]*n[p.M02]+i[p.M31]*n[p.M12]+i[p.M32]*n[p.M22]+i[p.M33]*n[p.M32],e[p.M33]=i[p.M30]*n[p.M03]+i[p.M31]*n[p.M13]+i[p.M32]*n[p.M23]+i[p.M33]*n[p.M33],this.set(this.temp)},o.prototype.lookAt=function(t,e,n){o.initTemps();var i=o.xAxis,r=o.yAxis,s=o.zAxis;s.setFrom(e).normalize(),i.setFrom(e).normalize(),i.cross(n).normalize(),r.setFrom(i).cross(s).normalize(),this.identity();var a=this.values;return a[p.M00]=i.x,a[p.M01]=i.y,a[p.M02]=i.z,a[p.M10]=r.x,a[p.M11]=r.y,a[p.M12]=r.z,a[p.M20]=-s.x,a[p.M21]=-s.y,a[p.M22]=-s.z,o.tmpMatrix.identity(),o.tmpMatrix.values[p.M03]=-t.x,o.tmpMatrix.values[p.M13]=-t.y,o.tmpMatrix.values[p.M23]=-t.z,this.multiply(o.tmpMatrix),this},o.initTemps=function(){null===o.xAxis&&(o.xAxis=new p.Vector3),null===o.yAxis&&(o.yAxis=new p.Vector3),null===o.zAxis&&(o.zAxis=new p.Vector3)},o.xAxis=null,o.yAxis=null,o.zAxis=null,o.tmpMatrix=new o,o);function o(){this.temp=new Float32Array(16),this.values=new Float32Array(16);var t=this.values;t[p.M00]=1,t[p.M11]=1,t[p.M22]=1,t[p.M33]=1}p.Matrix4=t}(t.webgl||(t.webgl={}))}(spine=spine||{}),function(t){!function(s){var t=(e.prototype.getAttributes=function(){return this.attributes},e.prototype.maxVertices=function(){return this.vertices.length/this.elementsPerVertex},e.prototype.numVertices=function(){return this.verticesLength/this.elementsPerVertex},e.prototype.setVerticesLength=function(t){this.dirtyVertices=!0,this.verticesLength=t},e.prototype.getVertices=function(){return this.vertices},e.prototype.maxIndices=function(){return this.indices.length},e.prototype.numIndices=function(){return this.indicesLength},e.prototype.setIndicesLength=function(t){this.dirtyIndices=!0,this.indicesLength=t},e.prototype.getIndices=function(){return this.indices},e.prototype.getVertexSizeInFloats=function(){for(var t=0,e=0;e<this.attributes.length;e++)t+=this.attributes[e].numElements;return t},e.prototype.setVertices=function(t){if(this.dirtyVertices=!0,t.length>this.vertices.length)throw Error("Mesh can't store more than "+this.maxVertices()+" vertices");this.vertices.set(t,0),this.verticesLength=t.length},e.prototype.setIndices=function(t){if(this.dirtyIndices=!0,t.length>this.indices.length)throw Error("Mesh can't store more than "+this.maxIndices()+" indices");this.indices.set(t,0),this.indicesLength=t.length},e.prototype.draw=function(t,e){this.drawWithOffset(t,e,0,0<this.indicesLength?this.indicesLength:this.verticesLength/this.elementsPerVertex)},e.prototype.drawWithOffset=function(t,e,n,i){var r=this.context.gl;(this.dirtyVertices||this.dirtyIndices)&&this.update(),this.bind(t),0<this.indicesLength?r.drawElements(e,i,r.UNSIGNED_SHORT,2*n):r.drawArrays(e,n,i),this.unbind(t)},e.prototype.bind=function(t){var e=this.context.gl;e.bindBuffer(e.ARRAY_BUFFER,this.verticesBuffer);for(var n=0,i=0;i<this.attributes.length;i++){var r=this.attributes[i],s=t.getAttributeLocation(r.name);e.enableVertexAttribArray(s),e.vertexAttribPointer(s,r.numElements,e.FLOAT,!1,4*this.elementsPerVertex,4*n),n+=r.numElements}0<this.indicesLength&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer)},e.prototype.unbind=function(t){for(var e=this.context.gl,n=0;n<this.attributes.length;n++){var i=this.attributes[n],r=t.getAttributeLocation(i.name);e.disableVertexAttribArray(r)}e.bindBuffer(e.ARRAY_BUFFER,null),0<this.indicesLength&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)},e.prototype.update=function(){var t=this.context.gl;this.dirtyVertices&&(this.verticesBuffer||(this.verticesBuffer=t.createBuffer()),t.bindBuffer(t.ARRAY_BUFFER,this.verticesBuffer),t.bufferData(t.ARRAY_BUFFER,this.vertices.subarray(0,this.verticesLength),t.DYNAMIC_DRAW),this.dirtyVertices=!1),this.dirtyIndices&&(this.indicesBuffer||(this.indicesBuffer=t.createBuffer()),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.indices.subarray(0,this.indicesLength),t.DYNAMIC_DRAW),this.dirtyIndices=!1)},e.prototype.restore=function(){this.verticesBuffer=null,this.indicesBuffer=null,this.update()},e.prototype.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;t.deleteBuffer(this.verticesBuffer),t.deleteBuffer(this.indicesBuffer)},e);function e(t,e,n,i){this.attributes=e,this.verticesLength=0,this.dirtyVertices=!1,this.indicesLength=0,this.dirtyIndices=!1,this.elementsPerVertex=0,this.context=t instanceof s.ManagedWebGLRenderingContext?t:new s.ManagedWebGLRenderingContext(t);for(var r=this.elementsPerVertex=0;r<e.length;r++)this.elementsPerVertex+=e[r].numElements;this.vertices=new Float32Array(n*this.elementsPerVertex),this.indices=new Uint16Array(i),this.context.addRestorable(this)}s.Mesh=t;function n(t,e,n){this.name=t,this.type=e,this.numElements=n}s.VertexAttribute=n;var i,r=(__extends(a,i=n),a);function a(){return i.call(this,s.Shader.POSITION,M.Float,2)||this}s.Position2Attribute=r;var o,h=(__extends(l,o=n),l);function l(){return o.call(this,s.Shader.POSITION,M.Float,3)||this}s.Position3Attribute=h;var c,d=(__extends(u,c=n),u);function u(t){return void 0===t&&(t=0),c.call(this,s.Shader.TEXCOORDS+(0==t?"":t),M.Float,2)||this}s.TexCoordAttribute=d;var p,f=(__extends(g,p=n),g);function g(){return p.call(this,s.Shader.COLOR,M.Float,4)||this}s.ColorAttribute=f;var m,M,v,y=(__extends(w,m=n),w);function w(){return m.call(this,s.Shader.COLOR2,M.Float,4)||this}s.Color2Attribute=y,(v=M=s.VertexAttributeType||(s.VertexAttributeType={}))[v.Float=0]="Float"}(t.webgl||(t.webgl={}))}(spine=spine||{}),function(t){var r,e;function n(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=10920),this.isDrawing=!1,this.shader=null,this.lastTexture=null,this.verticesLength=0,this.indicesLength=0,10920<n)throw new Error("Can't have more than 10920 triangles per batch: "+n);this.context=t instanceof r.ManagedWebGLRenderingContext?t:new r.ManagedWebGLRenderingContext(t);var i=e?[new r.Position2Attribute,new r.ColorAttribute,new r.TexCoordAttribute,new r.Color2Attribute]:[new r.Position2Attribute,new r.ColorAttribute,new r.TexCoordAttribute];this.mesh=new r.Mesh(t,i,n,3*n),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}r=t.webgl||(t.webgl={}),n.prototype.begin=function(t){var e=this.context.gl;if(this.isDrawing)throw new Error("PolygonBatch is already drawing. Call PolygonBatch.end() before calling PolygonBatch.begin()");this.drawCalls=0,this.shader=t,this.lastTexture=null,this.isDrawing=!0,e.enable(e.BLEND),e.blendFunc(this.srcBlend,this.dstBlend)},n.prototype.setBlendMode=function(t,e){var n=this.context.gl;this.srcBlend=t,this.dstBlend=e,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},n.prototype.draw=function(t,e,n){t!=this.lastTexture?(this.flush(),this.lastTexture=t):(this.verticesLength+e.length>this.mesh.getVertices().length||this.indicesLength+n.length>this.mesh.getIndices().length)&&this.flush();var i=this.mesh.numVertices();this.mesh.getVertices().set(e,this.verticesLength),this.verticesLength+=e.length,this.mesh.setVerticesLength(this.verticesLength);for(var r=this.mesh.getIndices(),s=this.indicesLength,a=0;a<n.length;s++,a++)r[s]=n[a]+i;this.indicesLength+=n.length,this.mesh.setIndicesLength(this.indicesLength)},n.prototype.flush=function(){var t=this.context.gl;0!=this.verticesLength&&(this.lastTexture.bind(),this.mesh.draw(this.shader,t.TRIANGLES),this.verticesLength=0,this.indicesLength=0,this.mesh.setVerticesLength(0),this.mesh.setIndicesLength(0),this.drawCalls++)},n.prototype.end=function(){var t=this.context.gl;if(!this.isDrawing)throw new Error("PolygonBatch is not drawing. Call PolygonBatch.begin() before calling PolygonBatch.end()");(0<this.verticesLength||0<this.indicesLength)&&this.flush(),this.shader=null,this.lastTexture=null,this.isDrawing=!1,t.disable(t.BLEND)},n.prototype.getDrawCalls=function(){return this.drawCalls},n.prototype.dispose=function(){this.mesh.dispose()},e=n,r.PolygonBatcher=e}(spine=spine||{}),function(D){var i,l,t,e;function n(t,e,n){void 0===n&&(n=!0),this.twoColorTint=!1,this.activeRenderer=null,this.QUAD=[0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0],this.QUAD_TRIANGLES=[0,1,2,2,3,0],this.WHITE=new D.Color(1,1,1,1),this.canvas=t,this.context=e instanceof i.ManagedWebGLRenderingContext?e:new i.ManagedWebGLRenderingContext(e),this.twoColorTint=n,this.camera=new i.OrthoCamera(t.width,t.height),this.batcherShader=n?i.Shader.newTwoColoredTextured(this.context):i.Shader.newColoredTextured(this.context),this.batcher=new i.PolygonBatcher(this.context,n),this.shapesShader=i.Shader.newColored(this.context),this.shapes=new i.ShapeRenderer(this.context),this.skeletonRenderer=new i.SkeletonRenderer(this.context,n),this.skeletonDebugRenderer=new i.SkeletonDebugRenderer(this.context)}i=D.webgl||(D.webgl={}),n.prototype.begin=function(){this.camera.update(),this.enableRenderer(this.batcher)},n.prototype.drawSkeleton=function(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=-1),void 0===i&&(i=-1),this.enableRenderer(this.batcher),this.skeletonRenderer.premultipliedAlpha=e,this.skeletonRenderer.draw(this.batcher,t,n,i)},n.prototype.drawSkeletonDebug=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.enableRenderer(this.shapes),this.skeletonDebugRenderer.premultipliedAlpha=e,this.skeletonDebugRenderer.draw(this.shapes,t,n)},n.prototype.drawTexture=function(t,e,n,i,r,s){void 0===s&&(s=null),this.enableRenderer(this.batcher),null===s&&(s=this.WHITE);var a=this.QUAD,o=0;a[o++]=e,a[o++]=n,a[o++]=s.r,a[o++]=s.g,a[o++]=s.b,a[o++]=s.a,a[o++]=0,a[o++]=1,this.twoColorTint&&(a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0),a[o++]=e+i,a[o++]=n,a[o++]=s.r,a[o++]=s.g,a[o++]=s.b,a[o++]=s.a,a[o++]=1,a[o++]=1,this.twoColorTint&&(a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0),a[o++]=e+i,a[o++]=n+r,a[o++]=s.r,a[o++]=s.g,a[o++]=s.b,a[o++]=s.a,a[o++]=1,a[o++]=0,this.twoColorTint&&(a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0),a[o++]=e,a[o++]=n+r,a[o++]=s.r,a[o++]=s.g,a[o++]=s.b,a[o++]=s.a,a[o++]=0,a[o++]=0,this.twoColorTint&&(a[o++]=0,a[o++]=0,a[o++]=0,a[o++]=0),this.batcher.draw(t,a,this.QUAD_TRIANGLES)},n.prototype.drawTextureUV=function(t,e,n,i,r,s,a,o,h,l){void 0===l&&(l=null),this.enableRenderer(this.batcher),null===l&&(l=this.WHITE);var c=this.QUAD,d=0;c[d++]=e,c[d++]=n,c[d++]=l.r,c[d++]=l.g,c[d++]=l.b,c[d++]=l.a,c[d++]=s,c[d++]=a,this.twoColorTint&&(c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0),c[d++]=e+i,c[d++]=n,c[d++]=l.r,c[d++]=l.g,c[d++]=l.b,c[d++]=l.a,c[d++]=o,c[d++]=a,this.twoColorTint&&(c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0),c[d++]=e+i,c[d++]=n+r,c[d++]=l.r,c[d++]=l.g,c[d++]=l.b,c[d++]=l.a,c[d++]=o,c[d++]=h,this.twoColorTint&&(c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0),c[d++]=e,c[d++]=n+r,c[d++]=l.r,c[d++]=l.g,c[d++]=l.b,c[d++]=l.a,c[d++]=s,c[d++]=h,this.twoColorTint&&(c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0),this.batcher.draw(t,c,this.QUAD_TRIANGLES)},n.prototype.drawTextureRotated=function(t,e,n,i,r,s,a,o,h,l){void 0===h&&(h=null),void 0===l&&(l=!1),this.enableRenderer(this.batcher),null===h&&(h=this.WHITE);var c,d,u=this.QUAD,p=e+s,f=n+a,g=-s,m=-a,M=i-s,v=r-a,y=g,w=m,x=g,b=v,A=M,E=v,T=M,R=m,S=0,I=0,C=0,k=0,V=0,P=0,L=0,O=0;k=0!=o?(C=(V=(c=D.MathUtils.cosDeg(o))*A-(d=D.MathUtils.sinDeg(o))*E)+((S=c*y-d*w)-(L=c*x-d*b)),(P=d*A+c*E)+((I=d*y+c*w)-(O=d*x+c*b))):(S=y,I=w,L=x,O=b,V=A,P=E,C=T,R),S+=p,I+=f,C+=p,k+=f,V+=p,P+=f,L+=p,O+=f;var N=0;u[N++]=S,u[N++]=I,u[N++]=h.r,u[N++]=h.g,u[N++]=h.b,u[N++]=h.a,u[N++]=0,u[N++]=1,this.twoColorTint&&(u[N++]=0,u[N++]=0,u[N++]=0,u[N++]=0),u[N++]=C,u[N++]=k,u[N++]=h.r,u[N++]=h.g,u[N++]=h.b,u[N++]=h.a,u[N++]=1,u[N++]=1,this.twoColorTint&&(u[N++]=0,u[N++]=0,u[N++]=0,u[N++]=0),u[N++]=V,u[N++]=P,u[N++]=h.r,u[N++]=h.g,u[N++]=h.b,u[N++]=h.a,u[N++]=1,u[N++]=0,this.twoColorTint&&(u[N++]=0,u[N++]=0,u[N++]=0,u[N++]=0),u[N++]=L,u[N++]=O,u[N++]=h.r,u[N++]=h.g,u[N++]=h.b,u[N++]=h.a,u[N++]=0,u[N++]=0,this.twoColorTint&&(u[N++]=0,u[N++]=0,u[N++]=0,u[N++]=0),this.batcher.draw(t,u,this.QUAD_TRIANGLES)},n.prototype.drawRegion=function(t,e,n,i,r,s,a){void 0===s&&(s=null),void 0===a&&(a=!1),this.enableRenderer(this.batcher),null===s&&(s=this.WHITE);var o=this.QUAD,h=0;o[h++]=e,o[h++]=n,o[h++]=s.r,o[h++]=s.g,o[h++]=s.b,o[h++]=s.a,o[h++]=t.u,o[h++]=t.v2,this.twoColorTint&&(o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0),o[h++]=e+i,o[h++]=n,o[h++]=s.r,o[h++]=s.g,o[h++]=s.b,o[h++]=s.a,o[h++]=t.u2,o[h++]=t.v2,this.twoColorTint&&(o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0),o[h++]=e+i,o[h++]=n+r,o[h++]=s.r,o[h++]=s.g,o[h++]=s.b,o[h++]=s.a,o[h++]=t.u2,o[h++]=t.v,this.twoColorTint&&(o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0),o[h++]=e,o[h++]=n+r,o[h++]=s.r,o[h++]=s.g,o[h++]=s.b,o[h++]=s.a,o[h++]=t.u,o[h++]=t.v,this.twoColorTint&&(o[h++]=0,o[h++]=0,o[h++]=0,o[h++]=0),this.batcher.draw(t.texture,o,this.QUAD_TRIANGLES)},n.prototype.line=function(t,e,n,i,r,s){void 0===r&&(r=null),void 0===s&&(s=null),this.enableRenderer(this.shapes),this.shapes.line(t,e,n,i,r)},n.prototype.triangle=function(t,e,n,i,r,s,a,o,h,l){void 0===o&&(o=null),void 0===h&&(h=null),void 0===l&&(l=null),this.enableRenderer(this.shapes),this.shapes.triangle(t,e,n,i,r,s,a,o,h,l)},n.prototype.quad=function(t,e,n,i,r,s,a,o,h,l,c,d,u){void 0===l&&(l=null),void 0===c&&(c=null),void 0===d&&(d=null),void 0===u&&(u=null),this.enableRenderer(this.shapes),this.shapes.quad(t,e,n,i,r,s,a,o,h,l,c,d,u)},n.prototype.rect=function(t,e,n,i,r,s){void 0===s&&(s=null),this.enableRenderer(this.shapes),this.shapes.rect(t,e,n,i,r,s)},n.prototype.rectLine=function(t,e,n,i,r,s,a){void 0===a&&(a=null),this.enableRenderer(this.shapes),this.shapes.rectLine(t,e,n,i,r,s,a)},n.prototype.polygon=function(t,e,n,i){void 0===i&&(i=null),this.enableRenderer(this.shapes),this.shapes.polygon(t,e,n,i)},n.prototype.circle=function(t,e,n,i,r,s){void 0===r&&(r=null),void 0===s&&(s=0),this.enableRenderer(this.shapes),this.shapes.circle(t,e,n,i,r,s)},n.prototype.curve=function(t,e,n,i,r,s,a,o,h,l){void 0===l&&(l=null),this.enableRenderer(this.shapes),this.shapes.curve(t,e,n,i,r,s,a,o,h,l)},n.prototype.end=function(){this.activeRenderer===this.batcher?this.batcher.end():this.activeRenderer===this.shapes&&this.shapes.end(),this.activeRenderer=null},n.prototype.resize=function(t){var e,n,i,r,s,a=this.canvas,o=a.clientWidth,h=a.clientHeight;a.width==o&&a.height==h||(a.width=o,a.height=h),this.context.gl.viewport(0,0,a.width,a.height),t===l.Stretch||(t===l.Expand?this.camera.setViewport(o,h):t===l.Fit&&(e=a.width,n=a.height,i=this.camera.viewportWidth,s=(r=this.camera.viewportHeight)/i<n/e?i/e:r/n,this.camera.viewportWidth=e*s,this.camera.viewportHeight=n*s)),this.camera.update()},n.prototype.enableRenderer=function(t){this.activeRenderer!==t&&(this.end(),t instanceof i.PolygonBatcher?(this.batcherShader.bind(),this.batcherShader.setUniform4x4f(i.Shader.MVP_MATRIX,this.camera.projectionView.values),this.batcherShader.setUniformi("u_texture",0),this.batcher.begin(this.batcherShader),this.activeRenderer=this.batcher):t instanceof i.ShapeRenderer?(this.shapesShader.bind(),this.shapesShader.setUniform4x4f(i.Shader.MVP_MATRIX,this.camera.projectionView.values),this.shapes.begin(this.shapesShader),this.activeRenderer=this.shapes):this.activeRenderer=this.skeletonDebugRenderer)},n.prototype.dispose=function(){this.batcher.dispose(),this.batcherShader.dispose(),this.shapes.dispose(),this.shapesShader.dispose(),this.skeletonDebugRenderer.dispose()},e=n,i.SceneRenderer=e,(t=l=i.ResizeMode||(i.ResizeMode={}))[t.Stretch=0]="Stretch",t[t.Expand=1]="Expand",t[t.Fit=2]="Fit"}(spine=spine||{}),function(t){var i,e;function n(t,e,n){this.vertexShader=e,this.fragmentShader=n,this.vs=null,this.fs=null,this.program=null,this.tmp2x2=new Float32Array(4),this.tmp3x3=new Float32Array(9),this.tmp4x4=new Float32Array(16),this.vsSource=e,this.fsSource=n,this.context=t instanceof i.ManagedWebGLRenderingContext?t:new i.ManagedWebGLRenderingContext(t),this.context.addRestorable(this),this.compile()}i=t.webgl||(t.webgl={}),n.prototype.getProgram=function(){return this.program},n.prototype.getVertexShader=function(){return this.vertexShader},n.prototype.getFragmentShader=function(){return this.fragmentShader},n.prototype.getVertexShaderSource=function(){return this.vsSource},n.prototype.getFragmentSource=function(){return this.fsSource},n.prototype.compile=function(){var t=this.context.gl;try{this.vs=this.compileShader(t.VERTEX_SHADER,this.vertexShader),this.fs=this.compileShader(t.FRAGMENT_SHADER,this.fragmentShader),this.program=this.compileProgram(this.vs,this.fs)}catch(t){throw this.dispose(),t}},n.prototype.compileShader=function(t,e){var n=this.context.gl,i=n.createShader(t);if(n.shaderSource(i,e),n.compileShader(i),!n.getShaderParameter(i,n.COMPILE_STATUS)){var r="Couldn't compile shader: "+n.getShaderInfoLog(i);if(n.deleteShader(i),!n.isContextLost())throw new Error(r)}return i},n.prototype.compileProgram=function(t,e){var n=this.context.gl,i=n.createProgram();if(n.attachShader(i,t),n.attachShader(i,e),n.linkProgram(i),!n.getProgramParameter(i,n.LINK_STATUS)){var r="Couldn't compile shader program: "+n.getProgramInfoLog(i);if(n.deleteProgram(i),!n.isContextLost())throw new Error(r)}return i},n.prototype.restore=function(){this.compile()},n.prototype.bind=function(){this.context.gl.useProgram(this.program)},n.prototype.unbind=function(){this.context.gl.useProgram(null)},n.prototype.setUniformi=function(t,e){this.context.gl.uniform1i(this.getUniformLocation(t),e)},n.prototype.setUniformf=function(t,e){this.context.gl.uniform1f(this.getUniformLocation(t),e)},n.prototype.setUniform2f=function(t,e,n){this.context.gl.uniform2f(this.getUniformLocation(t),e,n)},n.prototype.setUniform3f=function(t,e,n,i){this.context.gl.uniform3f(this.getUniformLocation(t),e,n,i)},n.prototype.setUniform4f=function(t,e,n,i,r){this.context.gl.uniform4f(this.getUniformLocation(t),e,n,i,r)},n.prototype.setUniform2x2f=function(t,e){var n=this.context.gl;this.tmp2x2.set(e),n.uniformMatrix2fv(this.getUniformLocation(t),!1,this.tmp2x2)},n.prototype.setUniform3x3f=function(t,e){var n=this.context.gl;this.tmp3x3.set(e),n.uniformMatrix3fv(this.getUniformLocation(t),!1,this.tmp3x3)},n.prototype.setUniform4x4f=function(t,e){var n=this.context.gl;this.tmp4x4.set(e),n.uniformMatrix4fv(this.getUniformLocation(t),!1,this.tmp4x4)},n.prototype.getUniformLocation=function(t){var e=this.context.gl,n=e.getUniformLocation(this.program,t);if(!n&&!e.isContextLost())throw new Error("Couldn't find location for uniform "+t);return n},n.prototype.getAttributeLocation=function(t){var e=this.context.gl,n=e.getAttribLocation(this.program,t);if(-1==n&&!e.isContextLost())throw new Error("Couldn't find location for attribute "+t);return n},n.prototype.dispose=function(){this.context.removeRestorable(this);var t=this.context.gl;this.vs&&(t.deleteShader(this.vs),this.vs=null),this.fs&&(t.deleteShader(this.fs),this.fs=null),this.program&&(t.deleteProgram(this.program),this.program=null)},n.newColoredTextured=function(t){return new n(t,"\n\t\t\t\tattribute vec4 "+n.POSITION+";\n\t\t\t\tattribute vec4 "+n.COLOR+";\n\t\t\t\tattribute vec2 "+n.TEXCOORDS+";\n\t\t\t\tuniform mat4 "+n.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_color;\n\t\t\t\tvarying vec2 v_texCoords;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_color = "+n.COLOR+";\n\t\t\t\t\tv_texCoords = "+n.TEXCOORDS+";\n\t\t\t\t\tgl_Position = "+n.MVP_MATRIX+" * "+n.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_color;\n\t\t\t\tvarying vec2 v_texCoords;\n\t\t\t\tuniform sampler2D u_texture;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tgl_FragColor = v_color * texture2D(u_texture, v_texCoords);\n\t\t\t\t}\n\t\t\t")},n.newTwoColoredTextured=function(t){return new n(t,"\n\t\t\t\tattribute vec4 "+n.POSITION+";\n\t\t\t\tattribute vec4 "+n.COLOR+";\n\t\t\t\tattribute vec4 "+n.COLOR2+";\n\t\t\t\tattribute vec2 "+n.TEXCOORDS+";\n\t\t\t\tuniform mat4 "+n.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_light;\n\t\t\t\tvarying vec4 v_dark;\n\t\t\t\tvarying vec2 v_texCoords;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_light = "+n.COLOR+";\n\t\t\t\t\tv_dark = "+n.COLOR2+";\n\t\t\t\t\tv_texCoords = "+n.TEXCOORDS+";\n\t\t\t\t\tgl_Position = "+n.MVP_MATRIX+" * "+n.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_light;\n\t\t\t\tvarying LOWP vec4 v_dark;\n\t\t\t\tvarying vec2 v_texCoords;\n\t\t\t\tuniform sampler2D u_texture;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tvec4 texColor = texture2D(u_texture, v_texCoords);\n\t\t\t\t\tgl_FragColor.a = texColor.a * v_light.a;\n\t\t\t\t\tgl_FragColor.rgb = ((texColor.a - 1.0) * v_dark.a + 1.0 - texColor.rgb) * v_dark.rgb + texColor.rgb * v_light.rgb;\n\t\t\t\t}\n\t\t\t")},n.newColored=function(t){return new n(t,"\n\t\t\t\tattribute vec4 "+n.POSITION+";\n\t\t\t\tattribute vec4 "+n.COLOR+";\n\t\t\t\tuniform mat4 "+n.MVP_MATRIX+";\n\t\t\t\tvarying vec4 v_color;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tv_color = "+n.COLOR+";\n\t\t\t\t\tgl_Position = "+n.MVP_MATRIX+" * "+n.POSITION+";\n\t\t\t\t}\n\t\t\t","\n\t\t\t\t#ifdef GL_ES\n\t\t\t\t\t#define LOWP lowp\n\t\t\t\t\tprecision mediump float;\n\t\t\t\t#else\n\t\t\t\t\t#define LOWP\n\t\t\t\t#endif\n\t\t\t\tvarying LOWP vec4 v_color;\n\n\t\t\t\tvoid main () {\n\t\t\t\t\tgl_FragColor = v_color;\n\t\t\t\t}\n\t\t\t")},n.MVP_MATRIX="u_projTrans",n.POSITION="a_position",n.COLOR="a_color",n.COLOR2="a_color2",n.TEXCOORDS="a_texCoords",n.SAMPLER="u_texture",e=n,i.Shader=e}(spine=spine||{}),function(f){var n,C,t,e;function i(t,e){if(void 0===e&&(e=10920),this.isDrawing=!1,this.shapeType=C.Filled,this.color=new f.Color(1,1,1,1),this.vertexIndex=0,this.tmp=new f.Vector2,10920<e)throw new Error("Can't have more than 10920 triangles per batch: "+e);this.context=t instanceof n.ManagedWebGLRenderingContext?t:new n.ManagedWebGLRenderingContext(t),this.mesh=new n.Mesh(t,[new n.Position2Attribute,new n.ColorAttribute],e,0),this.srcBlend=this.context.gl.SRC_ALPHA,this.dstBlend=this.context.gl.ONE_MINUS_SRC_ALPHA}n=f.webgl||(f.webgl={}),i.prototype.begin=function(t){if(this.isDrawing)throw new Error("ShapeRenderer.begin() has already been called");this.shader=t,this.vertexIndex=0,this.isDrawing=!0;var e=this.context.gl;e.enable(e.BLEND),e.blendFunc(this.srcBlend,this.dstBlend)},i.prototype.setBlendMode=function(t,e){var n=this.context.gl;this.srcBlend=t,this.dstBlend=e,this.isDrawing&&(this.flush(),n.blendFunc(this.srcBlend,this.dstBlend))},i.prototype.setColor=function(t){this.color.setFromColor(t)},i.prototype.setColorWith=function(t,e,n,i){this.color.set(t,e,n,i)},i.prototype.point=function(t,e,n){void 0===n&&(n=null),this.check(C.Point,1),null===n&&(n=this.color),this.vertex(t,e,n)},i.prototype.line=function(t,e,n,i,r){void 0===r&&(r=null),this.check(C.Line,2),this.mesh.getVertices(),this.vertexIndex,null===r&&(r=this.color),this.vertex(t,e,r),this.vertex(n,i,r)},i.prototype.triangle=function(t,e,n,i,r,s,a,o,h,l){void 0===o&&(o=null),void 0===h&&(h=null),void 0===l&&(l=null),this.check(t?C.Filled:C.Line,3),this.mesh.getVertices(),this.vertexIndex,null===o&&(o=this.color),null===h&&(h=this.color),null===l&&(l=this.color),t?(this.vertex(e,n,o),this.vertex(i,r,h),this.vertex(s,a,l)):(this.vertex(e,n,o),this.vertex(i,r,h),this.vertex(i,r,o),this.vertex(s,a,h),this.vertex(s,a,o),this.vertex(e,n,h))},i.prototype.quad=function(t,e,n,i,r,s,a,o,h,l,c,d,u){void 0===l&&(l=null),void 0===c&&(c=null),void 0===d&&(d=null),void 0===u&&(u=null),this.check(t?C.Filled:C.Line,3),this.mesh.getVertices(),this.vertexIndex,null===l&&(l=this.color),null===c&&(c=this.color),null===d&&(d=this.color),null===u&&(u=this.color),t?(this.vertex(e,n,l),this.vertex(i,r,c),this.vertex(s,a,d),this.vertex(s,a,d)):(this.vertex(e,n,l),this.vertex(i,r,c),this.vertex(i,r,c),this.vertex(s,a,d),this.vertex(s,a,d),this.vertex(o,h,u)),this.vertex(o,h,u),this.vertex(e,n,l)},i.prototype.rect=function(t,e,n,i,r,s){void 0===s&&(s=null),this.quad(t,e,n,e+i,n,e+i,n+r,e,n+r,s,s,s,s)},i.prototype.rectLine=function(t,e,n,i,r,s,a){void 0===a&&(a=null),this.check(t?C.Filled:C.Line,8),null===a&&(a=this.color);var o=this.tmp.set(r-n,e-i);o.normalize(),s*=.5;var h=o.x*s,l=o.y*s;t?(this.vertex(e+h,n+l,a),this.vertex(e-h,n-l,a),this.vertex(i+h,r+l,a),this.vertex(i-h,r-l,a),this.vertex(i+h,r+l,a)):(this.vertex(e+h,n+l,a),this.vertex(e-h,n-l,a),this.vertex(i+h,r+l,a),this.vertex(i-h,r-l,a),this.vertex(i+h,r+l,a),this.vertex(e+h,n+l,a),this.vertex(i-h,r-l,a)),this.vertex(e-h,n-l,a)},i.prototype.x=function(t,e,n){this.line(t-n,e-n,t+n,e+n),this.line(t-n,e+n,t+n,e-n)},i.prototype.polygon=function(t,e,n,i){if(void 0===i&&(i=null),n<3)throw new Error("Polygon must contain at least 3 vertices");this.check(C.Line,2*n),null===i&&(i=this.color),this.mesh.getVertices(),this.vertexIndex,n<<=1;for(var r=t[e<<=1],s=t[e+1],a=e+n,o=e,h=e+n-2;o<h;o+=2){var l=t[o],c=t[o+1],d=0,u=0,u=a<=o+2?(d=r,s):(d=t[o+2],t[o+3]);this.vertex(l,c,i),this.vertex(d,u,i)}},i.prototype.circle=function(t,e,n,i,r,s){if(void 0===r&&(r=null),void 0===s&&(s=0),0===s&&(s=Math.max(1,6*f.MathUtils.cbrt(i)|0)),s<=0)throw new Error("segments must be > 0.");null===r&&(r=this.color);var a=2*f.MathUtils.PI/s,o=Math.cos(a),h=Math.sin(a),l=i,c=0;if(t){for(this.check(C.Filled,3*s+3),s--,u=0;u<s;u++){this.vertex(e,n,r),this.vertex(e+l,n+c,r);var d=l;l=o*l-h*c,c=h*d+o*c,this.vertex(e+l,n+c,r)}this.vertex(e,n,r),this.vertex(e+l,n+c,r)}else{this.check(C.Line,2*s+2);for(var u=0;u<s;u++){this.vertex(e+l,n+c,r);var p=l,l=o*l-h*c,c=h*p+o*c;this.vertex(e+l,n+c,r)}this.vertex(e+l,n+c,r)}l=i,c=0,this.vertex(e+l,n+c,r)},i.prototype.curve=function(t,e,n,i,r,s,a,o,h,l){void 0===l&&(l=null),this.check(C.Line,2*h+2),null===l&&(l=this.color);for(var c=1/h,d=c*c,u=c*c*c,p=3*c,f=3*d,g=6*d,m=6*u,M=t-2*n+r,v=e-2*i+s,y=3*(n-r)-t+a,w=3*(i-s)-e+o,x=t,b=e,A=(n-t)*p+M*f+y*u,E=(i-e)*p+v*f+w*u,T=M*g+y*m,R=v*g+w*m,S=y*m,I=w*m;0<h--;)this.vertex(x,b,l),x+=A,b+=E,A+=T,E+=R,T+=S,R+=I,this.vertex(x,b,l);this.vertex(x,b,l),this.vertex(a,o,l)},i.prototype.vertex=function(t,e,n){var i=this.vertexIndex,r=this.mesh.getVertices();r[i++]=t,r[i++]=e,r[i++]=n.r,r[i++]=n.g,r[i++]=n.b,r[i++]=n.a,this.vertexIndex=i},i.prototype.end=function(){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");this.flush(),this.context.gl.disable(this.context.gl.BLEND),this.isDrawing=!1},i.prototype.flush=function(){0!=this.vertexIndex&&(this.mesh.setVerticesLength(this.vertexIndex),this.mesh.draw(this.shader,this.shapeType),this.vertexIndex=0)},i.prototype.check=function(t,e){if(!this.isDrawing)throw new Error("ShapeRenderer.begin() has not been called");if(this.shapeType==t){if(!(this.mesh.maxVertices()-this.mesh.numVertices()<e))return;this.flush()}else this.flush(),this.shapeType=t},i.prototype.dispose=function(){this.mesh.dispose()},e=i,n.ShapeRenderer=e,(t=C=n.ShapeType||(n.ShapeType={}))[t.Point=0]="Point",t[t.Line=1]="Line",t[t.Filled=4]="Filled"}(spine=spine||{}),function(Z){var e,t;function z(t){this.boneLineColor=new Z.Color(1,0,0,1),this.boneOriginColor=new Z.Color(0,1,0,1),this.attachmentLineColor=new Z.Color(0,0,1,.5),this.triangleLineColor=new Z.Color(1,.64,0,.5),this.pathColor=(new Z.Color).setFromString("FF7F00"),this.clipColor=new Z.Color(.8,0,0,2),this.aabbColor=new Z.Color(0,1,0,.5),this.drawBones=!0,this.drawRegionAttachments=!0,this.drawBoundingBoxes=!0,this.drawMeshHull=!0,this.drawMeshTriangles=!0,this.drawPaths=!0,this.drawSkeletonXY=!1,this.drawClipping=!0,this.premultipliedAlpha=!1,this.scale=1,this.boneWidth=2,this.bounds=new Z.SkeletonBounds,this.temp=new Array,this.vertices=Z.Utils.newFloatArray(2048),this.context=t instanceof e.ManagedWebGLRenderingContext?t:new e.ManagedWebGLRenderingContext(t)}e=Z.webgl||(Z.webgl={}),z.prototype.draw=function(t,e,n){void 0===n&&(n=null);var i=e.x,r=e.y,s=this.context.gl,a=this.premultipliedAlpha?s.ONE:s.SRC_ALPHA;t.setBlendMode(a,s.ONE_MINUS_SRC_ALPHA);var o=e.bones;if(this.drawBones){t.setColor(this.boneLineColor);for(var h=0,l=o.length;h<l;h++){var c=o[h];n&&-1<n.indexOf(c.data.name)||null!=c.parent&&(b=i+c.data.length*c.a+c.worldX,A=r+c.data.length*c.c+c.worldY,t.rectLine(!0,i+c.worldX,r+c.worldY,b,A,this.boneWidth*this.scale))}this.drawSkeletonXY&&t.x(i,r,4*this.scale)}if(this.drawRegionAttachments)for(t.setColor(this.attachmentLineColor),h=0,l=(B=e.slots).length;h<l;h++)(X=(U=B[h]).getAttachment())instanceof Z.RegionAttachment&&(u=this.vertices,X.computeWorldVertices(U.bone,u,0,2),t.line(u[0],u[1],u[2],u[3]),t.line(u[2],u[3],u[4],u[5]),t.line(u[4],u[5],u[6],u[7]),t.line(u[6],u[7],u[0],u[1]));if(this.drawMeshHull||this.drawMeshTriangles)for(h=0,l=(B=e.slots).length;h<l;h++)if((U=B[h]).bone.active&&(X=U.getAttachment())instanceof Z.MeshAttachment){var d=X,u=this.vertices;d.computeWorldVertices(U,0,d.worldVerticesLength,u,0,2);var p=d.triangles,f=d.hullLength;if(this.drawMeshTriangles){t.setColor(this.triangleLineColor);for(var g=0,m=p.length;g<m;g+=3){var M=2*p[g],v=2*p[g+1],y=2*p[g+2];t.triangle(!1,u[M],u[1+M],u[v],u[1+v],u[y],u[1+y])}}if(this.drawMeshHull&&0<f){t.setColor(this.attachmentLineColor);for(var w=u[(f=2*(f>>1))-2],x=u[f-1],g=0,m=f;g<m;g+=2){var b=u[g],A=u[g+1];t.line(b,A,w,x),w=b,x=A}}}if(this.drawBoundingBoxes){var E=this.bounds;E.update(e,!0),t.setColor(this.aabbColor),t.rect(!1,E.minX,E.minY,E.getWidth(),E.getHeight());for(var T=E.polygons,R=E.boundingBoxes,h=0,l=T.length;h<l;h++){var S=T[h];t.setColor(R[h].color),t.polygon(S,0,S.length)}}if(this.drawPaths)for(h=0,l=(B=e.slots).length;h<l;h++)if((U=B[h]).bone.active&&(X=U.getAttachment())instanceof Z.PathAttachment){var I=X,m=I.worldVerticesLength,C=this.temp=Z.Utils.setArraySize(this.temp,m,0);I.computeWorldVertices(U,0,m,C,0,2);var k=this.pathColor,V=C[2],P=C[3],L=0,O=0;for(I.closed&&(t.setColor(k),N=C[0],D=C[1],F=C[m-2],Y=C[m-1],L=C[m-4],O=C[m-3],t.curve(V,P,N,D,F,Y,L,O,32),t.setColor(z.LIGHT_GRAY),t.line(V,P,N,D),t.line(L,O,F,Y)),m-=4,g=4;g<m;g+=6){var N=C[g],D=C[g+1],F=C[g+2],Y=C[g+3];L=C[g+4],O=C[g+5],t.setColor(k),t.curve(V,P,N,D,F,Y,L,O,32),t.setColor(z.LIGHT_GRAY),t.line(V,P,N,D),t.line(L,O,F,Y),V=L,P=O}}if(this.drawBones)for(t.setColor(this.boneOriginColor),h=0,l=o.length;h<l;h++)c=o[h],n&&-1<n.indexOf(c.data.name)||t.circle(!0,i+c.worldX,r+c.worldY,3*this.scale,z.GREEN,8);if(this.drawClipping){var B=e.slots;t.setColor(this.clipColor);for(var U,X,h=0,l=B.length;h<l;h++)if((U=B[h]).bone.active&&(X=U.getAttachment())instanceof Z.ClippingAttachment){var W=X,m=W.worldVerticesLength,C=this.temp=Z.Utils.setArraySize(this.temp,m,0);W.computeWorldVertices(U,0,m,C,0,2);for(var _=0,G=C.length;_<G;_+=2)b=C[_],A=C[_+1],L=C[(_+2)%C.length],O=C[(_+3)%C.length],t.line(b,A,L,O)}}},z.prototype.dispose=function(){},z.LIGHT_GRAY=new Z.Color(192/255,192/255,192/255,1),z.GREEN=new Z.Color(0,1,0,1),t=z,e.SkeletonDebugRenderer=t}(spine=spine||{}),function(Z){var z,n,t;function j(t,e){void 0===e&&(e=!0),this.premultipliedAlpha=!1,this.vertexEffect=null,this.tempColor=new Z.Color,this.tempColor2=new Z.Color,this.vertexSize=8,this.twoColorTint=!1,this.renderable=new n(null,0,0),this.clipper=new Z.SkeletonClipping,this.temp=new Z.Vector2,this.temp2=new Z.Vector2,this.temp3=new Z.Color,this.temp4=new Z.Color,(this.twoColorTint=e)&&(this.vertexSize+=4),this.vertices=Z.Utils.newFloatArray(1024*this.vertexSize)}z=Z.webgl||(Z.webgl={}),n=function(t,e,n){this.vertices=t,this.numVertices=e,this.numFloats=n},j.prototype.draw=function(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=-1);var r=this.clipper,s=this.premultipliedAlpha,a=this.twoColorTint,o=null,h=this.temp,l=this.temp2,c=this.temp3,d=this.temp4,u=this.renderable,p=null,f=null,g=e.drawOrder,m=null,M=e.color,v=a?12:8,y=!1;-1==n&&(y=!0);for(var w=0,x=g.length;w<x;w++){var b=r.isClipping()?2:v,A=g[w];if(A.bone.active)if(0<=n&&n==A.data.index&&(y=!0),y){0<=i&&i==A.data.index&&(y=!1);var E=A.getAttachment(),T=null;if(E instanceof Z.RegionAttachment){var R=E;u.vertices=this.vertices,u.numVertices=4,u.numFloats=b<<2,R.computeWorldVertices(A.bone,u.vertices,0,b),f=j.QUAD_TRIANGLES,p=R.uvs,T=R.region.renderObject.texture,m=R.color}else{if(!(E instanceof Z.MeshAttachment)){if(E instanceof Z.ClippingAttachment){r.clipStart(A,E);continue}r.clipEndWithSlot(A);continue}var S=E;u.vertices=this.vertices,u.numVertices=S.worldVerticesLength>>1,u.numFloats=u.numVertices*b,u.numFloats>u.vertices.length&&(u.vertices=this.vertices=Z.Utils.newFloatArray(u.numFloats)),S.computeWorldVertices(A,0,S.worldVerticesLength,u.vertices,0,b),f=S.triangles,T=S.region.renderObject.texture,p=S.uvs,m=S.color}if(null!=T){var I=A.color,C=this.tempColor;C.r=M.r*I.r*m.r,C.g=M.g*I.g*m.g,C.b=M.b*I.b*m.b,C.a=M.a*I.a*m.a,s&&(C.r*=C.a,C.g*=C.a,C.b*=C.a);var k=this.tempColor2;null==A.darkColor?k.set(0,0,0,1):(s?(k.r=A.darkColor.r*C.a,k.g=A.darkColor.g*C.a,k.b=A.darkColor.b*C.a):k.setFromColor(A.darkColor),k.a=s?1:0);var V=A.data.blendMode;if(V!=o&&(o=V,t.setBlendMode(z.WebGLBlendModeConverter.getSourceGLBlendMode(o,s),z.WebGLBlendModeConverter.getDestGLBlendMode(o))),r.isClipping()){r.clipTriangles(u.vertices,u.numFloats,f,f.length,p,C,k,a);var P=new Float32Array(r.clippedVertices),L=r.clippedTriangles;if(null!=this.vertexEffect){var O=this.vertexEffect,N=P;if(a)for(var D=0,F=P.length;D<F;D+=v)h.x=N[D],h.y=N[D+1],c.set(N[D+2],N[D+3],N[D+4],N[D+5]),l.x=N[D+6],l.y=N[D+7],d.set(N[D+8],N[D+9],N[D+10],N[D+11]),O.transform(h,l,c,d),N[D]=h.x,N[D+1]=h.y,N[D+2]=c.r,N[D+3]=c.g,N[D+4]=c.b,N[D+5]=c.a,N[D+6]=l.x,N[D+7]=l.y,N[D+8]=d.r,N[D+9]=d.g,N[D+10]=d.b,N[D+11]=d.a;else for(var D=0,Y=P.length;D<Y;D+=v)h.x=N[D],h.y=N[D+1],c.set(N[D+2],N[D+3],N[D+4],N[D+5]),l.x=N[D+6],l.y=N[D+7],d.set(0,0,0,0),O.transform(h,l,c,d),N[D]=h.x,N[D+1]=h.y,N[D+2]=c.r,N[D+3]=c.g,N[D+4]=c.b,N[D+5]=c.a,N[D+6]=l.x,N[D+7]=l.y}t.draw(T,P,L)}else{if(N=u.vertices,null!=this.vertexEffect)if(O=this.vertexEffect,a)for(var D=0,B=0,U=u.numFloats;D<U;D+=v,B+=2)h.x=N[D],h.y=N[D+1],l.x=p[B],l.y=p[B+1],c.setFromColor(C),d.setFromColor(k),O.transform(h,l,c,d),N[D]=h.x,N[D+1]=h.y,N[D+2]=c.r,N[D+3]=c.g,N[D+4]=c.b,N[D+5]=c.a,N[D+6]=l.x,N[D+7]=l.y,N[D+8]=d.r,N[D+9]=d.g,N[D+10]=d.b,N[D+11]=d.a;else for(var D=0,B=0,X=u.numFloats;D<X;D+=v,B+=2)h.x=N[D],h.y=N[D+1],l.x=p[B],l.y=p[B+1],c.setFromColor(C),d.set(0,0,0,0),O.transform(h,l,c,d),N[D]=h.x,N[D+1]=h.y,N[D+2]=c.r,N[D+3]=c.g,N[D+4]=c.b,N[D+5]=c.a,N[D+6]=l.x,N[D+7]=l.y;else if(a)for(var D=2,B=0,W=u.numFloats;D<W;D+=v,B+=2)N[D]=C.r,N[D+1]=C.g,N[D+2]=C.b,N[D+3]=C.a,N[D+4]=p[B],N[D+5]=p[B+1],N[D+6]=k.r,N[D+7]=k.g,N[D+8]=k.b,N[D+9]=k.a;else for(var D=2,B=0,_=u.numFloats;D<_;D+=v,B+=2)N[D]=C.r,N[D+1]=C.g,N[D+2]=C.b,N[D+3]=C.a,N[D+4]=p[B],N[D+5]=p[B+1];var G=u.vertices.subarray(0,u.numFloats);t.draw(T,G,f)}}r.clipEndWithSlot(A)}else r.clipEndWithSlot(A);else r.clipEndWithSlot(A)}r.clipEnd()},j.QUAD_TRIANGLES=[0,1,2,2,3,0],t=j,z.SkeletonRenderer=t}(spine=spine||{}),function(t){var i,e;function n(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=n}i=t.webgl||(t.webgl={}),n.prototype.setFrom=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},n.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this},n.prototype.scale=function(t){return this.x*=t,this.y*=t,this.z*=t,this},n.prototype.normalize=function(){var t=this.length();return 0==t||(t=1/t,this.x*=t,this.y*=t,this.z*=t),this},n.prototype.cross=function(t){return this.set(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},n.prototype.multiply=function(t){var e=t.values;return this.set(this.x*e[i.M00]+this.y*e[i.M01]+this.z*e[i.M02]+e[i.M03],this.x*e[i.M10]+this.y*e[i.M11]+this.z*e[i.M12]+e[i.M13],this.x*e[i.M20]+this.y*e[i.M21]+this.z*e[i.M22]+e[i.M23])},n.prototype.project=function(t){var e=t.values,n=1/(this.x*e[i.M30]+this.y*e[i.M31]+this.z*e[i.M32]+e[i.M33]);return this.set((this.x*e[i.M00]+this.y*e[i.M01]+this.z*e[i.M02]+e[i.M03])*n,(this.x*e[i.M10]+this.y*e[i.M11]+this.z*e[i.M12]+e[i.M13])*n,(this.x*e[i.M20]+this.y*e[i.M21]+this.z*e[i.M22]+e[i.M23])*n)},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},n.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},n.prototype.distance=function(t){var e=t.x-this.x,n=t.y-this.y,i=t.z-this.z;return Math.sqrt(e*e+n*n+i*i)},e=n,i.Vector3=e}(spine=spine||{}),function(s){!function(t){var e=(n.prototype.addRestorable=function(t){this.restorables.push(t)},n.prototype.removeRestorable=function(t){var e=this.restorables.indexOf(t);-1<e&&this.restorables.splice(e,1)},n);function n(t,e){void 0===e&&(e={alpha:"true"});var n,i=this;this.restorables=new Array,t instanceof HTMLCanvasElement?(n=t,this.gl=n.getContext("webgl",e)||n.getContext("experimental-webgl",e),(this.canvas=n).addEventListener("webglcontextlost",function(t){t&&t.preventDefault()}),n.addEventListener("webglcontextrestored",function(t){for(var e=0,n=i.restorables.length;e<n;e++)i.restorables[e].restore()})):(this.gl=t,this.canvas=this.gl.canvas)}t.ManagedWebGLRenderingContext=e;var i=(r.getDestGLBlendMode=function(t){switch(t){case s.BlendMode.Normal:return r.ONE_MINUS_SRC_ALPHA;case s.BlendMode.Additive:return r.ONE;case s.BlendMode.Multiply:case s.BlendMode.Screen:return r.ONE_MINUS_SRC_ALPHA;default:throw new Error("Unknown blend mode: "+t)}},r.getSourceGLBlendMode=function(t,e){switch(void 0===e&&(e=!1),t){case s.BlendMode.Normal:case s.BlendMode.Additive:return e?r.ONE:r.SRC_ALPHA;case s.BlendMode.Multiply:return r.DST_COLOR;case s.BlendMode.Screen:return r.ONE;default:throw new Error("Unknown blend mode: "+t)}},r.ZERO=0,r.ONE=1,r.SRC_COLOR=768,r.ONE_MINUS_SRC_COLOR=769,r.SRC_ALPHA=770,r.ONE_MINUS_SRC_ALPHA=771,r.DST_ALPHA=772,r.ONE_MINUS_DST_ALPHA=773,r.DST_COLOR=774,r);function r(){}t.WebGLBlendModeConverter=i}(s.webgl||(s.webgl={}))}(spine=spine||{}),function(A){var a=(t.prototype.show=function(e){var i=this;this.dom.classList.remove("spine-player-hidden");var r=!1,s=function(){r||requestAnimationFrame(s);var t=Math.abs(i.dom.getBoundingClientRect().bottom-i.player.getBoundingClientRect().bottom),e=Math.abs(i.dom.getBoundingClientRect().right-i.player.getBoundingClientRect().right),n=i.player.clientHeight-t-e;i.dom.style.maxHeight=n+"px"};requestAnimationFrame(s);var n=!0,a=function(t){n?n=!1:function(t,e){if(t===e)return 1;var r=function(t,e){for(var n=0;n<t.children.length;n++){var i=t.children[n];if(i===e)return!0;if(r(i,e))return!0}return!1};return r(t,e)}(i.dom,t.target)||(i.dom.remove(),window.removeEventListener("click",a),e(),r=!0)};window.addEventListener("click",a)},t);function t(t,e,n){this.player=t,this.dom=g('\n\t\t\t\t<div class="spine-player-popup spine-player-hidden">\n\t\t\t\t</div>\n\t\t\t'),this.dom.innerHTML=n,e.appendChild(this.dom)}var o=(e.prototype.render=function(){var t=this;return this.switch=g('\n\t\t\t\t<div class="spine-player-switch">\n\t\t\t\t\t<span class="spine-player-switch-text">'+this.text+'</span>\n\t\t\t\t\t<div class="spine-player-switch-knob-area">\n\t\t\t\t\t\t<div class="spine-player-switch-knob"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),this.switch.addEventListener("click",function(){t.setEnabled(!t.enabled),t.change&&t.change(t.enabled)}),this.switch},e.prototype.setEnabled=function(t){t?this.switch.classList.add("active"):this.switch.classList.remove("active"),this.enabled=t},e.prototype.isEnabled=function(){return this.enabled},e);function e(t){this.text=t,this.enabled=!1}var p=(n.prototype.render=function(){var i=this;this.slider=g('\n\t\t\t\t<div class="spine-player-slider '+(this.big?"big":"")+'">\n\t\t\t\t\t<div class="spine-player-slider-value"></div>\n\t\t\t\t\t\x3c!--<div class="spine-player-slider-knob"></div>--\x3e\n\t\t\t\t</div>\n\t\t\t'),this.value=m(this.slider,"spine-player-slider-value")[0],this.setValue(0);var t=new A.webgl.Input(this.slider),r=!1;return t.addListener({down:function(t,e){r=!0,i.value.classList.add("hovering")},up:function(t,e){r=!1;var n=t/i.slider.clientWidth,n=Math.max(0,Math.min(n,1));i.setValue(t/i.slider.clientWidth),i.change&&i.change(n),i.value.classList.remove("hovering")},moved:function(t,e){var n;r&&(n=t/i.slider.clientWidth,n=Math.max(0,Math.min(n,1)),n=i.setValue(t/i.slider.clientWidth),i.change&&i.change(n))},dragged:function(t,e){var n=t/i.slider.clientWidth,n=Math.max(0,Math.min(n,1));n=i.setValue(t/i.slider.clientWidth),i.change&&i.change(n)}}),this.slider},n.prototype.setValue=function(t){var e;return t=Math.max(0,Math.min(1,t)),0<this.snaps&&((e=t%(1/this.snaps))<1/this.snaps*this.snapPercentage?t-=e:e>1/this.snaps-1/this.snaps*this.snapPercentage&&(t=t-e+1/this.snaps),t=Math.max(0,Math.min(1,t))),this.value.style.width=100*t+"%",t},n);function n(t,e,n){void 0===t&&(t=0),void 0===e&&(e=.1),void 0===n&&(n=!1),this.snaps=t,this.snapPercentage=e,this.big=n}var i=(E.prototype.validateConfig=function(t){if(!t)throw new Error("Please pass a configuration to new.spine.SpinePlayer().");if(!t.jsonUrl&&!t.skelUrl)throw new Error("Please specify the URL of the skeleton JSON or .skel file.");if(!t.atlasUrl)throw new Error("Please specify the URL of the atlas file.");if(t.alpha||(t.alpha=!1),t.backgroundColor||(t.backgroundColor="#000000"),t.fullScreenBackgroundColor||(t.fullScreenBackgroundColor=t.backgroundColor),void 0===t.premultipliedAlpha&&(t.premultipliedAlpha=!0),t.success||(t.success=function(t){}),t.error||(t.error=function(t,e){}),t.debug||(t.debug={bones:!1,regions:!1,meshes:!1,bounds:!1,clipping:!1,paths:!1,points:!1,hulls:!1}),void 0===t.debug.bones&&(t.debug.bones=!1),void 0===t.debug.bounds&&(t.debug.bounds=!1),void 0===t.debug.clipping&&(t.debug.clipping=!1),void 0===t.debug.hulls&&(t.debug.hulls=!1),void 0===t.debug.paths&&(t.debug.paths=!1),void 0===t.debug.points&&(t.debug.points=!1),void 0===t.debug.regions&&(t.debug.regions=!1),void 0===t.debug.meshes&&(t.debug.meshes=!1),t.animations&&t.animation&&t.animations.indexOf(t.animation)<0)throw new Error("Default animation '"+t.animation+"' is not contained in the list of selectable animations "+h(JSON.stringify(this.config.animations))+".");if(t.skins&&t.skin&&t.skins.indexOf(t.skin)<0)throw new Error("Default skin '"+t.skin+"' is not contained in the list of selectable skins "+h(JSON.stringify(this.config.skins))+".");return t.controlBones||(t.controlBones=[]),void 0===t.showControls&&(t.showControls=!0),void 0===t.defaultMix&&(t.defaultMix=.25),t},E.prototype.showError=function(t){var e=m(this.dom,"spine-player-error")[0];e.classList.remove("spine-player-hidden"),e.innerHTML='<p style="text-align: center; align-self: center;">'+t+"</p>",this.config.error(this,t)},E.prototype.render=function(){var i=this,t=this.config,r=this.dom=g('\n\t\t\t\t<div class="spine-player">\n\t\t\t\t\t<canvas class="spine-player-canvas"></canvas>\n\t\t\t\t\t<div class="spine-player-error spine-player-hidden"></div>\n\t\t\t\t\t<div class="spine-player-controls spine-player-popup-parent spine-player-controls-hidden">\n\t\t\t\t\t\t<div class="spine-player-timeline">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="spine-player-buttons">\n\t\t\t\t\t\t\t<button id="spine-player-button-play-pause" class="spine-player-button spine-player-button-icon-pause"></button>\n\t\t\t\t\t\t\t<div class="spine-player-button-spacer"></div>\n\t\t\t\t\t\t\t<button id="spine-player-button-speed" class="spine-player-button spine-player-button-icon-speed"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-animation" class="spine-player-button spine-player-button-icon-animations"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-skin" class="spine-player-button spine-player-button-icon-skins"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-settings" class="spine-player-button spine-player-button-icon-settings"></button>\n\t\t\t\t\t\t\t<button id="spine-player-button-fullscreen" class="spine-player-button spine-player-button-icon-fullscreen"></button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');try{this.config=this.validateConfig(t)}catch(t){return this.showError(t),r}try{this.canvas=m(r,"spine-player-canvas")[0];var e={alpha:t.alpha};this.context=new A.webgl.ManagedWebGLRenderingContext(this.canvas,e),this.sceneRenderer=new A.webgl.SceneRenderer(this.canvas,this.context,!0),this.loadingScreen=new A.webgl.LoadingScreen(this.sceneRenderer)}catch(t){return this.showError("Sorry, your browser does not support WebGL.<br><br>Please use the latest version of Firefox, Chrome, Edge, or Safari."),r}this.assetManager=new A.webgl.AssetManager(this.context),t.jsonUrl?this.assetManager.loadText(t.jsonUrl):this.assetManager.loadBinary(t.skelUrl),this.assetManager.loadTextureAtlas(t.atlasUrl),t.backgroundImage&&t.backgroundImage.url&&this.assetManager.loadTexture(t.backgroundImage.url),requestAnimationFrame(function(){return i.drawFrame()}),this.playerControls=m(r,"spine-player-controls")[0];var n=m(r,"spine-player-timeline")[0];this.timelineSlider=new p,n.appendChild(this.timelineSlider.render()),this.playButton=f(r,"spine-player-button-play-pause")[0];var s=f(r,"spine-player-button-speed")[0];this.animationButton=f(r,"spine-player-button-animation")[0],this.skinButton=f(r,"spine-player-button-skin")[0];var a=f(r,"spine-player-button-settings")[0],o=f(r,"spine-player-button-fullscreen")[0];f(r,"spine-player-button-logo")[0],this.playButton.onclick=function(){i.paused?i.play():i.pause()},s.onclick=function(){i.showSpeedDialog(s)},this.animationButton.onclick=function(){i.showAnimationsDialog(i.animationButton)},this.skinButton.onclick=function(){i.showSkinsDialog(i.skinButton)},a.onclick=function(){i.showSettingsDialog(a)};var h=this.canvas.clientWidth,l=this.canvas.clientHeight,c=this.canvas.style.width,d=this.canvas.style.height,u=!1;return o.onclick=function(){function t(){(u=!u)||(i.canvas.style.width=h+"px",i.canvas.style.height=l+"px",i.drawFrame(!1),requestAnimationFrame(function(){i.canvas.style.width=c,i.canvas.style.height=d}))}var e,n=document;r.onfullscreenchange=t,r.onwebkitfullscreenchange=t,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement?n.exitFullscreen?n.exitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen?n.webkitExitFullscreen():n.msExitFullscreen&&n.msExitFullscreen():(h=i.canvas.clientWidth,l=i.canvas.clientHeight,c=i.canvas.style.width,d=i.canvas.style.height,(e=r).requestFullscreen?e.requestFullscreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen())},window.onresize=function(){i.drawFrame(!1)},r},E.prototype.showSpeedDialog=function(t){var e=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Speed"==m(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void t.classList.remove("spine-player-button-icon-speed-selected");var n=new a(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Speed</div>\n\t\t\t\t<hr>\n\t\t\t\t<div class="spine-player-row" style="user-select: none; align-items: center; padding: 8px;">\n\t\t\t\t\t<div class="spine-player-column">\n\t\t\t\t\t\t<div class="spine-player-speed-slider" style="margin-bottom: 4px;"></div>\n\t\t\t\t\t\t<div class="spine-player-row" style="justify-content: space-between;">\n\t\t\t\t\t\t\t<div>0.1x</div>\n\t\t\t\t\t\t\t<div>1x</div>\n\t\t\t\t\t\t\t<div>2x</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),i=m(n.dom,"spine-player-speed-slider")[0],r=new p(2,.1,!0);i.appendChild(r.render()),r.setValue(this.speed/2),r.change=function(t){e.speed=2*t},t.classList.add("spine-player-button-icon-speed-selected"),n.show(function(){t.classList.remove("spine-player-button-icon-speed-selected"),n.dom.remove(),e.lastPopup=null}),this.lastPopup=n},E.prototype.showAnimationsDialog=function(t){var e,n,i=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Animations"==m(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void t.classList.remove("spine-player-button-icon-animations-selected");this.skeleton&&0!=this.skeleton.data.animations.length&&(e=new a(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Animations</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list"></ul>\n\t\t\t'),n=m(e.dom,"spine-player-list")[0],this.skeleton.data.animations.forEach(function(t){var e;i.config.animations&&i.config.animations.indexOf(t.name)<0||(e=g('\n\t\t\t\t\t<li class="spine-player-list-item selectable">\n\t\t\t\t\t\t<div class="selectable-circle">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selectable-text">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t'),t.name==i.config.animation&&e.classList.add("selected"),m(e,"selectable-text")[0].innerText=t.name,n.appendChild(e),e.onclick=function(){r(n.children,"selected"),e.classList.add("selected"),i.config.animation=t.name,i.playTime=0,i.setAnimation(t.name)})}),t.classList.add("spine-player-button-icon-animations-selected"),e.show(function(){t.classList.remove("spine-player-button-icon-animations-selected"),e.dom.remove(),i.lastPopup=null}),this.lastPopup=e)},E.prototype.showSkinsDialog=function(t){var e,n,i=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Skins"==m(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void t.classList.remove("spine-player-button-icon-skins-selected");this.skeleton&&0!=this.skeleton.data.animations.length&&(e=new a(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Skins</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list"></ul>\n\t\t\t'),n=m(e.dom,"spine-player-list")[0],this.skeleton.data.skins.forEach(function(t){var e;i.config.skins&&i.config.skins.indexOf(t.name)<0||(e=g('\n\t\t\t\t\t<li class="spine-player-list-item selectable">\n\t\t\t\t\t\t<div class="selectable-circle">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="selectable-text">\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</li>\n\t\t\t\t'),t.name==i.config.skin&&e.classList.add("selected"),m(e,"selectable-text")[0].innerText=t.name,n.appendChild(e),e.onclick=function(){r(n.children,"selected"),e.classList.add("selected"),i.config.skin=t.name,i.skeleton.setSkinByName(i.config.skin),i.skeleton.setSlotsToSetupPose()})}),t.classList.add("spine-player-button-icon-skins-selected"),e.show(function(){t.classList.remove("spine-player-button-icon-skins-selected"),e.dom.remove(),i.lastPopup=null}),this.lastPopup=e)},E.prototype.showSettingsDialog=function(t){var e,r,n,s=this;if(this.lastPopup&&this.lastPopup.dom.remove(),this.lastPopup&&"Debug"==m(this.lastPopup.dom,"spine-player-popup-title")[0].textContent)return this.lastPopup=null,void t.classList.remove("spine-player-button-icon-settings-selected");this.skeleton&&0!=this.skeleton.data.animations.length&&(e=new a(this.dom,this.playerControls,'\n\t\t\t\t<div class="spine-player-popup-title">Debug</div>\n\t\t\t\t<hr>\n\t\t\t\t<ul class="spine-player-list">\n\t\t\t\t</li>\n\t\t\t'),r=m(e.dom,"spine-player-list")[0],(n=function(t,e){var n=g('<li class="spine-player-list-item"></li>'),i=new o(t);n.appendChild(i.render()),i.setEnabled(s.config.debug[e]),i.change=function(t){s.config.debug[e]=t},r.appendChild(n)})("Bones","bones"),n("Regions","regions"),n("Meshes","meshes"),n("Bounds","bounds"),n("Paths","paths"),n("Clipping","clipping"),n("Points","points"),n("Hulls","hulls"),t.classList.add("spine-player-button-icon-settings-selected"),e.show(function(){t.classList.remove("spine-player-button-icon-settings-selected"),e.dom.remove(),s.lastPopup=null}),this.lastPopup=e)},E.prototype.drawFrame=function(t){var e=this;void 0===t&&(t=!0),t&&requestAnimationFrame(function(){return e.drawFrame()});var n=this.context.gl,i=document,r=i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement,s=(new A.Color).setFromString(r?this.config.fullScreenBackgroundColor:this.config.backgroundColor);if(n.clearColor(s.r,s.g,s.b,s.a),n.clear(n.COLOR_BUFFER_BIT),this.loadingScreen.backgroundColor.setFromColor(s),this.loadingScreen.draw(this.assetManager.isLoadingComplete()),this.assetManager.isLoadingComplete()&&null==this.skeleton&&this.loadSkeleton(),this.sceneRenderer.resize(A.webgl.ResizeMode.Expand),this.loaded){if(!this.paused&&this.config.animation){this.time.update();var a=this.time.delta*this.speed,o=this.animationState.getCurrent(0).animation.duration;for(this.playTime+=a;this.playTime>=o&&0!=o;)this.playTime-=o;this.playTime=Math.max(0,Math.min(this.playTime,o)),this.timelineSlider.setValue(this.playTime/o),this.animationState.update(a),this.animationState.apply(this.skeleton)}this.skeleton.updateWorldTransform();var h,l,c,d,u={x:this.currentViewport.x-this.currentViewport.padLeft,y:this.currentViewport.y-this.currentViewport.padBottom,width:this.currentViewport.width+this.currentViewport.padLeft+this.currentViewport.padRight,height:this.currentViewport.height+this.currentViewport.padBottom+this.currentViewport.padTop},p=(performance.now()-this.viewportTransitionStart)/1e3/this.config.viewport.transitionTime;this.previousViewport&&p<1&&(h=this.previousViewport.x-this.previousViewport.padLeft,l=this.previousViewport.y-this.previousViewport.padBottom,c=this.previousViewport.width+this.previousViewport.padLeft+this.previousViewport.padRight,d=this.previousViewport.height+this.previousViewport.padBottom+this.previousViewport.padTop,u={x:h+(u.x-h)*p,y:l+(u.y-l)*p,width:c+(u.width-c)*p,height:d+(u.height-d)*p});var f,g=this.scale(u.width,u.height,this.canvas.width,this.canvas.height);this.sceneRenderer.camera.zoom=u.width/g.x,this.sceneRenderer.camera.position.x=u.x+u.width/2,this.sceneRenderer.camera.position.y=u.y+u.height/2,this.sceneRenderer.begin(),this.config.backgroundImage&&this.config.backgroundImage.url&&(f=this.assetManager.get(this.config.backgroundImage.url),this.config.backgroundImage.x?this.sceneRenderer.drawTexture(f,this.config.backgroundImage.x,this.config.backgroundImage.y,this.config.backgroundImage.width,this.config.backgroundImage.height):this.sceneRenderer.drawTexture(f,u.x,u.y,u.width,u.height)),this.sceneRenderer.drawSkeleton(this.skeleton,this.config.premultipliedAlpha),this.sceneRenderer.skeletonDebugRenderer.drawBones=this.config.debug.bones,this.sceneRenderer.skeletonDebugRenderer.drawBoundingBoxes=this.config.debug.bounds,this.sceneRenderer.skeletonDebugRenderer.drawClipping=this.config.debug.clipping,this.sceneRenderer.skeletonDebugRenderer.drawMeshHull=this.config.debug.hulls,this.sceneRenderer.skeletonDebugRenderer.drawPaths=this.config.debug.paths,this.sceneRenderer.skeletonDebugRenderer.drawRegionAttachments=this.config.debug.regions,this.sceneRenderer.skeletonDebugRenderer.drawMeshTriangles=this.config.debug.meshes,this.sceneRenderer.drawSkeletonDebug(this.skeleton,this.config.premultipliedAlpha);var m=this.config.controlBones,M=this.selectedBones,v=this.skeleton;n.lineWidth(2);for(var y=0;y<m.length;y++){var w,x,b=v.findBone(m[y]);b&&(w=null!==M[y]?E.HOVER_COLOR_INNER:E.NON_HOVER_COLOR_INNER,x=null!==M[y]?E.HOVER_COLOR_OUTER:E.NON_HOVER_COLOR_OUTER,this.sceneRenderer.circle(!0,v.x+b.worldX,v.y+b.worldY,20,w),this.sceneRenderer.circle(!1,v.x+b.worldX,v.y+b.worldY,20,x))}n.lineWidth(1),this.config.viewport.debugRender&&(this.sceneRenderer.rect(!1,this.currentViewport.x,this.currentViewport.y,this.currentViewport.width,this.currentViewport.height,A.Color.GREEN),this.sceneRenderer.rect(!1,u.x,u.y,u.width,u.height,A.Color.RED)),this.sceneRenderer.end(),this.sceneRenderer.camera.zoom=0}},E.prototype.scale=function(t,e,n,i){var r=e/t<i/n?n/t:i/e,s=new A.Vector2;return s.x=t*r,s.y=e*r,s},E.prototype.loadSkeleton=function(){var n=this;if(!this.loaded)if(this.assetManager.hasErrors())this.showError("Error: assets could not be loaded.<br><br>"+h(JSON.stringify(this.assetManager.getErrors())));else{var e,t=this.assetManager.get(this.config.atlasUrl);if(this.config.jsonUrl){var i=this.assetManager.get(this.config.jsonUrl),r=new A.SkeletonJson(new A.AtlasAttachmentLoader(t));try{e=r.readSkeletonData(i)}catch(t){return void this.showError("Error: could not load skeleton .json.<br><br>"+h(JSON.stringify(t)))}}else{var s=this.assetManager.get(this.config.skelUrl),a=new A.SkeletonBinary(new A.AtlasAttachmentLoader(t));try{e=a.readSkeletonData(s)}catch(t){return void this.showError("Error: could not load skeleton .skel.<br><br>"+h(JSON.stringify(t)))}}this.skeleton=new A.Skeleton(e);var o=new A.AnimationStateData(e);if(o.defaultMix=this.config.defaultMix,this.animationState=new A.AnimationState(o),this.config.controlBones&&this.config.controlBones.forEach(function(t){e.findBone(t)||n.showError("Error: control bone '"+t+"' does not exist in skeleton.")}),this.config.skin||(1<e.skins.length?this.config.skin=e.skins[1].name:this.config.skin=e.skins[0].name),this.config.skins&&0<this.config.skin.length&&this.config.skins.forEach(function(t){n.skeleton.data.findSkin(t)||n.showError("Error: skin '"+t+"' in selectable skin list does not exist in skeleton.")}),this.config.skin){if(!this.skeleton.data.findSkin(this.config.skin))return void this.showError("Error: skin '"+this.config.skin+"' does not exist in skeleton.");this.skeleton.setSkinByName(this.config.skin),this.skeleton.setSlotsToSetupPose()}if(this.config.viewport||(this.config.viewport={animations:{},debugRender:!1,transitionTime:.2}),void 0===this.config.viewport.debugRender&&(this.config.viewport.debugRender=!1),void 0===this.config.viewport.transitionTime&&(this.config.viewport.transitionTime=.2),this.config.viewport.animations?Object.getOwnPropertyNames(this.config.viewport.animations).forEach(function(t){e.findAnimation(t)||n.showError("Error: animation '"+t+"' for which a viewport was specified does not exist in skeleton.")}):this.config.viewport.animations={},this.config.animations&&0<this.config.animations.length&&(this.config.animations.forEach(function(t){n.skeleton.data.findAnimation(t)||n.showError("Error: animation '"+t+"' in selectable animation list does not exist in skeleton.")}),this.config.animation||(this.config.animation=this.config.animations[0])),this.config.animation||0<e.animations.length&&(this.config.animation=e.animations[0].name),this.config.animation){if(!e.findAnimation(this.config.animation))return void this.showError("Error: animation '"+this.config.animation+"' does not exist in skeleton.");this.play(),this.timelineSlider.change=function(t){n.pause();var e=n.animationState.getCurrent(0).animation.duration*t;n.animationState.update(e-n.playTime),n.animationState.apply(n.skeleton),n.skeleton.updateWorldTransform(),n.playTime=e}}this.setupInput(),(1==e.skins.length||this.config.skins&&1==this.config.skins.length)&&this.skinButton.classList.add("spine-player-hidden"),(1==e.animations.length||this.config.animations&&1==this.config.animations.length)&&this.animationButton.classList.add("spine-player-hidden"),this.config.success(this),this.loaded=!0}},E.prototype.setupInput=function(){var i=this,r=this.config.controlBones,s=this.selectedBones=new Array(this.config.controlBones.length),a=this.canvas,t=new A.webgl.Input(a),o=null,h=new A.webgl.Vector3,l=new A.webgl.Vector3,n=new A.Vector2,c=this.skeleton,d=this.sceneRenderer;t.addListener({down:function(t,e){for(var n=0;n<r.length;n++){var i=c.findBone(r[n]);i&&(d.camera.screenToWorld(h.set(t,e,0),a.width,a.height),l.set(c.x+i.worldX,c.y+i.worldY,0).distance(h)<30&&(o=i))}},up:function(t,e){if(o)o=null;else{if(!i.config.showControls)return;i.paused?i.play():i.pause()}},dragged:function(t,e){null!=o&&(d.camera.screenToWorld(h.set(t,e,0),a.width,a.height),null!==o.parent?(o.parent.worldToLocal(n.set(h.x-c.x,h.y-c.y)),o.x=n.x,o.y=n.y):(o.x=h.x-c.x,o.y=h.y-c.y))},moved:function(t,e){for(var n=0;n<r.length;n++){var i=c.findBone(r[n]);i&&(d.camera.screenToWorld(h.set(t,e,0),a.width,a.height),l.set(c.x+i.worldX,c.y+i.worldY,0).distance(h)<30?s[n]=i:s[n]=null)}}});var u=!0,p=!1;document.addEventListener("mousemove",function(t){t instanceof MouseEvent&&f(t.clientX,t.clientY)}),document.addEventListener("touchmove",function(t){var e,n;t instanceof TouchEvent&&0<(e=t.changedTouches).length&&(n=e[0],f(n.clientX,n.clientY))});var f=function(t,e){var n;i.config.showControls&&(n=m(i.dom,"spine-player-popup"),u=g(t,e,i.playerControls.getBoundingClientRect()),p=g(t,e,i.canvas.getBoundingClientRect()),clearTimeout(i.cancelId),0!=n.length||u||p||i.paused?i.playerControls.classList.remove("spine-player-controls-hidden"):i.playerControls.classList.add("spine-player-controls-hidden"),u||0!=n.length||i.paused||(i.cancelId=setTimeout(function(){i.paused||i.playerControls.classList.add("spine-player-controls-hidden")},1e3)))},g=function(t,e,n){var i=t-n.left,r=e-n.top;return 0<=i&&i<=n.width&&0<=r&&r<=n.height}},E.prototype.play=function(){var t=this;this.paused=!1,this.cancelId=setTimeout(function(){t.paused||t.playerControls.classList.add("spine-player-controls-hidden")},1e3),this.playButton.classList.remove("spine-player-button-icon-play"),this.playButton.classList.add("spine-player-button-icon-pause"),this.config.animation&&(this.animationState.getCurrent(0)||this.setAnimation(this.config.animation))},E.prototype.pause=function(){this.paused=!0,this.playerControls.classList.remove("spine-player-controls-hidden"),clearTimeout(this.cancelId),this.playButton.classList.remove("spine-player-button-icon-pause"),this.playButton.classList.add("spine-player-button-icon-play")},E.prototype.setAnimation=function(t){this.previousViewport=this.currentViewport;var e=this.calculateAnimationViewport(t),n={x:e.x,y:e.y,width:e.width,height:e.height,padLeft:"10%",padRight:"10%",padTop:"10%",padBottom:"10%"},i=this.config.viewport;void 0!==i.x&&void 0!==i.y&&void 0!==i.width&&void 0!==i.height&&(n.x=i.x,n.y=i.y,n.width=i.width,n.height=i.height),void 0!==i.padLeft&&(n.padLeft=i.padLeft),void 0!==i.padRight&&(n.padRight=i.padRight),void 0!==i.padTop&&(n.padTop=i.padTop),void 0!==i.padBottom&&(n.padBottom=i.padBottom);var r=this.config.viewport.animations[t];r&&(void 0!==r.x&&void 0!==r.y&&void 0!==r.width&&void 0!==r.height&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),void 0!==r.padLeft&&(n.padLeft=r.padLeft),void 0!==r.padRight&&(n.padRight=r.padRight),void 0!==r.padTop&&(n.padTop=r.padTop),void 0!==r.padBottom&&(n.padBottom=r.padBottom)),n.padLeft=this.percentageToWorldUnit(n.width,n.padLeft),n.padRight=this.percentageToWorldUnit(n.width,n.padRight),n.padBottom=this.percentageToWorldUnit(n.height,n.padBottom),n.padTop=this.percentageToWorldUnit(n.height,n.padTop),this.currentViewport=n,this.viewportTransitionStart=performance.now(),this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimation(0,t,!0)},E.prototype.percentageToWorldUnit=function(t,e){return"string"==typeof e?t*parseFloat(e.substr(0,e.length-1))/100:e},E.prototype.calculateAnimationViewport=function(t){var e=this.skeleton.data.findAnimation(t);this.animationState.clearTracks(),this.skeleton.setToSetupPose(),this.animationState.setAnimationWith(0,e,!0);for(var n=0<e.duration?e.duration/100:0,i=1e8,r=-1e8,s=1e8,a=-1e8,o=new A.Vector2,h=new A.Vector2,l=0;l<100;l++)this.animationState.update(n),this.animationState.apply(this.skeleton),this.skeleton.updateWorldTransform(),this.skeleton.getBounds(o,h),i=Math.min(o.x,i),r=Math.max(o.x+h.x,r),s=Math.min(o.y,s),a=Math.max(o.y+h.y,a);return o.x=i,o.y=s,h.x=r-i,h.y=a-s,{x:o.x,y:o.y,width:h.x,height:h.y}},E.HOVER_COLOR_INNER=new A.Color(.478,0,0,.25),E.HOVER_COLOR_OUTER=new A.Color(1,1,1,1),E.NON_HOVER_COLOR_INNER=new A.Color(.478,0,0,.5),E.NON_HOVER_COLOR_OUTER=new A.Color(1,0,0,.8),E);function E(t,e){this.config=e,this.time=new A.TimeKeeper,this.paused=!0,this.playTime=0,this.speed=1,this.animationViewports={},this.currentViewport=null,this.previousViewport=null,this.viewportTransitionStart=0,this.cancelId=0,this.parent="string"==typeof t?document.getElementById(t):t,this.parent.appendChild(this.render())}function f(t,e){var n=new Array,s=function(t,e,n){for(var i=0;i<t.children.length;i++){var r=t.children[i];r.id===e&&n.push(r),s(r,e,n)}};return s(t,e,n),n}function m(t,e){var n=new Array,s=function(t,e,n){for(var i=0;i<t.children.length;i++){var r=t.children[i];r.classList.contains(e)&&n.push(r),s(r,e,n)}};return s(t,e,n),n}function g(t){var e=document.createElement("div");return e.innerHTML=t,e.children[0]}function r(t,e){for(var n=0;n<t.length;n++)t[n].classList.remove(e)}function h(t){return t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&#34;").replace(/'/g,"&#39;"):""}A.SpinePlayer=i}(spine=spine||{}),function(t){var e=(i.prototype.render=function(t){var e=this;t.innerHTML='\n\t\t\t\t<div class="spine-player-editor-container">\n\t\t\t\t\t<div class="spine-player-editor-code"></div>\n\t\t\t\t\t<iframe class="spine-player-editor-player"></iframe>\n\t\t\t\t</div>\n\t\t\t';var n=t.getElementsByClassName("spine-player-editor-code")[0];this.player=t.getElementsByClassName("spine-player-editor-player")[0],requestAnimationFrame(function(){e.code=CodeMirror(n,{lineNumbers:!0,tabSize:3,indentUnit:3,indentWithTabs:!0,scrollBarStyle:"native",mode:"htmlmixed",theme:"monokai"}),e.code.on("change",function(){e.startPlayer()}),e.setCode(i.DEFAULT_CODE)})},i.prototype.setPreAndPostfix=function(t,e){this.prefix=t,this.postfix=e,this.startPlayer()},i.prototype.setCode=function(t){this.code.setValue(t),this.startPlayer()},i.prototype.startPlayer=function(){var e=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){var t=e.code.getDoc().getValue(),t=e.prefix+t+e.postfix;t=window.btoa(t),e.player.src="",e.player.src="data:text/html;base64,"+t},500)},i.DEFAULT_CODE='\n<script src="https://esotericsoftware.com/files/spine-player/3.7/spine-player.js"><\/script>\n<link rel="stylesheet" href="https://esotericsoftware.com/files/spine-player/3.7/spine-player.css">\n\n<div id="player-container" style="width: 100%; height: 100vh;"></div>\n\n<script>\nnew spine.SpinePlayer("player-container", {\n\tjsonUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pro.json",\n\tatlasUrl: "https://esotericsoftware.com/files/examples/spineboy/export/spineboy-pma.atlas"\n});\n<\/script>\n\t\t'.trim(),i);function i(t){this.prefix="<html>\n<head>\n<style>\nbody {\n\tmargin: 0px;\n}\n</style>\n</head>\n<body>".trim(),this.postfix="</body>",this.timerId=0,this.render(t)}t.SpinePlayerEditor=e}(spine=spine||{});